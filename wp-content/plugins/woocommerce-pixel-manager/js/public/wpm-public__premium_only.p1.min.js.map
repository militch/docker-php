{"version":3,"file":"wpm-public__premium_only.p1.min.js","mappings":"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,yBACA,sBACA,wBACA,wBACA,mBACA,mBACA,kBACA,iBACA,mBACA,oBACA,oBACA,mBACA,kBACA,oBACA,kBACA,mBACA,mBACA,mBACA,iBACA,mBACA,iBACA,iBACA,iBACA,kBACA,kBACA,oBACA,iBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,iBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,iBACA,mBACA,mBACA,kBACA,kBACA,iBACA,kBACA,kBACA,iBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,iBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,iBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,iBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,iBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,iBACA,kBACA,kBACA,kBACA,iBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,iBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,iBACA,mBACA,kBACA,kBACA,kBACA,iBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,mBAGgB,CAChB,iBACA,kBACA,kBACA,iBACA,iBACA,iBACA,kBACA,kBACA,kBACA,kBACA,gBACA,kBACA,gBACA,gBACA,kBACA,kBACA,kBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,kBACA,iBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,gBACA,kBACA,kBACA,kBACA,kBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,iBACA,kBACA,iBACA,mBACA,mBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,mBACA,kBACA,kBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,mBACA,kBACA,mBACA,kBACA,mBACA,mBACA,mBACA,iBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,mBACA,mBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,mBACA,mBACA,mBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,mBACA,mBACA,mBACA,kBACA,mBACA,kBACA,kBACA,kBACA,kBACA,kBACA,iBACA,iBACA,iBACA,iBACA,kBACA,iBACA,mBACA,iBACA,sBACA,sBACA,mBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,iBACA,iBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,mBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,iBACA,iBACA,mBACA,mBACA,mBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,sBACA,sBACA,sBACA,mBACA,mBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,mBACA,mBACA,sBACA,sBACA,sBACA,sBACA,oBACA,mBACA,oBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,oBACA,oBACA,oBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,oBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,oBACA,yBACA,kBAGe,CACf,kBACA,kBACA,mBAGY,CACZ,iBACA,iBACA,iBACA,iBACA,iBACA,kBACA,iBACA,kBACA,mBACA,kBACA,qBACA,kBACA,kBACA,mBACA,mBACA,kBACA,mBACA,iBACA,mBACA,iBACA,iBACA,iBACA,iBACA,iBACA,kBAGiB,CACjB,gBACA,gBACA,gBACA,gBACA,iBACA,iBACA,iBACA,mBAGc,CACd,eACA,iBACA,iBAGa,CACb,kBACA,kBAGc,CACd,iBACA,eAGa,CACb,iBACA,kBACA,mBACA,kBACA,kBACA,kBACA,gBACA,gBACA,gBACA,kBACA,mBACA,kBACA,kBACA,oBACA,oBACA,kBACA,mBACA,mBACA,mBACA,mBACA,iBACA,kBACA,mBACA,mBACA,mBAGkB,CAClB,gBACA,eACA,gBACA,cACA,eACA,gBACA,eACA,gBACA,gBACA,eACA,gBACA,iBAGa,CACb,iBACA,eACA,iBACA,iBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,iBACA,iBACA,iBACA,iBACA,iBACA,gBACA,cACA,eACA,eACA,eACA,eACA,eACA,gBACA,eACA,gBACA,kBACA,iBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,iBACA,iBACA,iBACA,mBACA,kBAGc,CACd,iBACA,gBACA,kBACA,gBACA,gBACA,gBACA,gBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,oBACA,kBACA,kBACA,iBACA,kBACA,iBACA,mBACA,qBACA,iBACA,kBACA,mBACA,mBACA,mBACA,mBACA,cACA,eACA,iBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,gBACA,iBACA,kBACA,kBACA,iBACA,iBACA,iBACA,iBACA,qBACA,qBACA,qBACA,qBAGa,CACb,mBACA,mBACA,mBACA,gBACA,gBACA,iBAGc,CACd,oBACA,qBAyBA43B,EACA,CAGF,CAvnCA,CAunCCzpB,OAAO9B,IAAM8B,OAAO9B,KAAO,CAAC,EAAGR,O,WChmCjC8qB,GAAGC,MAAMkB,UACR,iDACA,iCACAxoB,IAKCjD,IAAIwf,iBAAiBvc,EAAK6C,QAAQxC,GAAI,EAAE,IAO1CgnB,GAAGC,MAAMkB,UACR,0DACA,iCACAxoB,IAGKA,EAAKsD,SAAWtD,EAAK6C,QAAQS,UAChCvG,IAAIwf,iBAAiBvc,EAAK6C,QAAQxC,GAAIL,EAAKsD,SAAWtD,EAAK6C,QAAQS,UAGhEtD,EAAKsD,SAAWtD,EAAK6C,QAAQS,UAChCvG,IAAI0d,sBAAsBza,EAAK6C,QAAQxC,GAAIL,EAAK6C,QAAQS,SAAWtD,EAAKsD,SACzE,IAOF+jB,GAAGC,MAAMkB,UACR,oDACA,iCACAxoB,IAECjD,IAAI0d,sBAAsBza,EAAK6C,QAAQxC,GAAIL,EAAKsD,SAAS,IAO3D+jB,GAAGC,MAAMkB,UACR,mDACA,iCACA,KAECjsB,OAAOC,UAAUgI,QAAQ,gBAAiB,CAAC,EAAE,G,GC7E3CikB,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB3vB,IAAjB4vB,EACH,OAAOA,EAAa38B,QAGrB,IAAIkG,EAASs2B,EAAyBE,GAAY,CAGjD18B,QAAS,CAAC,GAOX,OAHA48B,EAAoBF,GAAU1yB,KAAK9D,EAAOlG,QAASkG,EAAQA,EAAOlG,QAASy8B,GAGpEv2B,EAAOlG,OACf,CCrBAy8B,EAAoB/uB,EAAI,CAAC1N,EAAS68B,KACjC,IAAI,IAAIhkB,KAAOgkB,EACXJ,EAAoBva,EAAE2a,EAAYhkB,KAAS4jB,EAAoBva,EAAEliB,EAAS6Y,IAC5EpX,OAAOgK,eAAezL,EAAS6Y,EAAK,CAAEnX,YAAY,EAAMC,IAAKk7B,EAAWhkB,IAE1E,ECND4jB,EAAoBK,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO52B,MAAQ,IAAI62B,SAAS,cAAb,EAGhB,CAFE,MAAO1qB,GACR,GAAsB,iBAAXM,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxB6pB,EAAoBva,EAAI,CAACyP,EAAKsL,IAAUx7B,OAAO2F,UAAU81B,eAAelzB,KAAK2nB,EAAKsL,GCClFR,EAAoBta,EAAKniB,IACH,oBAAXm9B,QAA0BA,OAAOC,aAC1C37B,OAAOgK,eAAezL,EAASm9B,OAAOC,YAAa,CAAEp0B,MAAO,WAE7DvH,OAAOgK,eAAezL,EAAS,aAAc,CAAEgJ,OAAO,GAAO,ECFjD0K,WAEZqF,EAAQ,YAGFjI,IAAIkqB,qBAEJlqB,IAAIoqB,qBAMVniB,EAAQ,MAGRzI,OAAOC,UAAUC,GAAG,aAAa,KAChCuI,EAAQ,KAAiC,IAI1CA,EAAQ,MAERjI,IAAIwqB,uBAGJxqB,IAAI4pB,oBAIA5pB,IAAIwpB,8BAGRvhB,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MAMJjI,IAAIkI,2BACPD,EAAQ,MACRA,EAAQ,MACRA,EAAQ,IACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MAKTxI,SAASyc,cAAc,IAAIC,MAAM,qBAGjC1c,SAASyc,cAAc,IAAIC,MAAM,kBAG3Bnc,IAAIuoB,aACVvoB,IAAIiqB,uBAAsB,EAG3BsC,E","sources":["webpack://Pixel-Manager-for-WooCommerce/../../src/index.ts","webpack://Pixel-Manager-for-WooCommerce/../../src/ipRange.ts","webpack://Pixel-Manager-for-WooCommerce/../../src/ipv4.ts","webpack://Pixel-Manager-for-WooCommerce/../../src/ipv6.ts","webpack://Pixel-Manager-for-WooCommerce/../../src/util.ts","webpack://Pixel-Manager-for-WooCommerce/../node_modules/ipaddr.js/lib/ipaddr.js","webpack://Pixel-Manager-for-WooCommerce/../node_modules/ip6/ip6.js","webpack://Pixel-Manager-for-WooCommerce/../src/range-check.ts","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/facebook/event_listeners.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/facebook/event_listeners_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/facebook/functions.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/facebook/functions_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/facebook/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/ads/event_listeners.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/ads/functions.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/ads/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/analytics/ga3/event_listeners.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/analytics/ga3/event_listeners_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/analytics/ga3/functions.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/analytics/ga3/functions_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/analytics/ga3/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/analytics/ga4/event_listeners.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/analytics/ga4/event_listeners_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/analytics/ga4/functions.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/analytics/ga4/functions_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/analytics/ga4/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/analytics/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/base/event_listeners.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/base/event_listeners_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/base/functions.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/base/functions_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/base/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/optimize/event_listeners.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/optimize/functions.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/google/optimize/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/hotjar/event_listeners.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/hotjar/functions.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/hotjar/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/microsoft-ads/event_listeners_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/microsoft-ads/functions_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/microsoft-ads/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/pinterest/event_listeners_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/pinterest/functions_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/pinterest/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/snapchat/event_listeners_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/snapchat/functions_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/snapchat/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/tiktok/event_listeners_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/tiktok/functions_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/tiktok/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/twitter/event_listeners_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/twitter/functions_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/twitter/loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/wpm/cookie_consent.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/wpm/event_listeners.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/wpm/event_listeners_on_ready.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/wpm/event_listeners_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/wpm/functions.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/wpm/functions_loader.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/wpm/functions_main.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/wpm/functions_premium.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/wpm/ip_check.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/wpm/wc_hooks.js","webpack://Pixel-Manager-for-WooCommerce/webpack/bootstrap","webpack://Pixel-Manager-for-WooCommerce/webpack/runtime/define property getters","webpack://Pixel-Manager-for-WooCommerce/webpack/runtime/global","webpack://Pixel-Manager-for-WooCommerce/webpack/runtime/hasOwnProperty shorthand","webpack://Pixel-Manager-for-WooCommerce/webpack/runtime/make namespace object","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/main.js"],"sourcesContent":[null,null,null,null,null,"(function() {\n  var expandIPv6, ipaddr, ipv4Part, ipv4Regexes, ipv6Part, ipv6Regexes, matchCIDR, root, zoneIndex;\n\n  ipaddr = {};\n\n  root = this;\n\n  if ((typeof module !== \"undefined\" && module !== null) && module.exports) {\n    module.exports = ipaddr;\n  } else {\n    root['ipaddr'] = ipaddr;\n  }\n\n  matchCIDR = function(first, second, partSize, cidrBits) {\n    var part, shift;\n    if (first.length !== second.length) {\n      throw new Error(\"ipaddr: cannot match CIDR for objects with different lengths\");\n    }\n    part = 0;\n    while (cidrBits > 0) {\n      shift = partSize - cidrBits;\n      if (shift < 0) {\n        shift = 0;\n      }\n      if (first[part] >> shift !== second[part] >> shift) {\n        return false;\n      }\n      cidrBits -= partSize;\n      part += 1;\n    }\n    return true;\n  };\n\n  ipaddr.subnetMatch = function(address, rangeList, defaultName) {\n    var k, len, rangeName, rangeSubnets, subnet;\n    if (defaultName == null) {\n      defaultName = 'unicast';\n    }\n    for (rangeName in rangeList) {\n      rangeSubnets = rangeList[rangeName];\n      if (rangeSubnets[0] && !(rangeSubnets[0] instanceof Array)) {\n        rangeSubnets = [rangeSubnets];\n      }\n      for (k = 0, len = rangeSubnets.length; k < len; k++) {\n        subnet = rangeSubnets[k];\n        if (address.kind() === subnet[0].kind()) {\n          if (address.match.apply(address, subnet)) {\n            return rangeName;\n          }\n        }\n      }\n    }\n    return defaultName;\n  };\n\n  ipaddr.IPv4 = (function() {\n    function IPv4(octets) {\n      var k, len, octet;\n      if (octets.length !== 4) {\n        throw new Error(\"ipaddr: ipv4 octet count should be 4\");\n      }\n      for (k = 0, len = octets.length; k < len; k++) {\n        octet = octets[k];\n        if (!((0 <= octet && octet <= 255))) {\n          throw new Error(\"ipaddr: ipv4 octet should fit in 8 bits\");\n        }\n      }\n      this.octets = octets;\n    }\n\n    IPv4.prototype.kind = function() {\n      return 'ipv4';\n    };\n\n    IPv4.prototype.toString = function() {\n      return this.octets.join(\".\");\n    };\n\n    IPv4.prototype.toNormalizedString = function() {\n      return this.toString();\n    };\n\n    IPv4.prototype.toByteArray = function() {\n      return this.octets.slice(0);\n    };\n\n    IPv4.prototype.match = function(other, cidrRange) {\n      var ref;\n      if (cidrRange === void 0) {\n        ref = other, other = ref[0], cidrRange = ref[1];\n      }\n      if (other.kind() !== 'ipv4') {\n        throw new Error(\"ipaddr: cannot match ipv4 address with non-ipv4 one\");\n      }\n      return matchCIDR(this.octets, other.octets, 8, cidrRange);\n    };\n\n    IPv4.prototype.SpecialRanges = {\n      unspecified: [[new IPv4([0, 0, 0, 0]), 8]],\n      broadcast: [[new IPv4([255, 255, 255, 255]), 32]],\n      multicast: [[new IPv4([224, 0, 0, 0]), 4]],\n      linkLocal: [[new IPv4([169, 254, 0, 0]), 16]],\n      loopback: [[new IPv4([127, 0, 0, 0]), 8]],\n      carrierGradeNat: [[new IPv4([100, 64, 0, 0]), 10]],\n      \"private\": [[new IPv4([10, 0, 0, 0]), 8], [new IPv4([172, 16, 0, 0]), 12], [new IPv4([192, 168, 0, 0]), 16]],\n      reserved: [[new IPv4([192, 0, 0, 0]), 24], [new IPv4([192, 0, 2, 0]), 24], [new IPv4([192, 88, 99, 0]), 24], [new IPv4([198, 51, 100, 0]), 24], [new IPv4([203, 0, 113, 0]), 24], [new IPv4([240, 0, 0, 0]), 4]]\n    };\n\n    IPv4.prototype.range = function() {\n      return ipaddr.subnetMatch(this, this.SpecialRanges);\n    };\n\n    IPv4.prototype.toIPv4MappedAddress = function() {\n      return ipaddr.IPv6.parse(\"::ffff:\" + (this.toString()));\n    };\n\n    IPv4.prototype.prefixLengthFromSubnetMask = function() {\n      var cidr, i, k, octet, stop, zeros, zerotable;\n      zerotable = {\n        0: 8,\n        128: 7,\n        192: 6,\n        224: 5,\n        240: 4,\n        248: 3,\n        252: 2,\n        254: 1,\n        255: 0\n      };\n      cidr = 0;\n      stop = false;\n      for (i = k = 3; k >= 0; i = k += -1) {\n        octet = this.octets[i];\n        if (octet in zerotable) {\n          zeros = zerotable[octet];\n          if (stop && zeros !== 0) {\n            return null;\n          }\n          if (zeros !== 8) {\n            stop = true;\n          }\n          cidr += zeros;\n        } else {\n          return null;\n        }\n      }\n      return 32 - cidr;\n    };\n\n    return IPv4;\n\n  })();\n\n  ipv4Part = \"(0?\\\\d+|0x[a-f0-9]+)\";\n\n  ipv4Regexes = {\n    fourOctet: new RegExp(\"^\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"$\", 'i'),\n    longValue: new RegExp(\"^\" + ipv4Part + \"$\", 'i')\n  };\n\n  ipaddr.IPv4.parser = function(string) {\n    var match, parseIntAuto, part, shift, value;\n    parseIntAuto = function(string) {\n      if (string[0] === \"0\" && string[1] !== \"x\") {\n        return parseInt(string, 8);\n      } else {\n        return parseInt(string);\n      }\n    };\n    if (match = string.match(ipv4Regexes.fourOctet)) {\n      return (function() {\n        var k, len, ref, results;\n        ref = match.slice(1, 6);\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(parseIntAuto(part));\n        }\n        return results;\n      })();\n    } else if (match = string.match(ipv4Regexes.longValue)) {\n      value = parseIntAuto(match[1]);\n      if (value > 0xffffffff || value < 0) {\n        throw new Error(\"ipaddr: address outside defined range\");\n      }\n      return ((function() {\n        var k, results;\n        results = [];\n        for (shift = k = 0; k <= 24; shift = k += 8) {\n          results.push((value >> shift) & 0xff);\n        }\n        return results;\n      })()).reverse();\n    } else {\n      return null;\n    }\n  };\n\n  ipaddr.IPv6 = (function() {\n    function IPv6(parts, zoneId) {\n      var i, k, l, len, part, ref;\n      if (parts.length === 16) {\n        this.parts = [];\n        for (i = k = 0; k <= 14; i = k += 2) {\n          this.parts.push((parts[i] << 8) | parts[i + 1]);\n        }\n      } else if (parts.length === 8) {\n        this.parts = parts;\n      } else {\n        throw new Error(\"ipaddr: ipv6 part count should be 8 or 16\");\n      }\n      ref = this.parts;\n      for (l = 0, len = ref.length; l < len; l++) {\n        part = ref[l];\n        if (!((0 <= part && part <= 0xffff))) {\n          throw new Error(\"ipaddr: ipv6 part should fit in 16 bits\");\n        }\n      }\n      if (zoneId) {\n        this.zoneId = zoneId;\n      }\n    }\n\n    IPv6.prototype.kind = function() {\n      return 'ipv6';\n    };\n\n    IPv6.prototype.toString = function() {\n      return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/, '::');\n    };\n\n    IPv6.prototype.toRFC5952String = function() {\n      var bestMatchIndex, bestMatchLength, match, regex, string;\n      regex = /((^|:)(0(:|$)){2,})/g;\n      string = this.toNormalizedString();\n      bestMatchIndex = 0;\n      bestMatchLength = -1;\n      while ((match = regex.exec(string))) {\n        if (match[0].length > bestMatchLength) {\n          bestMatchIndex = match.index;\n          bestMatchLength = match[0].length;\n        }\n      }\n      if (bestMatchLength < 0) {\n        return string;\n      }\n      return string.substring(0, bestMatchIndex) + '::' + string.substring(bestMatchIndex + bestMatchLength);\n    };\n\n    IPv6.prototype.toByteArray = function() {\n      var bytes, k, len, part, ref;\n      bytes = [];\n      ref = this.parts;\n      for (k = 0, len = ref.length; k < len; k++) {\n        part = ref[k];\n        bytes.push(part >> 8);\n        bytes.push(part & 0xff);\n      }\n      return bytes;\n    };\n\n    IPv6.prototype.toNormalizedString = function() {\n      var addr, part, suffix;\n      addr = ((function() {\n        var k, len, ref, results;\n        ref = this.parts;\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(part.toString(16));\n        }\n        return results;\n      }).call(this)).join(\":\");\n      suffix = '';\n      if (this.zoneId) {\n        suffix = '%' + this.zoneId;\n      }\n      return addr + suffix;\n    };\n\n    IPv6.prototype.toFixedLengthString = function() {\n      var addr, part, suffix;\n      addr = ((function() {\n        var k, len, ref, results;\n        ref = this.parts;\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(part.toString(16).padStart(4, '0'));\n        }\n        return results;\n      }).call(this)).join(\":\");\n      suffix = '';\n      if (this.zoneId) {\n        suffix = '%' + this.zoneId;\n      }\n      return addr + suffix;\n    };\n\n    IPv6.prototype.match = function(other, cidrRange) {\n      var ref;\n      if (cidrRange === void 0) {\n        ref = other, other = ref[0], cidrRange = ref[1];\n      }\n      if (other.kind() !== 'ipv6') {\n        throw new Error(\"ipaddr: cannot match ipv6 address with non-ipv6 one\");\n      }\n      return matchCIDR(this.parts, other.parts, 16, cidrRange);\n    };\n\n    IPv6.prototype.SpecialRanges = {\n      unspecified: [new IPv6([0, 0, 0, 0, 0, 0, 0, 0]), 128],\n      linkLocal: [new IPv6([0xfe80, 0, 0, 0, 0, 0, 0, 0]), 10],\n      multicast: [new IPv6([0xff00, 0, 0, 0, 0, 0, 0, 0]), 8],\n      loopback: [new IPv6([0, 0, 0, 0, 0, 0, 0, 1]), 128],\n      uniqueLocal: [new IPv6([0xfc00, 0, 0, 0, 0, 0, 0, 0]), 7],\n      ipv4Mapped: [new IPv6([0, 0, 0, 0, 0, 0xffff, 0, 0]), 96],\n      rfc6145: [new IPv6([0, 0, 0, 0, 0xffff, 0, 0, 0]), 96],\n      rfc6052: [new IPv6([0x64, 0xff9b, 0, 0, 0, 0, 0, 0]), 96],\n      '6to4': [new IPv6([0x2002, 0, 0, 0, 0, 0, 0, 0]), 16],\n      teredo: [new IPv6([0x2001, 0, 0, 0, 0, 0, 0, 0]), 32],\n      reserved: [[new IPv6([0x2001, 0xdb8, 0, 0, 0, 0, 0, 0]), 32]]\n    };\n\n    IPv6.prototype.range = function() {\n      return ipaddr.subnetMatch(this, this.SpecialRanges);\n    };\n\n    IPv6.prototype.isIPv4MappedAddress = function() {\n      return this.range() === 'ipv4Mapped';\n    };\n\n    IPv6.prototype.toIPv4Address = function() {\n      var high, low, ref;\n      if (!this.isIPv4MappedAddress()) {\n        throw new Error(\"ipaddr: trying to convert a generic ipv6 address to ipv4\");\n      }\n      ref = this.parts.slice(-2), high = ref[0], low = ref[1];\n      return new ipaddr.IPv4([high >> 8, high & 0xff, low >> 8, low & 0xff]);\n    };\n\n    IPv6.prototype.prefixLengthFromSubnetMask = function() {\n      var cidr, i, k, part, stop, zeros, zerotable;\n      zerotable = {\n        0: 16,\n        32768: 15,\n        49152: 14,\n        57344: 13,\n        61440: 12,\n        63488: 11,\n        64512: 10,\n        65024: 9,\n        65280: 8,\n        65408: 7,\n        65472: 6,\n        65504: 5,\n        65520: 4,\n        65528: 3,\n        65532: 2,\n        65534: 1,\n        65535: 0\n      };\n      cidr = 0;\n      stop = false;\n      for (i = k = 7; k >= 0; i = k += -1) {\n        part = this.parts[i];\n        if (part in zerotable) {\n          zeros = zerotable[part];\n          if (stop && zeros !== 0) {\n            return null;\n          }\n          if (zeros !== 16) {\n            stop = true;\n          }\n          cidr += zeros;\n        } else {\n          return null;\n        }\n      }\n      return 128 - cidr;\n    };\n\n    return IPv6;\n\n  })();\n\n  ipv6Part = \"(?:[0-9a-f]+::?)+\";\n\n  zoneIndex = \"%[0-9a-z]{1,}\";\n\n  ipv6Regexes = {\n    zoneIndex: new RegExp(zoneIndex, 'i'),\n    \"native\": new RegExp(\"^(::)?(\" + ipv6Part + \")?([0-9a-f]+)?(::)?(\" + zoneIndex + \")?$\", 'i'),\n    transitional: new RegExp((\"^((?:\" + ipv6Part + \")|(?:::)(?:\" + ipv6Part + \")?)\") + (ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part) + (\"(\" + zoneIndex + \")?$\"), 'i')\n  };\n\n  expandIPv6 = function(string, parts) {\n    var colonCount, lastColon, part, replacement, replacementCount, zoneId;\n    if (string.indexOf('::') !== string.lastIndexOf('::')) {\n      return null;\n    }\n    zoneId = (string.match(ipv6Regexes['zoneIndex']) || [])[0];\n    if (zoneId) {\n      zoneId = zoneId.substring(1);\n      string = string.replace(/%.+$/, '');\n    }\n    colonCount = 0;\n    lastColon = -1;\n    while ((lastColon = string.indexOf(':', lastColon + 1)) >= 0) {\n      colonCount++;\n    }\n    if (string.substr(0, 2) === '::') {\n      colonCount--;\n    }\n    if (string.substr(-2, 2) === '::') {\n      colonCount--;\n    }\n    if (colonCount > parts) {\n      return null;\n    }\n    replacementCount = parts - colonCount;\n    replacement = ':';\n    while (replacementCount--) {\n      replacement += '0:';\n    }\n    string = string.replace('::', replacement);\n    if (string[0] === ':') {\n      string = string.slice(1);\n    }\n    if (string[string.length - 1] === ':') {\n      string = string.slice(0, -1);\n    }\n    parts = (function() {\n      var k, len, ref, results;\n      ref = string.split(\":\");\n      results = [];\n      for (k = 0, len = ref.length; k < len; k++) {\n        part = ref[k];\n        results.push(parseInt(part, 16));\n      }\n      return results;\n    })();\n    return {\n      parts: parts,\n      zoneId: zoneId\n    };\n  };\n\n  ipaddr.IPv6.parser = function(string) {\n    var addr, k, len, match, octet, octets, zoneId;\n    if (ipv6Regexes['native'].test(string)) {\n      return expandIPv6(string, 8);\n    } else if (match = string.match(ipv6Regexes['transitional'])) {\n      zoneId = match[6] || '';\n      addr = expandIPv6(match[1].slice(0, -1) + zoneId, 6);\n      if (addr.parts) {\n        octets = [parseInt(match[2]), parseInt(match[3]), parseInt(match[4]), parseInt(match[5])];\n        for (k = 0, len = octets.length; k < len; k++) {\n          octet = octets[k];\n          if (!((0 <= octet && octet <= 255))) {\n            return null;\n          }\n        }\n        addr.parts.push(octets[0] << 8 | octets[1]);\n        addr.parts.push(octets[2] << 8 | octets[3]);\n        return {\n          parts: addr.parts,\n          zoneId: addr.zoneId\n        };\n      }\n    }\n    return null;\n  };\n\n  ipaddr.IPv4.isIPv4 = ipaddr.IPv6.isIPv6 = function(string) {\n    return this.parser(string) !== null;\n  };\n\n  ipaddr.IPv4.isValid = function(string) {\n    var e;\n    try {\n      new this(this.parser(string));\n      return true;\n    } catch (error1) {\n      e = error1;\n      return false;\n    }\n  };\n\n  ipaddr.IPv4.isValidFourPartDecimal = function(string) {\n    if (ipaddr.IPv4.isValid(string) && string.match(/^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){3}$/)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  ipaddr.IPv6.isValid = function(string) {\n    var addr, e;\n    if (typeof string === \"string\" && string.indexOf(\":\") === -1) {\n      return false;\n    }\n    try {\n      addr = this.parser(string);\n      new this(addr.parts, addr.zoneId);\n      return true;\n    } catch (error1) {\n      e = error1;\n      return false;\n    }\n  };\n\n  ipaddr.IPv4.parse = function(string) {\n    var parts;\n    parts = this.parser(string);\n    if (parts === null) {\n      throw new Error(\"ipaddr: string is not formatted like ip address\");\n    }\n    return new this(parts);\n  };\n\n  ipaddr.IPv6.parse = function(string) {\n    var addr;\n    addr = this.parser(string);\n    if (addr.parts === null) {\n      throw new Error(\"ipaddr: string is not formatted like ip address\");\n    }\n    return new this(addr.parts, addr.zoneId);\n  };\n\n  ipaddr.IPv4.parseCIDR = function(string) {\n    var maskLength, match, parsed;\n    if (match = string.match(/^(.+)\\/(\\d+)$/)) {\n      maskLength = parseInt(match[2]);\n      if (maskLength >= 0 && maskLength <= 32) {\n        parsed = [this.parse(match[1]), maskLength];\n        Object.defineProperty(parsed, 'toString', {\n          value: function() {\n            return this.join('/');\n          }\n        });\n        return parsed;\n      }\n    }\n    throw new Error(\"ipaddr: string is not formatted like an IPv4 CIDR range\");\n  };\n\n  ipaddr.IPv4.subnetMaskFromPrefixLength = function(prefix) {\n    var filledOctetCount, j, octets;\n    prefix = parseInt(prefix);\n    if (prefix < 0 || prefix > 32) {\n      throw new Error('ipaddr: invalid IPv4 prefix length');\n    }\n    octets = [0, 0, 0, 0];\n    j = 0;\n    filledOctetCount = Math.floor(prefix / 8);\n    while (j < filledOctetCount) {\n      octets[j] = 255;\n      j++;\n    }\n    if (filledOctetCount < 4) {\n      octets[filledOctetCount] = Math.pow(2, prefix % 8) - 1 << 8 - (prefix % 8);\n    }\n    return new this(octets);\n  };\n\n  ipaddr.IPv4.broadcastAddressFromCIDR = function(string) {\n    var cidr, error, i, ipInterfaceOctets, octets, subnetMaskOctets;\n    try {\n      cidr = this.parseCIDR(string);\n      ipInterfaceOctets = cidr[0].toByteArray();\n      subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();\n      octets = [];\n      i = 0;\n      while (i < 4) {\n        octets.push(parseInt(ipInterfaceOctets[i], 10) | parseInt(subnetMaskOctets[i], 10) ^ 255);\n        i++;\n      }\n      return new this(octets);\n    } catch (error1) {\n      error = error1;\n      throw new Error('ipaddr: the address does not have IPv4 CIDR format');\n    }\n  };\n\n  ipaddr.IPv4.networkAddressFromCIDR = function(string) {\n    var cidr, error, i, ipInterfaceOctets, octets, subnetMaskOctets;\n    try {\n      cidr = this.parseCIDR(string);\n      ipInterfaceOctets = cidr[0].toByteArray();\n      subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();\n      octets = [];\n      i = 0;\n      while (i < 4) {\n        octets.push(parseInt(ipInterfaceOctets[i], 10) & parseInt(subnetMaskOctets[i], 10));\n        i++;\n      }\n      return new this(octets);\n    } catch (error1) {\n      error = error1;\n      throw new Error('ipaddr: the address does not have IPv4 CIDR format');\n    }\n  };\n\n  ipaddr.IPv6.parseCIDR = function(string) {\n    var maskLength, match, parsed;\n    if (match = string.match(/^(.+)\\/(\\d+)$/)) {\n      maskLength = parseInt(match[2]);\n      if (maskLength >= 0 && maskLength <= 128) {\n        parsed = [this.parse(match[1]), maskLength];\n        Object.defineProperty(parsed, 'toString', {\n          value: function() {\n            return this.join('/');\n          }\n        });\n        return parsed;\n      }\n    }\n    throw new Error(\"ipaddr: string is not formatted like an IPv6 CIDR range\");\n  };\n\n  ipaddr.isValid = function(string) {\n    return ipaddr.IPv6.isValid(string) || ipaddr.IPv4.isValid(string);\n  };\n\n  ipaddr.parse = function(string) {\n    if (ipaddr.IPv6.isValid(string)) {\n      return ipaddr.IPv6.parse(string);\n    } else if (ipaddr.IPv4.isValid(string)) {\n      return ipaddr.IPv4.parse(string);\n    } else {\n      throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 format\");\n    }\n  };\n\n  ipaddr.parseCIDR = function(string) {\n    var e;\n    try {\n      return ipaddr.IPv6.parseCIDR(string);\n    } catch (error1) {\n      e = error1;\n      try {\n        return ipaddr.IPv4.parseCIDR(string);\n      } catch (error1) {\n        e = error1;\n        throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 CIDR format\");\n      }\n    }\n  };\n\n  ipaddr.fromByteArray = function(bytes) {\n    var length;\n    length = bytes.length;\n    if (length === 4) {\n      return new ipaddr.IPv4(bytes);\n    } else if (length === 16) {\n      return new ipaddr.IPv6(bytes);\n    } else {\n      throw new Error(\"ipaddr: the binary input is neither an IPv6 nor IPv4 address\");\n    }\n  };\n\n  ipaddr.process = function(string) {\n    var addr;\n    addr = this.parse(string);\n    if (addr.kind() === 'ipv6' && addr.isIPv4MappedAddress()) {\n      return addr.toIPv4Address();\n    } else {\n      return addr;\n    }\n  };\n\n}).call(this);\n","/**\n * Created by elgs on 3/5/16.\n */\nconst normalize = function (a) {\n   if (!_validate(a)) {\n      throw new Error('Invalid address: ' + a);\n   }\n   a = a.toLowerCase()\n\n   const nh = a.split(/\\:\\:/g);\n   if (nh.length > 2) {\n      throw new Error('Invalid address: ' + a);\n   }\n\n   let sections = [];\n   if (nh.length == 1) {\n      // full mode\n      sections = a.split(/\\:/g);\n      if (sections.length !== 8) {\n         throw new Error('Invalid address: ' + a);\n      }\n   } else if (nh.length == 2) {\n      // compact mode\n      const n = nh[0];\n      const h = nh[1];\n      const ns = n.split(/\\:/g);\n      const hs = h.split(/\\:/g);\n      for (let i in ns) {\n         sections[i] = ns[i];\n      }\n      for (let i = hs.length; i > 0; --i) {\n         sections[7 - (hs.length - i)] = hs[i - 1];\n      }\n   }\n   for (let i = 0; i < 8; ++i) {\n      if (sections[i] === undefined) {\n         sections[i] = '0000';\n      }\n      sections[i] = _leftPad(sections[i], '0', 4);\n   }\n   return sections.join(':');\n};\n\nconst abbreviate = function (a) {\n   if (!_validate(a)) {\n      throw new Error('Invalid address: ' + a);\n   }\n   a = normalize(a);\n   a = a.replace(/0000/g, 'g');\n   a = a.replace(/\\:000/g, ':');\n   a = a.replace(/\\:00/g, ':');\n   a = a.replace(/\\:0/g, ':');\n   a = a.replace(/g/g, '0');\n   const sections = a.split(/\\:/g);\n   let zPreviousFlag = false;\n   let zeroStartIndex = -1;\n   let zeroLength = 0;\n   let zStartIndex = -1;\n   let zLength = 0;\n   for (let i = 0; i < 8; ++i) {\n      const section = sections[i];\n      let zFlag = (section === '0');\n      if (zFlag && !zPreviousFlag) {\n         zStartIndex = i;\n      }\n      if (!zFlag && zPreviousFlag) {\n         zLength = i - zStartIndex;\n      }\n      if (zLength > 1 && zLength > zeroLength) {\n         zeroStartIndex = zStartIndex;\n         zeroLength = zLength;\n      }\n      zPreviousFlag = (section === '0');\n   }\n   if (zPreviousFlag) {\n      zLength = 8 - zStartIndex;\n   }\n   if (zLength > 1 && zLength > zeroLength) {\n      zeroStartIndex = zStartIndex;\n      zeroLength = zLength;\n   }\n   //console.log(zeroStartIndex, zeroLength);\n   //console.log(sections);\n   if (zeroStartIndex >= 0 && zeroLength > 1) {\n      sections.splice(zeroStartIndex, zeroLength, 'g');\n   }\n   //console.log(sections);\n   a = sections.join(':');\n   //console.log(a);\n   a = a.replace(/\\:g\\:/g, '::');\n   a = a.replace(/\\:g/g, '::');\n   a = a.replace(/g\\:/g, '::');\n   a = a.replace(/g/g, '::');\n   //console.log(a);\n   return a;\n};\n\n// Basic validation\nconst _validate = function (a) {\n   return /^[a-f0-9\\\\:]+$/ig.test(a);\n};\n\nconst _leftPad = function (d, p, n) {\n   const padding = p.repeat(n);\n   if (d.length < padding.length) {\n      d = padding.substring(0, padding.length - d.length) + d;\n   }\n   return d;\n};\n\nconst _hex2bin = function (hex) {\n   return parseInt(hex, 16).toString(2)\n};\nconst _bin2hex = function (bin) {\n   return parseInt(bin, 2).toString(16)\n};\n\nconst _addr2bin = function (addr) {\n   const nAddr = normalize(addr);\n   const sections = nAddr.split(\":\");\n   let binAddr = '';\n   for (const section of sections) {\n      binAddr += _leftPad(_hex2bin(section), '0', 16);\n   }\n   return binAddr;\n};\n\nconst _bin2addr = function (bin) {\n   const addr = [];\n   for (let i = 0; i < 8; ++i) {\n      const binPart = bin.substr(i * 16, 16);\n      const hexSection = _leftPad(_bin2hex(binPart), '0', 4);\n      addr.push(hexSection);\n   }\n   return addr.join(':');\n};\n\nconst divideSubnet = function (addr, mask0, mask1, limit, abbr) {\n   if (!_validate(addr)) {\n      throw new Error('Invalid address: ' + addr);\n   }\n   mask0 *= 1;\n   mask1 *= 1;\n   limit *= 1;\n   mask1 = mask1 || 128;\n   if (mask0 < 1 || mask1 < 1 || mask0 > 128 || mask1 > 128 || mask0 > mask1) {\n      throw new Error('Invalid masks.');\n   }\n   const ret = [];\n   const binAddr = _addr2bin(addr);\n   const binNetPart = binAddr.substr(0, mask0);\n   const binHostPart = '0'.repeat(128 - mask1);\n   const numSubnets = Math.pow(2, mask1 - mask0);\n   for (let i = 0; i < numSubnets; ++i) {\n      if (!!limit && i >= limit) {\n         break;\n      }\n      const binSubnet = _leftPad(i.toString(2), '0', mask1 - mask0);\n      const binSubAddr = binNetPart + binSubnet + binHostPart;\n      const hexAddr = _bin2addr(binSubAddr);\n      if (!!abbr) {\n         ret.push(abbreviate(hexAddr));\n      } else {\n         ret.push(hexAddr);\n      }\n\n   }\n   // console.log(numSubnets);\n   // console.log(binNetPart, binSubnetPart, binHostPart);\n   // console.log(binNetPart.length, binSubnetPart.length, binHostPart.length);\n   // console.log(ret.length);\n   return ret;\n};\n\nconst range = function (addr, mask0, mask1, abbr) {\n   if (!_validate(addr)) {\n      throw new Error('Invalid address: ' + addr);\n   }\n   mask0 *= 1;\n   mask1 *= 1;\n   mask1 = mask1 || 128;\n   if (mask0 < 1 || mask1 < 1 || mask0 > 128 || mask1 > 128 || mask0 > mask1) {\n      throw new Error('Invalid masks.');\n   }\n   const binAddr = _addr2bin(addr);\n   const binNetPart = binAddr.substr(0, mask0);\n   const binHostPart = '0'.repeat(128 - mask1);\n   const binStartAddr = binNetPart + '0'.repeat(mask1 - mask0) + binHostPart;\n   const binEndAddr = binNetPart + '1'.repeat(mask1 - mask0) + binHostPart;\n   if (!!abbr) {\n      return {\n         start: abbreviate(_bin2addr(binStartAddr)),\n         end: abbreviate(_bin2addr(binEndAddr)),\n         size: Math.pow(2, mask1 - mask0)\n      };\n   } else {\n      return {\n         start: _bin2addr(binStartAddr),\n         end: _bin2addr(binEndAddr),\n         size: Math.pow(2, mask1 - mask0)\n      };\n   }\n};\n\nconst randomSubnet = function (addr, mask0, mask1, limit, abbr) {\n   if (!_validate(addr)) {\n      throw new Error('Invalid address: ' + addr);\n   }\n   mask0 *= 1;\n   mask1 *= 1;\n   limit *= 1;\n   mask1 = mask1 || 128;\n   limit = limit || 1;\n   if (mask0 < 1 || mask1 < 1 || mask0 > 128 || mask1 > 128 || mask0 > mask1) {\n      throw new Error('Invalid masks.');\n   }\n   const ret = [];\n   const binAddr = _addr2bin(addr);\n   const binNetPart = binAddr.substr(0, mask0);\n   const binHostPart = '0'.repeat(128 - mask1);\n   const numSubnets = Math.pow(2, mask1 - mask0);\n   for (let i = 0; i < numSubnets && i < limit; ++i) {\n      // generate an binary string with length of mask1 - mask0\n      let binSubnet = '';\n      for (let j = 0; j < mask1 - mask0; ++j) {\n         binSubnet += Math.floor(Math.random() * 2);\n      }\n      const binSubAddr = binNetPart + binSubnet + binHostPart;\n      const hexAddr = _bin2addr(binSubAddr);\n      if (!!abbr) {\n         ret.push(abbreviate(hexAddr));\n      } else {\n         ret.push(hexAddr);\n      }\n   }\n   // console.log(numSubnets);\n   // console.log(binNetPart, binSubnetPart, binHostPart);\n   // console.log(binNetPart.length, binSubnetPart.length, binHostPart.length);\n   // console.log(ret.length);\n   return ret;\n};\n\nconst ptr = function (addr, mask) {\n   if (!_validate(addr)) {\n      throw new Error('Invalid address: ' + addr);\n   }\n   mask *= 1;\n   if (mask < 1 || mask > 128 || Math.floor(mask / 4) != mask / 4) {\n      throw new Error('Invalid masks.');\n   }\n   const fullAddr = normalize(addr);\n   const reverse = fullAddr.replace(/:/g, '').split('').reverse();\n   return reverse.slice(0, (128 - mask) / 4).join('.');\n};\n\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n   exports.normalize = normalize;\n   exports.abbreviate = abbreviate;\n   exports.divideSubnet = divideSubnet;\n   exports.range = range;\n   exports.randomSubnet = randomSubnet;\n   exports.ptr = ptr;\n} else {\n   window.normalize = normalize;\n   window.abbreviate = abbreviate;\n   window.divideSubnet = divideSubnet;\n   window.range = range;\n   window.randomSubnet = randomSubnet;\n   window.ptr = ptr;\n}\n","import ipaddr from 'ipaddr.js';\n// @ts-ignore: Can't find a @types/ip6 package\nimport ip6 from 'ip6';\n\nexport function isIP(addr: string) {\n  return ipaddr.isValid(addr);\n}\n\nexport function version(addr: string): number {\n  try {\n    const parse_addr = ipaddr.parse(addr);\n    const kind = parse_addr.kind();\n\n    if (kind === 'ipv4') {\n      return 4; //IPv4\n    } else if (kind === 'ipv6') {\n      return 6; //IPv6\n    } else {\n      /* istanbul ignore next */\n      return 0; //not 4 or 6\n    }\n  } catch (err) {\n    return 0; //not 4 or 6\n  }\n}\n\nexport function isV4(addr: string) {\n  return version(addr) === 4;\n}\n\nexport function isV6(addr: string) {\n  return version(addr) === 6;\n}\n\nexport function isRange(range: string) {\n  try {\n    const cidr = ipaddr.parseCIDR(range);\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\n\nexport function inRange(addr: string, range: string | string[]) {\n  if (typeof range === 'string') {\n    if (range.indexOf('/') !== -1) {\n      try {\n        const range_data = range.split('/');\n\n        const parse_addr = ipaddr.parse(addr);\n        const parse_range = ipaddr.parse(range_data[0]);\n\n        //@ts-ignore:  It works.\n        return parse_addr.match(parse_range, range_data[1]);\n      } catch (err) {\n        return false;\n      }\n    } else {\n      addr = isV6(addr) ? ip6.normalize(addr) : addr; //v6 normalize addr\n      range = isV6(range) ? ip6.normalize(range) : range; //v6 normalize range\n\n      return isIP(range as string) && addr === range;\n    }\n  } else if (range && typeof range === 'object') {\n    //list\n    for (const check_range in range) {\n      if (inRange(addr, range[check_range]) === true) {\n        return true;\n      }\n    }\n    return false;\n  } else {\n    return false;\n  }\n}\n\nexport function storeIP(addr: string) {\n  try {\n    var parse_addr = ipaddr.parse(addr);\n    var kind = parse_addr.kind();\n\n    if (kind === 'ipv4') {\n      //is a plain v4 address\n      return addr;\n    } else if (kind === 'ipv6') {\n      //@ts-ignore:  it exists!\n      if (parse_addr.isIPv4MappedAddress()) {\n        //convert v4 mapped to v6 addresses to a v4 in it's original format\n        //@ts-ignore:  it exists!\n        return parse_addr.toIPv4Address().toString();\n      } //is a v6, abbreviate it\n      else {\n        return ip6.abbreviate(addr);\n      }\n    } else {\n      return null; //invalid IP address\n    }\n  } catch (err) {\n    return null; //invalid IP address\n  }\n}\n\n// searchIP is a aliases of storeIP\nexport { storeIP as searchIP };\n\nexport function displayIP(addr: string) {\n  try {\n    var parse_addr = ipaddr.parse(addr);\n    var kind = parse_addr.kind();\n\n    if (kind === 'ipv4') {\n      //is a plain v4 address\n      return addr;\n    } else if (kind === 'ipv6') {\n      //@ts-ignore:  it exists!\n      if (parse_addr.isIPv4MappedAddress()) {\n        //convert v4 mapped to v6 addresses to a v4 in it's original format\n        //@ts-ignore:  it exists!\n        return parse_addr.toIPv4Address().toString();\n      } //is a v6, normalize it\n      else {\n        return ip6.normalize(addr);\n      }\n    } else {\n      return ''; //invalid IP address\n    }\n  } catch (err) {\n    return ''; //invalid IP address\n  }\n}\n","/**\n * All event listeners\n *\n * https://developers.facebook.com/docs/meta-pixel/reference\n * */\n\n// Load pixel event\njQuery(document).on(\"wpmLoadPixels\", () => {\n\n\tif (\n\t\twpmDataLayer?.pixels?.facebook?.pixel_id\n\t\t&& !wpmDataLayer?.pixels?.facebook?.loaded\n\t\t&& !wpm.doesUrlContainPatterns(wpmDataLayer?.pixels?.facebook?.exclusion_patterns)\n\t) {\n\t\tif (wpm.canIFire(\"ads\", \"facebook-ads\")) wpm.loadFacebookPixel()\n\t}\n})\n\n// AddToCart event\n// https://developers.facebook.com/docs/meta-pixel/reference\njQuery(document).on(\"wpmClientSideAddToCart\", (event, payload) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.facebook?.loaded) return\n\n\t\tfbq(\"track\", \"AddToCart\", payload.facebook.custom_data, {\n\t\t\teventID: payload.facebook.event_id,\n\t\t})\n\t} catch (error) {\n\t\tconsole.error(error)\n\t}\n})\n\n// InitiateCheckout event\n// https://developers.facebook.com/docs/meta-pixel/reference\njQuery(document).on(\"wpmClientSideBeginCheckout\", (event, payload) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.facebook?.loaded) return\n\n\t\tfbq(\"track\", \"InitiateCheckout\", payload.facebook.custom_data, {\n\t\t\teventID: payload.facebook.event_id,\n\t\t})\n\t} catch (error) {\n\t\tconsole.error(error)\n\t}\n})\n\n// AddToWishlist event\n// https://developers.facebook.com/docs/meta-pixel/reference\njQuery(document).on(\"wpmClientSideAddToWishlist\", (event, payload) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.facebook?.loaded) return\n\n\t\tfbq(\"track\", \"AddToWishlist\", payload.facebook.custom_data, {\n\t\t\teventID: payload.facebook.event_id,\n\t\t})\n\t} catch (error) {\n\t\tconsole.error(error)\n\t}\n})\n\n// ViewContent event\n// https://developers.facebook.com/docs/meta-pixel/reference\njQuery(document).on(\"wpmClientSideViewItem\", (event, payload) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.facebook?.loaded) return\n\n\t\tfbq(\"track\", \"ViewContent\", payload.facebook.custom_data, {\n\t\t\teventID: payload.facebook.event_id,\n\t\t})\n\t} catch (error) {\n\t\tconsole.error(error)\n\t}\n})\n\n\n// view search event\n// https://developers.facebook.com/docs/meta-pixel/reference\njQuery(document).on(\"wpmClientSideSearch\", (event, payload) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.facebook?.loaded) return\n\n\t\tfbq(\"track\", \"Search\", payload.facebook.custom_data, {\n\t\t\teventID: payload.facebook.event_id,\n\t\t})\n\t} catch (error) {\n\t\tconsole.error(error)\n\t}\n})\n\n// load always event\njQuery(document).on(\"wpmLoadAlways\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.facebook?.loaded) return\n\n\t\twpm.setFbUserData()\n\t} catch (error) {\n\t\tconsole.error(error)\n\t}\n})\n\n// view order received page event\n// https://developers.facebook.com/docs/meta-pixel/reference\njQuery(document).on(\"wpmClientSideOrderReceivedPage\", (event, payload) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.facebook?.loaded) return\n\n\t\tfbq(\"track\", \"Purchase\", payload.facebook.custom_data, {\n\t\t\teventID: payload.facebook.event_id,\n\t\t})\n\t} catch (error) {\n\t\tconsole.error(error)\n\t}\n})\n","/**\n * All event listeners\n * */\n\n\njQuery(document).on(\"wpmFbCapiEvent\", function (event, eventData) {\n\n\ttry {\n\t\tif (!wpmDataLayer.pixels.facebook.capi) return\n\n\t\t// Send data to pmw public API with fetch API\n\t\t// fetch(wpm.root + \"pmw/v1/facebook/capi/event/\", {\n\t\t// \tmethod     : \"POST\",\n\t\t// \tcredentials: \"same-origin\",\n\t\t// \theaders    : {\n\t\t// \t\t\"Content-Type\": \"application/json\",\n\t\t// \t},\n\t\t// \tbody       : JSON.stringify(eventData),\n\t\t// \tkeepalive  : true,\t// keep connection alive until request is finished\n\t\t// })\n\t\t// \t.then(response => response.json())\n\t\t// \t.then(message => {\n\t\t// \t\tif (!message.success) {\n\t\t// \t\t\tconsole.error(message)\n\t\t// \t\t}\n\t\t// \t})\n\t\t// \t.catch(error => {\n\t\t// \t\tconsole.error(error)\n\t\t// \t})\n\n\t\t// https://css-tricks.com/send-an-http-request-on-page-exit/\n\t\tconst blob = new Blob([JSON.stringify(eventData)], { type: 'application/json; charset=UTF-8' });\n\t\tnavigator.sendBeacon(wpm.root + \"pmw/v1/facebook/capi/event/\", blob);\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n","/**\n * Add functions for Facebook\n * */\n\n(function (wpm, $, undefined) {\n\n\tlet fbUserData\n\n\twpm.fbeventsJsUrl = () => {\n\n\t\tlet searchParams = new URLSearchParams(window.location.search)\n\n\t\tif(searchParams.has(\"fbevents-version\")) {\n\t\t\treturn `https://connect.facebook.net/en_US/fbevents.js?v=${searchParams.get(\"fbevents-version\")}`\n\t\t}\n\n\t\treturn wpmDataLayer?.pixels?.facebook?.fbevents_js_url\n\t}\n\n\twpm.loadFacebookPixel = () => {\n\n\t\ttry {\n\t\t\twpmDataLayer.pixels.facebook.loaded = true\n\n\t\t\t// @formatter:off\n\t\t\t!function(f,b,e,v,n,t,s)\n\t\t\t{if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n\t\t\t\tn.callMethod.apply(n,arguments):n.queue.push(arguments)};\n\t\t\t\tif(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n\t\t\t\tn.queue=[];t=b.createElement(e);t.async=!0;\n\t\t\t\tt.src=v;s=b.getElementsByTagName(e)[0];\n\t\t\t\ts.parentNode.insertBefore(t,s)}(window, document,'script',\n\t\t\t\twpm.fbeventsJsUrl());\n\t\t\t// @formatter:on\n\n\t\t\tlet data = {}\n\n\t\t\t// Add user identifiers to data,\n\t\t\t// and only if fbp was set\n\t\t\tif (wpm.isFbpSet() && wpm.isFbAdvancedMatchingEnabled()) {\n\t\t\t\tdata = {...wpm.getUserIdentifiersForFb()}\n\t\t\t}\n\n\t\t\t// https://developers.facebook.com/docs/meta-pixel/advanced/#automatic-configuration\n\t\t\t// fbq(\"set\", \"autoConfig\", false, wpmDataLayer.pixels.facebook.pixel_id)\n\n\t\t\t// Initialize the Facebook Pixel and send the first PageView event\n\t\t\tfbq(\"init\", wpmDataLayer.pixels.facebook.pixel_id, data)\n\t\t\tfbq(\"track\", \"PageView\")\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\t// https://developers.facebook.com/docs/meta-pixel/advanced/advanced-matching\n\twpm.getUserIdentifiersForFb = () => {\n\n\t\tlet data = {}\n\n\t\t// external ID\n\t\tif (wpmDataLayer?.user?.id?.raw) data.external_id = wpmDataLayer.user.id.raw\n\t\tif (wpmDataLayer?.order?.user_id) data.external_id = wpmDataLayer.order.user_id\n\n\t\t// email\n\t\tif (wpmDataLayer?.user?.email?.facebook) data.em = wpmDataLayer.user.email.facebook\n\t\tif (wpmDataLayer?.order?.billing_email_hashed) data.em = wpmDataLayer.order.billing_email_hashed\n\n\t\t// first name\n\t\tif (wpmDataLayer?.user?.first_name?.facebook) data.fn = wpmDataLayer.user.first_name.facebook\n\t\tif (wpmDataLayer?.order?.billing_first_name) data.fn = wpmDataLayer.order.billing_first_name.toLowerCase()\n\n\t\t// last name\n\t\tif (wpmDataLayer?.user?.last_name?.facebook) data.ln = wpmDataLayer.user.last_name.facebook\n\t\tif (wpmDataLayer?.order?.billing_last_name) data.ln = wpmDataLayer.order.billing_last_name.toLowerCase()\n\n\t\t// phone\n\t\tif (wpmDataLayer?.user?.phone?.facebook) data.ph = wpmDataLayer.user.phone.facebook\n\t\tif (wpmDataLayer?.order?.billing_phone) data.ph = wpmDataLayer.order.billing_phone.replace(\"+\", \"\")\n\n\t\t// city\n\t\tif (wpmDataLayer?.user?.city?.facebook) data.ct = wpmDataLayer.user.city.facebook\n\t\tif (wpmDataLayer?.order?.billing_city) data.ct = wpmDataLayer.order.billing_city.toLowerCase().replace(/ /g, \"\")\n\n\t\t// state\n\t\tif (wpmDataLayer?.user?.state?.facebook) data.st = wpmDataLayer.user.state.facebook\n\t\tif (wpmDataLayer?.order?.billing_state) data.st = wpmDataLayer.order.billing_state.toLowerCase().replace(/[a-zA-Z]{2}-/, \"\")\n\n\t\t// postcode\n\t\tif (wpmDataLayer?.user?.postcode?.facebook) data.zp = wpmDataLayer.user.postcode.facebook\n\t\tif (wpmDataLayer?.order?.billing_postcode) data.zp = wpmDataLayer.order.billing_postcode\n\n\t\t// country\n\t\tif (wpmDataLayer?.user?.country?.facebook) data.country = wpmDataLayer.user.country.facebook\n\t\tif (wpmDataLayer?.order?.billing_country) data.country = wpmDataLayer.order.billing_country.toLowerCase()\n\n\t\treturn data\n\t}\n\n\twpm.getFbRandomEventId = () => (Math.random() + 1).toString(36).substring(2)\n\n\twpm.getFbUserData = () => {\n\n\t\t/**\n\t\t * We need to cache the FB user data for InitiateCheckout\n\t\t * where getting the user data from the browser is too slow\n\t\t * using wpm.getCookie().\n\t\t *\n\t\t * And we need the object merge because the ViewContent hit happens too fast\n\t\t * after adding a variation to the cart because the function to cache\n\t\t * the user data is too slow.\n\t\t *\n\t\t * But we can get the user_data using wpm.getCookie()\n\t\t * because we don't move away from the page and can wait for the browser\n\t\t * to get it.\n\t\t *\n\t\t * Also, the merge ensures that new data will be added to fbUserData if new\n\t\t * data is being added later, like user ID, or fbc.\n\t\t */\n\n\t\tfbUserData = {...fbUserData, ...wpm.getFbUserDataFromBrowser()}\n\n\t\treturn fbUserData\n\t}\n\n\twpm.isFbAdvancedMatchingEnabled = () => {\n\t\tif (wpmDataLayer?.pixels?.facebook?.advanced_matching) {\n\t\t\treturn true\n\t\t}\n\n\t\treturn false\n\t}\n\n\twpm.setFbUserData = () => {\n\t\tfbUserData = wpm.getFbUserDataFromBrowser()\n\t}\n\n\twpm.getFbUserDataFromBrowser = () => {\n\n\t\tlet\n\t\t\tdata = {}\n\n\t\tif (wpm.getCookie(\"_fbp\") && wpm.isValidFbp(wpm.getCookie(\"_fbp\"))) {\n\t\t\tdata.fbp = wpm.getCookie(\"_fbp\")\n\t\t}\n\n\t\tif (wpm.getCookie(\"_fbc\") && wpm.isValidFbc(wpm.getCookie(\"_fbc\"))) {\n\t\t\tdata.fbc = wpm.getCookie(\"_fbc\")\n\t\t}\n\n\t\tif (wpm.isFbAdvancedMatchingEnabled()) {\n\t\t\tif (wpmDataLayer?.user?.id?.raw) data.external_id = wpmDataLayer.user.id.raw\n\t\t}\n\n\t\tif (navigator.userAgent) data.client_user_agent = navigator.userAgent\n\n\t\treturn data\n\t}\n\n\twpm.isFbpSet = () => {\n\t\treturn !!wpm.getCookie(\"_fbp\")\n\t}\n\n\t// https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/fbp-and-fbc/\n\twpm.isValidFbp = fbp => {\n\n\t\tlet re = new RegExp(/^fb\\.[0-2]\\.\\d{13}\\.\\d{8,20}$/)\n\n\t\treturn re.test(fbp)\n\t}\n\n\t// https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/fbp-and-fbc/\n\twpm.isValidFbc = fbc => {\n\n\t\tlet re = new RegExp(/^fb\\.[0-2]\\.\\d{13}\\.[\\da-zA-Z_-]{8,}/)\n\n\t\treturn re.test(fbc)\n\t}\n\n\t// wpm.fbViewContent = (product = null) => {\n\t//\n\t// \ttry {\n\t// \t\tif (!wpmDataLayer?.pixels?.facebook?.loaded) return\n\t//\n\t// \t\tlet eventId = wpm.getFbRandomEventId()\n\t//\n\t// \t\tlet data = {}\n\t//\n\t// \t\tif (product) {\n\t// \t\t\tdata.content_type = \"product\"\n\t// \t\t\tdata.content_name = product.name\n\t// \t\t\t// data.content_category = product.category\n\t// \t\t\tdata.content_ids  = product.dyn_r_ids[wpmDataLayer.pixels.facebook.dynamic_remarketing.id_type]\n\t// \t\t\tdata.currency     = wpmDataLayer.shop.currency\n\t// \t\t\tdata.value        = product.price\n\t// \t\t}\n\t//\n\t// \t\tfbq(\"track\", \"ViewContent\", data, {\n\t// \t\t\teventID: eventId,\n\t// \t\t})\n\t//\n\t// \t\tlet capiData = {\n\t// \t\t\tevent_name      : \"ViewContent\",\n\t// \t\t\tevent_id        : eventId,\n\t// \t\t\tuser_data       : wpm.getFbUserData(),\n\t// \t\t\tevent_source_url: window.location.href,\n\t// \t\t}\n\t//\n\t// \t\tif (product) {\n\t// \t\t\tproduct[\"currency\"]  = wpmDataLayer.shop.currency\n\t// \t\t\tcapiData.custom_data = wpm.fbGetProductDataForCapiEvent(product)\n\t// \t\t}\n\t//\n\t// \t\tjQuery(document).trigger(\"wpmFbCapiEvent\", capiData)\n\t// \t} catch (e) {\n\t// \t\tconsole.error(e)\n\t// \t}\n\t// }\n\n\twpm.fbGetProductDataForCapiEvent = product => {\n\t\treturn {\n\t\t\tcontent_type: \"product\",\n\t\t\tcontent_name: product.name,\n\t\t\tcontent_ids : [\n\t\t\t\tproduct.dyn_r_ids[wpmDataLayer.pixels.facebook.dynamic_remarketing.id_type],\n\t\t\t],\n\t\t\tvalue       : parseFloat(product.quantity * product.price),\n\t\t\tcurrency    : product.currency,\n\t\t}\n\t}\n\n\twpm.facebookContentIds = () => {\n\t\tlet prodIds = []\n\n\t\tObject.values(wpmDataLayer.order.items).forEach(item => {\n\t\t\tif (wpmDataLayer?.general?.variationsOutput && 0 !== item.variation_id) {\n\t\t\t\tprodIds.push(String(wpmDataLayer.products[item.variation_id].dyn_r_ids[wpmDataLayer.pixels.facebook.dynamic_remarketing.id_type]))\n\t\t\t} else {\n\t\t\t\tprodIds.push(String(wpmDataLayer.products[item.id].dyn_r_ids[wpmDataLayer.pixels.facebook.dynamic_remarketing.id_type]))\n\t\t\t}\n\t\t})\n\n\t\treturn prodIds\n\t}\n\n\twpm.trackCustomFacebookEvent = (eventName, customData = {}) => {\n\t\ttry {\n\t\t\tif (!wpmDataLayer?.pixels?.facebook?.loaded) return\n\n\t\t\tlet eventId = wpm.getFbRandomEventId()\n\n\t\t\tfbq(\"trackCustom\", eventName, customData, {\n\t\t\t\teventID: eventId,\n\t\t\t})\n\n\t\t\tjQuery(document).trigger(\"wpmFbCapiEvent\", {\n\t\t\t\tevent_name      : eventName,\n\t\t\t\tevent_id        : eventId,\n\t\t\t\tuser_data       : wpm.getFbUserData(),\n\t\t\t\tevent_source_url: window.location.href,\n\t\t\t\tcustom_data     : customData,\n\t\t\t})\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.fbGetContentIdsFromCart = () => {\n\n\t\tlet content_ids = []\n\n\t\tfor (const key in wpmDataLayer.cart) {\n\t\t\tcontent_ids.push(wpmDataLayer.products[key].dyn_r_ids[wpmDataLayer.pixels.facebook.dynamic_remarketing.id_type])\n\t\t}\n\n\t\treturn content_ids\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery));\n","/**\n * Add functions for Facebook (pro)\n * */\n\n(function (wpm, $, undefined) {\n\n\n}(window.wpm = window.wpm || {}, jQuery))\n","/**\n * Facebook loader\n */\n\nrequire(\"./functions\")\nrequire(\"./event_listeners\")\n\n// #if process.env.TIER === 'premium'\nif (wpm.canLoadPremiumFeatures()) {\n\trequire(\"./functions_premium\")\n\trequire(\"./event_listeners_premium\")\n}\n// #endif\n\n","/**\n * Load Google Ads event listeners\n * */\n\n// view_item_list event\njQuery(document).on(\"wpmViewItemList\", (event, product) => {\n\n\ttry {\n\t\tif (jQuery.isEmptyObject(wpmDataLayer?.pixels?.google?.ads?.conversionIds)) return\n\t\tif (!wpmDataLayer?.pixels?.google?.ads?.dynamic_remarketing?.status) return\n\t\tif (!wpm.googleConfigConditionsMet(\"ads\")) return\n\n\n\t\tif (\n\t\t\twpmDataLayer?.general?.variationsOutput &&\n\t\t\tproduct.isVariable &&\n\t\t\twpmDataLayer.pixels.google.ads.dynamic_remarketing.send_events_with_parent_ids === false\n\t\t) return\n\n\t\t// try to prevent that WC sends cached hits to Google\n\t\tif (!product) return\n\n\t\tlet data = {\n\t\t\tsend_to: wpm.getGoogleAdsConversionIdentifiers(),\n\t\t\titems  : [{\n\t\t\t\tid                      : product.dyn_r_ids[wpmDataLayer.pixels.google.ads.dynamic_remarketing.id_type],\n\t\t\t\tgoogle_business_vertical: wpmDataLayer.pixels.google.ads.google_business_vertical,\n\t\t\t}],\n\t\t}\n\n\t\tif (wpmDataLayer?.user?.id?.raw) {\n\t\t\tdata.user_id = wpmDataLayer.user.id.raw\n\t\t}\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"view_item_list\", data)\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// add_to_cart event\njQuery(document).on(\"wpmAddToCart\", (event, product) => {\n\n\ttry {\n\t\tif (jQuery.isEmptyObject(wpmDataLayer?.pixels?.google?.ads?.conversionIds)) return\n\t\tif (!wpmDataLayer?.pixels?.google?.ads?.dynamic_remarketing?.status) return\n\t\tif (!wpm.googleConfigConditionsMet(\"ads\")) return\n\n\t\tlet data = {\n\t\t\tsend_to: wpm.getGoogleAdsConversionIdentifiers(),\n\t\t\tvalue  : product.quantity * product.price,\n\t\t\titems  : [{\n\t\t\t\tid                      : product.dyn_r_ids[wpmDataLayer.pixels.google.ads.dynamic_remarketing.id_type],\n\t\t\t\tquantity                : product.quantity,\n\t\t\t\tprice                   : product.price,\n\t\t\t\tgoogle_business_vertical: wpmDataLayer.pixels.google.ads.google_business_vertical,\n\t\t\t}],\n\t\t}\n\n\t\tif (wpmDataLayer?.user?.id?.raw) {\n\t\t\tdata.user_id = wpmDataLayer.user.id.raw\n\t\t}\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"add_to_cart\", data)\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// view_item event\njQuery(document).on(\"wpmViewItem\", (event, product = null) => {\n\n\ttry {\n\t\tif (jQuery.isEmptyObject(wpmDataLayer?.pixels?.google?.ads?.conversionIds)) return\n\t\tif (!wpmDataLayer?.pixels?.google?.ads?.dynamic_remarketing?.status) return\n\t\tif (!wpm.googleConfigConditionsMet(\"ads\")) return\n\n\t\tlet data = {\n\t\t\tsend_to: wpm.getGoogleAdsConversionIdentifiers(),\n\t\t}\n\n\t\tif (product) {\n\t\t\tdata.value = (product.quantity ? product.quantity : 1) * product.price\n\t\t\tdata.items = [{\n\t\t\t\tid                      : product.dyn_r_ids[wpmDataLayer.pixels.google.ads.dynamic_remarketing.id_type],\n\t\t\t\tquantity                : (product.quantity ? product.quantity : 1),\n\t\t\t\tprice                   : product.price,\n\t\t\t\tgoogle_business_vertical: wpmDataLayer.pixels.google.ads.google_business_vertical,\n\t\t\t}]\n\t\t}\n\n\t\tif (wpmDataLayer?.user?.id?.raw) {\n\t\t\tdata.user_id = wpmDataLayer.user.id.raw\n\t\t}\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"view_item\", data)\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n\n// view search event\njQuery(document).on(\"pmwEvent:Search\", () => {\n\n\ttry {\n\t\tif (jQuery.isEmptyObject(wpmDataLayer?.pixels?.google?.ads?.conversionIds)) return\n\t\tif (!wpmDataLayer?.pixels?.google?.ads?.dynamic_remarketing?.status) return\n\t\tif (!wpm.googleConfigConditionsMet(\"ads\")) return\n\n\n\t\tlet products = []\n\n\t\tObject.values(wpmDataLayer.products).forEach(product => {\n\n\t\t\tif (\n\t\t\t\twpmDataLayer?.general?.variationsOutput &&\n\t\t\t\tproduct.isVariable &&\n\t\t\t\twpmDataLayer.pixels.google.ads.dynamic_remarketing.send_events_with_parent_ids === false\n\t\t\t) return\n\n\t\t\tproducts.push({\n\t\t\t\tid                      : product.dyn_r_ids[wpmDataLayer.pixels.google.ads.dynamic_remarketing.id_type],\n\t\t\t\tgoogle_business_vertical: wpmDataLayer.pixels.google.ads.google_business_vertical,\n\t\t\t})\n\t\t})\n\n\t\t// console.log(products);\n\n\t\tlet data = {\n\t\t\tsend_to: wpm.getGoogleAdsConversionIdentifiers(),\n\t\t\t// value  : 1 * product.price,\n\t\t\titems: products,\n\t\t}\n\n\t\tif (wpmDataLayer?.user?.id?.raw) {\n\t\t\tdata.user_id = wpmDataLayer.user.id.raw\n\t\t}\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"view_search_results\", data)\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n\n// user log in event\njQuery(document).on(\"wpmLogin\", () => {\n\n\ttry {\n\t\tif (jQuery.isEmptyObject(wpmDataLayer?.pixels?.google?.ads?.conversionIds)) return\n\t\tif (!wpmDataLayer?.pixels?.google?.ads?.dynamic_remarketing?.status) return\n\t\tif (!wpm.googleConfigConditionsMet(\"ads\")) return\n\n\t\tlet data = {\n\t\t\tsend_to: wpm.getGoogleAdsConversionIdentifiers(),\n\t\t}\n\n\t\tif (wpmDataLayer?.user?.id?.raw) {\n\t\t\tdata.user_id = wpmDataLayer.user.id.raw\n\t\t}\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"login\", data)\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n/**\n * Google Ads remarketing purchase\n *\n * https://support.google.com/google-ads/answer/7305793\n */\njQuery(document).on(\"wpmOrderReceivedPage\", () => {\n\n\ttry {\n\t\tif (jQuery.isEmptyObject(wpm.getGoogleAdsConversionIdentifiersWithLabel())) return\n\t\tif (!wpm.googleConfigConditionsMet(\"ads\")) return\n\n\t\tlet data = {\n\t\t\tsend_to: wpm.getGoogleAdsConversionIdentifiers(),\n\t\t\tvalue  : wpmDataLayer.order.value_filtered,\n\t\t\t// currency: wpmDataLayer.order.currency,\n\t\t\titems: wpm.getGoogleAdsRegularOrderItems(),\n\t\t}\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"purchase\", data)\n\t\t})\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n/**\n * Google Ads conversion event\n *\n * new_customer parameter: https://support.google.com/google-ads/answer/9917012\n * cart data: https://support.google.com/google-ads/answer/9028614\n * customer_lifetime_value is undocumented, but available in gtag.js\n */\njQuery(document).on(\"wpmOrderReceivedPage\", () => {\n\n\ttry {\n\t\tif (jQuery.isEmptyObject(wpm.getGoogleAdsConversionIdentifiersWithLabel())) return\n\t\tif (!wpm.googleConfigConditionsMet(\"ads\")) return\n\n\t\tlet data = {\n\t\t\tsend_to       : wpm.getGoogleAdsConversionIdentifiersWithLabel(),\n\t\t\ttransaction_id: wpmDataLayer.order.number,\n\t\t\tvalue         : wpmDataLayer.order.value_filtered,\n\t\t\tcurrency      : wpmDataLayer.order.currency,\n\t\t\tnew_customer  : wpmDataLayer.order.new_customer,\n\t\t}\n\n\t\tif (wpmDataLayer?.order?.clv_order_value_filtered) {\n\t\t\tdata.customer_lifetime_value = wpmDataLayer.order.clv_order_value_filtered\n\t\t}\n\n\t\tif (wpmDataLayer?.user?.id?.raw) {\n\t\t\tdata.user_id = wpmDataLayer.user.id.raw\n\t\t}\n\n\t\t// https://support.google.com/google-ads/answer/9028614\n\t\tif (wpmDataLayer?.order?.aw_merchant_id) {\n\t\t\tdata.discount         = wpmDataLayer.order.discount\n\t\t\tdata.aw_merchant_id   = wpmDataLayer.order.aw_merchant_id\n\t\t\tdata.aw_feed_country  = wpmDataLayer.order.aw_feed_country\n\t\t\tdata.aw_feed_language = wpmDataLayer.order.aw_feed_language\n\t\t\tdata.items            = wpm.getGoogleAdsRegularOrderItems()\n\t\t}\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\t// Event needs to be \"purchase\" (not \"conversion\") in order to be able to track cart data:\n\t\t\t// https://support.google.com/google-ads/answer/9028614\n\t\t\tgtag(\"event\", \"purchase\", data)\n\t\t})\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n","/**\n * Load Google Ads functions\n * */\n\n(function (wpm, $, undefined) {\n\n\n\twpm.getGoogleAdsConversionIdentifiersWithLabel = () => {\n\n\t\tlet conversionIdentifiers = []\n\n\t\tif (wpmDataLayer?.pixels?.google?.ads?.conversionIds) {\n\t\t\tObject.entries(wpmDataLayer.pixels.google.ads.conversionIds).forEach(([key, item]) => {\n\t\t\t\tif (item) {\n\t\t\t\t\tconversionIdentifiers.push(key + \"/\" + item)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\treturn conversionIdentifiers\n\t}\n\n\twpm.getGoogleAdsConversionIdentifiers = function () {\n\n\t\tlet conversionIdentifiers = []\n\n\t\tObject.keys(wpmDataLayer.pixels.google.ads.conversionIds).forEach((key) => {\n\t\t\tconversionIdentifiers.push(key)\n\t\t})\n\n\t\treturn conversionIdentifiers\n\t}\n\n\twpm.getGoogleAdsRegularOrderItems = () => {\n\n\t\tlet orderItems = []\n\n\t\tObject.values(wpmDataLayer.order.items).forEach((item) => {\n\n\t\t\tlet orderItem\n\n\t\t\torderItem = {\n\t\t\t\tquantity                : item.quantity,\n\t\t\t\tprice                   : item.price,\n\t\t\t\tgoogle_business_vertical: wpmDataLayer.pixels.google.ads.google_business_vertical,\n\t\t\t}\n\n\t\t\tif (wpmDataLayer?.general?.variationsOutput && 0 !== item.variation_id) {\n\n\t\t\t\torderItem.id = String(wpmDataLayer.products[item.variation_id].dyn_r_ids[wpmDataLayer.pixels.google.ads.dynamic_remarketing.id_type])\n\t\t\t\torderItems.push(orderItem)\n\t\t\t} else {\n\n\t\t\t\torderItem.id = String(wpmDataLayer.products[item.id].dyn_r_ids[wpmDataLayer.pixels.google.ads.dynamic_remarketing.id_type])\n\t\t\t\torderItems.push(orderItem)\n\t\t\t}\n\t\t})\n\n\t\treturn orderItems\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery))\n","/**\n * Load Google Ads\n */\n\nrequire(\"./functions\")\nrequire(\"./event_listeners\")\n","/**\n * Load Google Universal Analytics (GA3) event listeners\n * */\n\n\n// view order received page event\njQuery(document).on(\"wpmOrderReceivedPage\", function () {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) return\n\t\tif (wpmDataLayer?.pixels?.google?.analytics?.universal?.mp_active) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(function () {\n\t\t\tgtag(\"event\", \"purchase\", {\n\t\t\t\tsend_to       : [wpmDataLayer.pixels.google.analytics.universal.property_id],\n\t\t\t\ttransaction_id: wpmDataLayer.order.number,\n\t\t\t\taffiliation   : wpmDataLayer.order.affiliation,\n\t\t\t\tcurrency      : wpmDataLayer.order.currency,\n\t\t\t\tvalue         : wpmDataLayer.order.value_regular,\n\t\t\t\tdiscount      : wpmDataLayer.order.discount,\n\t\t\t\ttax           : wpmDataLayer.order.tax,\n\t\t\t\tshipping      : wpmDataLayer.order.shipping,\n\t\t\t\tcoupon        : wpmDataLayer.order.coupon,\n\t\t\t\titems         : wpm.getGAUAOrderItems(),\n\t\t\t})\n\t\t})\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n","/**\n * Load Google Universal Analytics (GA3) premium event listeners\n * */\n\n\n// view_item_list event\njQuery(document).on(\"wpmViewItemList\", (event, product) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"view_item_list\", {\n\t\t\t\tsend_to: wpmDataLayer.pixels.google.analytics.universal.property_id,\n\t\t\t\titems  : [wpm.ga3GetFullProductItemData(product)],\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// select_content event\njQuery(document).on(\"wpmSelectContentGaUa\", (event, product) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"select_content\", {\n\t\t\t\tsend_to     : wpmDataLayer.pixels.google.analytics.universal.property_id,\n\t\t\t\tcontent_type: \"product\",\n\t\t\t\titems       : [wpm.ga3GetFullProductItemData(product)],\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// add_to_cart event\njQuery(document).on(\"wpmAddToCart\", (event, product) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"add_to_cart\", {\n\t\t\t\tsend_to : wpmDataLayer.pixels.google.analytics.universal.property_id,\n\t\t\t\tcurrency: wpmDataLayer.shop.currency,\n\t\t\t\titems   : [wpm.ga3GetFullProductItemData(product)],\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// view_item event\njQuery(document).on(\"wpmViewItem\", (event, product = null) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\tlet data = {\n\t\t\tsend_to: wpmDataLayer.pixels.google.analytics.universal.property_id,\n\t\t}\n\n\t\tif (product) {\n\t\t\tdata.items = [wpm.ga3GetFullProductItemData(product)]\n\t\t}\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"view_item\", data)\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// add_to_wishlist event\njQuery(document).on(\"wpmAddToWishlist\", (event, product) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"add_to_wishlist\", {\n\t\t\t\tsend_to: wpmDataLayer.pixels.google.analytics.universal.property_id,\n\t\t\t\titems  : [wpm.ga3GetFullProductItemData(product)],\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// remove_from_cart event\njQuery(document).on(\"wpmRemoveFromCart\", (event, product) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"remove_from_cart\", {\n\t\t\t\tsend_to : wpmDataLayer.pixels.google.analytics.universal.property_id,\n\t\t\t\tcurrency: wpmDataLayer.shop.currency,\n\t\t\t\titems   : [wpm.ga3GetFullProductItemData(product)],\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// begin_checkout event\njQuery(document).on(\"wpmBeginCheckout\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"begin_checkout\", {\n\t\t\t\tsend_to : wpmDataLayer.pixels.google.analytics.universal.property_id,\n\t\t\t\tcurrency: wpmDataLayer.shop.currency,\n\t\t\t\titems   : wpm.getCartItemsGaUa(),\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// set_checkout_option event\njQuery(document).on(\"wpmFireCheckoutOption\", (event, data) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"set_checkout_option\", {\n\t\t\t\tsend_to        : wpmDataLayer.pixels.google.analytics.universal.property_id,\n\t\t\t\tcheckout_step  : data.step,\n\t\t\t\tcheckout_option: data.checkout_option,\n\t\t\t\tvalue          : data.value,\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// checkout_progress event\njQuery(document).on(\"wpmFireCheckoutProgress\", (event, data) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"checkout_progress\", {\n\t\t\t\tsend_to      : wpmDataLayer.pixels.google.analytics.universal.property_id,\n\t\t\t\tcheckout_step: data.step,\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// view search event\njQuery(document).on(\"pmwEvent:Search\", () => {\n\n\t\ttry {\n\t\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) return\n\t\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\t\tlet products = []\n\n\t\t\tObject.values(wpmDataLayer.products).forEach(product => {\n\t\t\t\tproducts.push(wpm.ga3GetFullProductItemData(product))\n\t\t\t})\n\n\t\t\twpm.gtagLoaded().then(() => {\n\t\t\t\tgtag(\"event\", \"view_search_results\", {\n\t\t\t\t\tsend_to    : wpmDataLayer.pixels.google.analytics.universal.property_id,\n\t\t\t\t\tsearch_term: wpm.getSearchTermFromUrl(),\n\t\t\t\t\titems      : products,\n\t\t\t\t})\n\t\t\t})\n\t\t} catch\n\t\t\t(e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t},\n)\n\n// User login event\njQuery(document).on(\"wpmLogin\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"login\", {\n\t\t\t\tsend_to: wpmDataLayer.pixels.google.analytics.universal.property_id,\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n/**\n * Scroll tracking event\n */\n\njQuery(document).on(\"pmwScrollDepth\", (event, scrollEvent) => {\n\n\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\tif (!wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) return\n\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\twpm.gtagLoaded().then(() => {\n\t\tgtag(\"event\", \"scroll\", {\n\t\t\tsend_to: wpmDataLayer.pixels.google.analytics.universal.property_id,\n\t\t\tvalue  : scrollEvent.threshold,\n\t\t})\n\t})\n})\n\n\n/**\n * Attach an event listener to all links that contain tel: links\n */\njQuery(document).on(\"click\", \"a[href^='tel:']\", (event) => {\n\n\t// Get the phone number from the link\n\tlet phoneNumber = event.target.href.replace(\"tel:\", \"\")\n\n\t// Trim the phone number and remove all whitespaces\n\tphoneNumber = phoneNumber.replace(/\\s/g, \"\")\n\n\twpm.gtagLoaded().then(() => {\n\t\tgtag(\"event\", \"phone_number_click\", {\n\t\t\tsend_to       : wpmDataLayer.pixels.google.analytics.universal.property_id,\n\t\t\tevent_category: \"phone\",\n\t\t\tevent_label   : phoneNumber,\n\t\t})\n\t})\n})\n","/**\n * Add functions for Google Analytics Universal\n * */\n\n(function (wpm, $, undefined) {\n\n\twpm.getGAUAOrderItems = function () {\n\n\t\t// \"id\"           : \"34\",\n\t\t// \"name\"         : \"Hoodie\",\n\t\t// \"brand\"        : \"\",\n\t\t// \"category\"     : \"Hoodies\",\n\t\t// \"list_position\": 1,\n\t\t// \"price\"        : 45,\n\t\t// \"quantity\"     : 1,\n\t\t// \"variant\"      : \"Color: blue | Logo: yes\"\n\n\n\t\tlet orderItems = []\n\n\t\tObject.values(wpmDataLayer.order.items).forEach((item) => {\n\n\t\t\tlet orderItem\n\n\t\t\torderItem = {\n\t\t\t\tquantity: item.quantity,\n\t\t\t\tprice   : item.price,\n\t\t\t\tname    : item.name,\n\t\t\t\tcurrency: wpmDataLayer.order.currency,\n\t\t\t\tcategory: wpmDataLayer.products[item.id].category.join(\"/\"),\n\t\t\t}\n\n\t\t\tif (wpmDataLayer?.general?.variationsOutput && 0 !== item.variation_id) {\n\n\t\t\t\torderItem.id      = String(wpmDataLayer.products[item.variation_id].dyn_r_ids[wpmDataLayer.pixels.google.analytics.id_type])\n\t\t\t\torderItem.variant = wpmDataLayer.products[item.variation_id].variant_name\n\t\t\t\torderItem.brand   = wpmDataLayer.products[item.variation_id].brand\n\t\t\t} else {\n\n\t\t\t\torderItem.id    = String(wpmDataLayer.products[item.id].dyn_r_ids[wpmDataLayer.pixels.google.analytics.id_type])\n\t\t\t\torderItem.brand = wpmDataLayer.products[item.id].brand\n\t\t\t}\n\n\t\t\torderItem = wpm.ga3AddListNameToProduct(orderItem)\n\n\t\t\torderItems.push(orderItem)\n\t\t})\n\n\t\treturn orderItems\n\t}\n\n\twpm.ga3AddListNameToProduct = function (item_data, productPosition = null) {\n\n\t\t// if (wpm.ga3CanProductListBeSet(item_data.id)) {\n\t\t// \titem_data.listname = wpmDataLayer.shop.list_name\n\t\t//\n\t\t// \tif (productPosition) {\n\t\t// \t\titem_data.list_position = productPosition\n\t\t// \t}\n\t\t// }\n\n\t\titem_data.list_name = wpmDataLayer.shop.list_name\n\n\t\tif (productPosition) {\n\t\t\titem_data.list_position = productPosition\n\t\t}\n\n\t\treturn item_data\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery))\n","/**\n * Load Google Universal Analytics (GA3) premium functions\n * */\n\n(function (wpm, $, undefined) {\n\n\twpm.getCartItemsGaUa = function () {\n\n\t\tlet data = []\n\n\t\tObject.values(wpmDataLayer.cart).forEach(product => {\n\t\t\tdata.push(wpm.ga3GetFullProductItemData(product))\n\t\t})\n\n\t\treturn data\n\t}\n\n\twpm.ga3GetBasicProductItemData = function (product) {\n\n\t\treturn {\n\t\t\tid      : product.dyn_r_ids[wpmDataLayer.pixels.google.analytics.id_type],\n\t\t\tname    : product.name,\n\t\t\tbrand   : product.brand,\n\t\t\tcategory: product.category.join(\"/\"),\n\t\t\t// coupon   : \"\",\n\t\t\t// list_name    : wpmDataLayer.shop.list_name,\n\t\t\t// list_position: product.list_position, // doesn't make sense on mini_cart\n\t\t\tprice   : product.price,\n\t\t\tquantity: product.quantity,\n\t\t\tvariant : product.variant,\n\t\t}\n\t}\n\n\n\twpm.ga3CanProductListBeSet = function (productId) {\n\n\t\tif (window.sessionStorage) {\n\n\t\t\t// Check if the wpm_product_list_store_ga3 already exists,\n\t\t\t// and if not, create it\n\t\t\tif (window.sessionStorage.getItem(\"wpm_product_list_store_ga3\") === null) {\n\t\t\t\twindow.sessionStorage.setItem(\"wpm_product_list_store_ga3\", JSON.stringify([]))\n\t\t\t}\n\n\t\t\tlet wpmProductListStore = JSON.parse(window.sessionStorage.getItem(\"wpm_product_list_store_ga3\"))\n\n\t\t\tif (wpmProductListStore.includes(productId)) {\n\n\t\t\t\treturn false\n\t\t\t} else {\n\n\t\t\t\twpmProductListStore.push(productId)\n\t\t\t\twindow.sessionStorage.setItem(\"wpm_product_list_store_ga3\", JSON.stringify(wpmProductListStore))\n\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n\n\twpm.ga3GetFullProductItemData = function (product) {\n\n\t\tlet item_data\n\n\t\titem_data = wpm.ga3GetBasicProductItemData(product)\n\t\titem_data = wpm.ga3AddListNameToProduct(item_data, product.position)\n\n\t\treturn item_data\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery))\n","/**\n * Google Universal Analytics (GA3) loader\n */\n\nrequire(\"./functions\")\nrequire(\"./event_listeners\")\n\n// #if process.env.TIER === 'premium'\nif (wpm.canLoadPremiumFeatures()) {\n\trequire(\"./functions_premium\")\n\trequire(\"./event_listeners_premium\")\n}\n// #endif\n","/**\n * Load GA4 event listeners\n * */\n\n\n// view order received page event\njQuery(document).on(\"wpmOrderReceivedPage\", function () {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) return\n\n\t\t// ga4_server_and_browser_tracking experiment\n\t\t// ga4e: if (wpmDataLayer?.pixels?.google?.analytics?.ga4?.mp_active) {\n\t\t// \tif (wpmDataLayer?.experiments?.ga4_server_and_browser_tracking) {\n\t\t// \t\tbreak ga4e\n\t\t// \t}\n\t\t// \treturn\n\t\t// }\n\n\t\t// Deactivated for the ga4_server_and_browser_tracking experiment\n\t\tif (wpmDataLayer?.pixels?.google?.analytics?.ga4?.mp_active) return\n\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(function () {\n\t\t\tgtag(\"event\", \"purchase\", {\n\t\t\t\tsend_to       : [wpmDataLayer.pixels.google.analytics.ga4.measurement_id],\n\t\t\t\ttransaction_id: wpmDataLayer.order.number,\n\t\t\t\taffiliation   : wpmDataLayer.order.affiliation,\n\t\t\t\tcurrency      : wpmDataLayer.order.currency,\n\t\t\t\tvalue         : wpmDataLayer.order.value_regular,\n\t\t\t\tdiscount      : wpmDataLayer.order.discount,\n\t\t\t\ttax           : wpmDataLayer.order.tax,\n\t\t\t\tshipping      : wpmDataLayer.order.shipping,\n\t\t\t\tcoupon        : wpmDataLayer.order.coupon,\n\t\t\t\titems         : wpm.getGA4OrderItems(),\n\t\t\t})\n\t\t})\n\n\t\t// wpm.gtagLoaded().then(function () {\n\t\t// \tgtag(\"get\", wpmDataLayer.pixels.google.analytics.ga4.measurement_id, \"client_id\", (client_id) => {\n\t\t// \t\tconsole.log(\"transaction_id: \" + wpmDataLayer.order.number + \" client_id: \" + client_id)\n\t\t// \t})\n\t\t// })\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n","/**\n * Load GA4 premium event listeners\n * */\n\n// view_item_list event\n// https://developers.google.com/analytics/devguides/collection/ga4/ecommerce?client_type=gtag#view_item_list\njQuery(document).on(\"wpmViewItemList\", (event, product) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"view_item_list\", {\n\t\t\t\tsend_to       : wpmDataLayer.pixels.google.analytics.ga4.measurement_id,\n\t\t\t\titems         : [wpm.ga4GetFullProductItemData(product)],\n\t\t\t\titem_list_name: wpmDataLayer.shop.list_name, // doesn't make sense on mini_cart\n\t\t\t\titem_list_id  : wpmDataLayer.shop.list_id, // doesn't make sense on mini_cart\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// select_item event\n// https://developers.google.com/analytics/devguides/collection/ga4/ecommerce?client_type=gtag#select_item\njQuery(document).on(\"wpmSelectItem\", (event, product) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"select_item\", {\n\t\t\t\tsend_to: wpmDataLayer.pixels.google.analytics.ga4.measurement_id,\n\t\t\t\titems  : [wpm.ga4GetFullProductItemData(product)],\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// add_to_cart event\n// https://developers.google.com/analytics/devguides/collection/ga4/ecommerce?client_type=gtag#add_to_cart\njQuery(document).on(\"wpmAddToCart\", (event, product) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"add_to_cart\", {\n\t\t\t\tsend_to : wpmDataLayer.pixels.google.analytics.ga4.measurement_id,\n\t\t\t\tcurrency: wpmDataLayer.shop.currency,\n\t\t\t\t// value: 0,\n\t\t\t\titems: [wpm.ga4GetFullProductItemData(product)],\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// view_item event\n// https://developers.google.com/analytics/devguides/collection/ga4/ecommerce?client_type=gtag#view_item\njQuery(document).on(\"wpmViewItem\", (event, product = null) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\tlet data = {\n\t\t\tsend_to: wpmDataLayer.pixels.google.analytics.ga4.measurement_id,\n\t\t}\n\n\t\tif (product) {\n\t\t\tdata.currency = wpmDataLayer.shop.currency\n\t\t\t// data.value = 0\n\t\t\tdata.items    = [wpm.ga4GetFullProductItemData(product)]\n\t\t}\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"view_item\", data)\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// add_to_wishlist event\n// https://developers.google.com/analytics/devguides/collection/ga4/ecommerce?client_type=gtag#add_to_wishlist\njQuery(document).on(\"wpmAddToWishlist\", (event, product) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"add_to_wishlist\", {\n\t\t\t\tsend_to : wpmDataLayer.pixels.google.analytics.ga4.measurement_id,\n\t\t\t\tcurrency: wpmDataLayer.shop.currency,\n\t\t\t\t// value: 0,\n\t\t\t\titems: [wpm.ga4GetFullProductItemData(product)],\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// remove_from_cart event\n// https://developers.google.com/analytics/devguides/collection/ga4/ecommerce?client_type=gtag#remove_from_cart\njQuery(document).on(\"wpmRemoveFromCart\", (event, product) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"remove_from_cart\", {\n\t\t\t\tsend_to : wpmDataLayer.pixels.google.analytics.ga4.measurement_id,\n\t\t\t\tcurrency: wpmDataLayer.shop.currency,\n\t\t\t\t// value: 0,\n\t\t\t\titems: [wpm.ga4GetFullProductItemData(product)],\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// begin_checkout event\n// https://developers.google.com/analytics/devguides/collection/ga4/ecommerce?client_type=gtag#begin_checkout\njQuery(document).on(\"wpmBeginCheckout\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"begin_checkout\", {\n\t\t\t\tsend_to: wpmDataLayer.pixels.google.analytics.ga4.measurement_id,\n\t\t\t\t// coupon: \"\",\n\t\t\t\tcurrency: wpmDataLayer.shop.currency,\n\t\t\t\t// value: 0,\n\t\t\t\titems: wpm.getCartItemsGa4(),\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// view_cart event\n// https://developers.google.com/analytics/devguides/collection/ga4/ecommerce?client_type=gtag#view_cart\njQuery(document).on(\"wpmViewCart\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\tif (jQuery.isEmptyObject(wpmDataLayer.cart)) return\n\n\t\tlet products  = []\n\t\tlet cartValue = null\n\n\t\tObject.values(wpmDataLayer.cart).forEach(product => {\n\t\t\tproducts.push(wpm.ga4GetFullProductItemData(product))\n\t\t\tcartValue = cartValue + product.quantity * product.price\n\t\t})\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"view_cart\", {\n\t\t\t\tsend_to : wpmDataLayer.pixels.google.analytics.ga4.measurement_id,\n\t\t\t\tcurrency: wpmDataLayer.shop.currency,\n\t\t\t\tvalue   : cartValue.toFixed(2),\n\t\t\t\titems   : products,\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n\n// view search event\njQuery(document).on(\"pmwEvent:Search\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\t\tlet products = []\n\n\t\tObject.values(wpmDataLayer.products).forEach(product => {\n\t\t\tproducts.push(wpm.ga4GetFullProductItemData(product))\n\t\t})\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"view_search_results\", {\n\t\t\t\tsend_to    : wpmDataLayer.pixels.google.analytics.ga4.measurement_id,\n\t\t\t\tsearch_term: wpm.getSearchTermFromUrl(),\n\t\t\t\titems      : products,\n\t\t\t})\n\n\t\t})\n\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// user log in event\njQuery(document).on(\"wpmLogin\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\t\tif (!wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) return\n\t\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\n\t\twpm.gtagLoaded().then(() => {\n\t\t\tgtag(\"event\", \"login\", {\n\t\t\t\tsend_to: wpmDataLayer.pixels.google.analytics.ga4.measurement_id,\n\t\t\t})\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n\n/**\n * Scroll tracking event\n */\n\njQuery(document).on(\"pmwScrollDepth\", (event, scrollEvent) => {\n\n\tif (!wpmDataLayer?.pixels?.google?.analytics?.eec) return\n\tif (!wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) return\n\tif (!wpm.googleConfigConditionsMet(\"analytics\")) return\n\n\twpm.gtagLoaded().then(() => {\n\t\tgtag(\"event\", \"scroll\", {\n\t\t\tsend_to: wpmDataLayer.pixels.google.analytics.ga4.measurement_id,\n\t\t\tvalue  : scrollEvent.threshold,\n\t\t})\n\t})\n})\n\n/**\n * Attach an event listener to all links that contain tel: links\n */\njQuery(document).on(\"click\", \"a[href^='tel:']\", (event) => {\n\n\t// Get the phone number from the link\n\tlet phoneNumber = event.target.href.replace(\"tel:\", \"\")\n\n\t// Trim the phone number and remove all whitespaces\n\tphoneNumber = phoneNumber.replace(/\\s/g, \"\")\n\n\twpm.gtagLoaded().then(() => {\n\t\tgtag(\"event\", \"phone_number_click_\" + phoneNumber, {\n\t\t\tsend_to: wpmDataLayer.pixels.google.analytics.ga4.measurement_id,\n\t\t})\n\t})\n})\n","/**\n * Load GA4 functions\n * */\n\n(function (wpm, $, undefined) {\n\n\twpm.getGA4OrderItems = function () {\n\n\t\t// \"item_id\"      : \"34\",\n\t\t// \"item_name\"    : \"Hoodie\",\n\t\t// \"quantity\"     : 1,\n\t\t// \"item_brand\"   : \"\",\n\t\t// \"item_variant\" : \"Color: blue | Logo: yes\",\n\t\t// \"price\"        : 45,\n\t\t// \"currency\"     : \"CHF\",\n\t\t// \"item_category\": \"Hoodies\"\n\n\n\t\tlet orderItems = []\n\n\t\tObject.values(wpmDataLayer.order.items).forEach((item) => {\n\t\t\tlet orderItem\n\n\t\t\torderItem = {\n\t\t\t\tquantity     : item.quantity,\n\t\t\t\tprice        : item.price,\n\t\t\t\titem_name    : item.name,\n\t\t\t\tcurrency     : wpmDataLayer.order.currency,\n\t\t\t\titem_category: wpmDataLayer.products[item.id].category.join(\"/\"),\n\t\t\t}\n\n\t\t\tif (wpmDataLayer?.general?.variationsOutput && 0 !== item.variation_id) {\n\n\t\t\t\torderItem.item_id      = String(wpmDataLayer.products[item.variation_id].dyn_r_ids[wpmDataLayer.pixels.google.analytics.id_type])\n\t\t\t\torderItem.item_variant = wpmDataLayer.products[item.variation_id].variant_name\n\t\t\t\torderItem.item_brand   = wpmDataLayer.products[item.variation_id].brand\n\t\t\t} else {\n\n\t\t\t\torderItem.item_id    = String(wpmDataLayer.products[item.id].dyn_r_ids[wpmDataLayer.pixels.google.analytics.id_type])\n\t\t\t\torderItem.item_brand = wpmDataLayer.products[item.id].brand\n\t\t\t}\n\n\t\t\torderItems.push(orderItem)\n\t\t})\n\n\t\treturn orderItems\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery))\n","/**\n * Load GA4 premium functions\n * */\n\n(function (wpm, $, undefined) {\n\n\twpm.ga4AddFormattedCategories =  (item_data, categories) => {\n\n\t\tlet maxCategories = 5\n\n\t\t// remove categories with equal names from array\n\t\tcategories = Array.from(new Set(categories))\n\n\t\tif (Array.isArray(categories) && categories.length) {\n\n\t\t\titem_data[\"item_category\"] = categories[0]\n\n\t\t\tlet max = categories.length > maxCategories ? maxCategories : categories.length\n\n\t\t\tfor (let i = 1; i < max; i++) {\n\t\t\t\titem_data[\"item_category\" + (i + 1)] = categories[i]\n\t\t\t}\n\t\t}\n\n\t\treturn item_data\n\t}\n\n\twpm.getCartItemsGa4 =  () => {\n\n\t\tlet data = []\n\n\t\tObject.values(wpmDataLayer.cart).forEach(product => {\n\t\t\tdata.push(wpm.ga4GetFullProductItemData(product))\n\t\t})\n\n\t\treturn data\n\t}\n\n\twpm.ga4GetBasicProductItemData =  (product) => {\n\n\t\treturn {\n\t\t\titem_id  : product.dyn_r_ids[wpmDataLayer.pixels.google.analytics.id_type],\n\t\t\titem_name: product.name,\n\t\t\t// coupon   : \"\",\n\t\t\t// discount: 0,\n\t\t\t// affiliation: \"\",\n\t\t\titem_brand  : product.brand,\n\t\t\titem_variant: product.variant,\n\t\t\tprice       : product.price,\n\t\t\tcurrency    : wpmDataLayer.shop.currency,\n\t\t\tquantity    : product.quantity,\n\t\t}\n\t}\n\n\twpm.ga4AddListNameToProduct =  (item_data, productPosition = null) => {\n\n\t\titem_data.item_list_name = wpmDataLayer.shop.list_name\n\t\titem_data.item_list_id   = wpmDataLayer.shop.list_id\n\n\t\tif (productPosition) {\n\t\t\titem_data.index = productPosition\n\t\t}\n\n\t\treturn item_data\n\t}\n\n\twpm.ga4GetFullProductItemData =  (product)=> {\n\n\t\tlet item_data\n\n\t\titem_data = wpm.ga4GetBasicProductItemData(product)\n\t\titem_data = wpm.ga4AddListNameToProduct(item_data, product.position)\n\t\titem_data = wpm.ga4AddFormattedCategories(item_data, product.category)\n\n\t\treturn item_data\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery))\n","/**\n * GA4 loader\n */\n\nrequire(\"./functions\")\nrequire(\"./event_listeners\")\n\n// #if process.env.TIER === 'premium'\nif (wpm.canLoadPremiumFeatures()) {\n\trequire(\"./functions_premium\")\n\trequire(\"./event_listeners_premium\")\n}\n// #endif\n","/**\n * Google Analytics loader\n */\n\nrequire(\"./ga3/loader\")\nrequire(\"./ga4/loader\")\n","/**\n * Load Google base event listeners\n */\n\n// Pixel load event listener\njQuery(document).on(\"wpmLoadPixels\", function () {\n\n\tif (typeof wpmDataLayer?.pixels?.google?.state === \"undefined\") {\n\t\tif (wpm.canGoogleLoad()) {\n\t\t\twpm.loadGoogle()\n\t\t} else {\n\t\t\twpm.logPreventedPixelLoading(\"google\", \"analytics / ads\")\n\t\t}\n\t}\n})\n","/**\n * Run the following on every page load\n */\n\njQuery(document).on(\"wpmLoadAlways\", function () {\n\n\ttry {\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n","/**\n * Load Google base functions\n */\n\n(function (wpm, $, undefined) {\n\n\twpm.googleConfigConditionsMet = (type) => {\n\n\t\t// always returns true if Google Consent Mode is active\n\t\tif (wpmDataLayer?.pixels?.google?.consent_mode?.active) {\n\t\t\treturn true\n\t\t} else if (wpm.getConsentValues().mode === \"category\") {\n\t\t\treturn wpm.getConsentValues().categories[type] === true\n\t\t} else if (wpm.getConsentValues().mode === \"pixel\") {\n\t\t\treturn wpm.getConsentValues().pixels.includes(\"google-\" + type)\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n\n\twpm.getVisitorConsentStatusAndUpdateGoogleConsentSettings = (google_consent_settings) => {\n\n\t\tif (wpm.getConsentValues().mode === \"category\") {\n\n\t\t\tif (wpm.getConsentValues().categories.analytics) google_consent_settings.analytics_storage = \"granted\"\n\t\t\tif (wpm.getConsentValues().categories.ads) google_consent_settings.ad_storage = \"granted\"\n\t\t} else if ((wpm.getConsentValues().mode === \"pixel\")) {\n\n\t\t\tgoogle_consent_settings.analytics_storage = wpm.getConsentValues().pixels.includes(\"google-analytics\") ? \"granted\" : \"denied\"\n\t\t\tgoogle_consent_settings.ad_storage        = wpm.getConsentValues().pixels.includes(\"google-ads\") ? \"granted\" : \"denied\"\n\t\t}\n\n\t\treturn google_consent_settings\n\t}\n\n\twpm.updateGoogleConsentMode = (analytics = true, ads = true) => {\n\n\t\ttry {\n\t\t\tif (\n\t\t\t\t!window.gtag ||\n\t\t\t\t!wpmDataLayer.shop.cookie_consent_mgmt.explicit_consent\n\t\t\t) return\n\n\t\t\tgtag(\"consent\", \"update\", {\n\t\t\t\tanalytics_storage: analytics ? \"granted\" : \"denied\",\n\t\t\t\tad_storage       : ads ? \"granted\" : \"denied\",\n\t\t\t})\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.fireGtagGoogleAds = () => {\n\t\ttry {\n\t\t\twpmDataLayer.pixels.google.ads.state = \"loading\"\n\n\t\t\tif (wpmDataLayer?.pixels?.google?.ads?.enhanced_conversions?.active) {\n\t\t\t\tObject.keys(wpmDataLayer.pixels.google.ads.conversionIds).forEach((key) => {\n\t\t\t\t\tgtag(\"config\", key, {\"allow_enhanced_conversions\": true})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tObject.keys(wpmDataLayer.pixels.google.ads.conversionIds).forEach((key) => {\n\t\t\t\t\tgtag(\"config\", key)\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (wpmDataLayer?.pixels?.google?.ads?.conversionIds && wpmDataLayer?.pixels?.google?.ads?.phone_conversion_label && wpmDataLayer?.pixels?.google?.ads?.phone_conversion_number) {\n\t\t\t\tgtag(\"config\", Object.keys(wpmDataLayer.pixels.google.ads.conversionIds)[0] + \"/\" + wpmDataLayer.pixels.google.ads.phone_conversion_label, {\n\t\t\t\t\tphone_conversion_number: wpmDataLayer.pixels.google.ads.phone_conversion_number,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// https://support.google.com/google-ads/answer/9888145#zippy=%2Cvalidate-your-implementation-using-chrome-developer-tools\n\t\t\tif (\n\t\t\t\twpmDataLayer?.shop?.page_type\n\t\t\t\t&& \"order_received_page\" === wpmDataLayer.shop.page_type\n\t\t\t\t&& wpmDataLayer?.order?.google?.ads?.enhanced_conversion_data\n\t\t\t) {\n\t\t\t\tgtag(\"set\", \"user_data\", wpmDataLayer.order.google.ads.enhanced_conversion_data)\n\t\t\t}\n\n\t\t\twpmDataLayer.pixels.google.ads.state = \"ready\"\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.fireGtagGoogleAnalyticsUA = () => {\n\n\t\ttry {\n\t\t\twpmDataLayer.pixels.google.analytics.universal.state = \"loading\"\n\n\t\t\tgtag(\"config\", wpmDataLayer.pixels.google.analytics.universal.property_id, wpmDataLayer.pixels.google.analytics.universal.parameters)\n\t\t\twpmDataLayer.pixels.google.analytics.universal.state = \"ready\"\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.fireGtagGoogleAnalyticsGA4 = () => {\n\n\t\ttry {\n\t\t\twpmDataLayer.pixels.google.analytics.ga4.state = \"loading\"\n\n\t\t\tlet parameters = wpmDataLayer.pixels.google.analytics.ga4.parameters\n\n\t\t\tif (wpmDataLayer?.pixels?.google?.analytics?.ga4?.debug_mode) {\n\t\t\t\tparameters.debug_mode = true\n\t\t\t}\n\n\t\t\tgtag(\"config\", wpmDataLayer.pixels.google.analytics.ga4.measurement_id, parameters)\n\n\t\t\twpmDataLayer.pixels.google.analytics.ga4.state = \"ready\"\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.isGoogleActive = () => {\n\n\t\tif (\n\t\t\twpmDataLayer?.pixels?.google?.analytics?.universal?.property_id ||\n\t\t\twpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id ||\n\t\t\t!jQuery.isEmptyObject(wpmDataLayer?.pixels?.google?.ads?.conversionIds)\n\t\t) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n\n\twpm.getGoogleGtagId = () => {\n\n\t\tif (wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) {\n\t\t\treturn wpmDataLayer.pixels.google.analytics.universal.property_id\n\t\t} else if (wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) {\n\t\t\treturn wpmDataLayer.pixels.google.analytics.ga4.measurement_id\n\t\t} else {\n\t\t\treturn Object.keys(wpmDataLayer.pixels.google.ads.conversionIds)[0]\n\t\t}\n\t}\n\n\n\twpm.loadGoogle = () => {\n\n\t\tif (wpm.isGoogleActive()) {\n\n\t\t\twpmDataLayer.pixels.google.state = \"loading\"\n\n\t\t\twpm.loadScriptAndCacheIt(\"https://www.googletagmanager.com/gtag/js?id=\" + wpm.getGoogleGtagId())\n\t\t\t\t.then((script, textStatus) => {\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\t// Initiate Google dataLayer and gtag\n\t\t\t\t\t\twindow.dataLayer = window.dataLayer || []\n\t\t\t\t\t\twindow.gtag      = function gtag() {\n\t\t\t\t\t\t\tdataLayer.push(arguments)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Google Consent Mode\n\t\t\t\t\t\tif (wpmDataLayer?.pixels?.google?.consent_mode?.active) {\n\n\t\t\t\t\t\t\tlet google_consent_settings = {\n\t\t\t\t\t\t\t\t\"ad_storage\"       : wpmDataLayer.pixels.google.consent_mode.ad_storage,\n\t\t\t\t\t\t\t\t\"analytics_storage\": wpmDataLayer.pixels.google.consent_mode.analytics_storage,\n\t\t\t\t\t\t\t\t\"wait_for_update\"  : wpmDataLayer.pixels.google.consent_mode.wait_for_update,\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (wpmDataLayer?.pixels?.google?.consent_mode?.region) {\n\t\t\t\t\t\t\t\tgoogle_consent_settings.region = wpmDataLayer.pixels.google.consent_mode.region\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tgoogle_consent_settings = wpm.getVisitorConsentStatusAndUpdateGoogleConsentSettings(google_consent_settings)\n\n\t\t\t\t\t\t\tgtag(\"consent\", \"default\", google_consent_settings)\n\t\t\t\t\t\t\tgtag(\"set\", \"ads_data_redaction\", wpmDataLayer.pixels.google.consent_mode.ads_data_redaction)\n\t\t\t\t\t\t\tgtag(\"set\", \"url_passthrough\", wpmDataLayer.pixels.google.consent_mode.url_passthrough)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Google Linker\n\t\t\t\t\t\t// https://developers.google.com/gtagjs/devguide/linker\n\t\t\t\t\t\tif (wpmDataLayer?.pixels?.google?.linker?.settings) {\n\t\t\t\t\t\t\tgtag(\"set\", \"linker\", wpmDataLayer.pixels.google.linker.settings)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgtag(\"js\", new Date())\n\n\t\t\t\t\t\t// Google Ads loader\n\t\t\t\t\t\tif (!jQuery.isEmptyObject(wpmDataLayer?.pixels?.google?.ads?.conversionIds)) {  // Only run if the pixel has set up\n\t\t\t\t\t\t\tif (wpm.googleConfigConditionsMet(\"ads\")) {  \t\t\t\t\t\t\t// Only run if cookie consent has been given\n\t\t\t\t\t\t\t\twpm.fireGtagGoogleAds()\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twpm.logPreventedPixelLoading(\"google-ads\", \"ads\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Google Universal Analytics loader\n\t\t\t\t\t\tif (wpmDataLayer?.pixels?.google?.analytics?.universal?.property_id) {  \t\t// Only run if the pixel has set up\n\n\t\t\t\t\t\t\tif (wpm.googleConfigConditionsMet(\"analytics\")) {\t\t\t\t\t\t// Only run if cookie consent has been given\n\t\t\t\t\t\t\t\twpm.fireGtagGoogleAnalyticsUA()\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twpm.logPreventedPixelLoading(\"google-universal-analytics\", \"analytics\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// GA4 loader\n\t\t\t\t\t\tif (wpmDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id) {  \t\t\t// Only run if the pixel has set up\n\n\t\t\t\t\t\t\tif (wpm.googleConfigConditionsMet(\"analytics\")) {\t\t\t\t\t\t// Only run if cookie consent has been given\n\t\t\t\t\t\t\t\twpm.fireGtagGoogleAnalyticsGA4()\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twpm.logPreventedPixelLoading(\"ga4\", \"analytics\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twpmDataLayer.pixels.google.state = \"ready\"\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.error(e)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t}\n\t}\n\n\twpm.canGoogleLoad = () => {\n\n\t\tif (wpmDataLayer?.pixels?.google?.consent_mode?.active) {\n\t\t\treturn true\n\t\t} else if (\"category\" === wpm.getConsentValues().mode) {\n\t\t\treturn !!(wpm.getConsentValues().categories[\"ads\"] || wpm.getConsentValues().categories[\"analytics\"])\n\t\t} else if (\"pixel\" === wpm.getConsentValues().mode) {\n\t\t\treturn wpm.getConsentValues().pixels.includes(\"google-ads\") || wpm.getConsentValues().pixels.includes(\"google-analytics\")\n\t\t} else {\n\t\t\tconsole.error(\"Couldn't find a valid load condition for Google mode in wpmConsentValues\")\n\t\t\treturn false\n\t\t}\n\t}\n\n\twpm.gtagLoaded = () => {\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tif (typeof wpmDataLayer?.pixels?.google?.state === \"undefined\") reject()\n\n\t\t\tlet startTime = 0\n\t\t\tlet timeout   = 5000\n\t\t\tlet frequency = 200;\n\n\t\t\t(function wait() {\n\t\t\t\tif (wpmDataLayer?.pixels?.google?.state === \"ready\") return resolve()\n\t\t\t\tif (startTime >= timeout) return reject()\n\t\t\t\tstartTime += frequency\n\t\t\t\tsetTimeout(wait, frequency)\n\t\t\t})()\n\t\t})\n\t}\n\n\n}(window.wpm = window.wpm || {}, jQuery))\n","/**\n * Load Google base premium functions\n */\n\n(function (wpm, $, undefined) {\n\n\n}(window.wpm = window.wpm || {}, jQuery))\n","/**\n * Load Google base\n */\n\n// Load base\nrequire(\"./functions\")\nrequire(\"./event_listeners\")\n\n// #if process.env.TIER === 'premium'\nif (wpm.canLoadPremiumFeatures()) {\n\trequire(\"./functions_premium\")\n\trequire(\"./event_listeners_premium\")\n}\n// #endif\n","/**\n * Load Google\n */\n\n// Load base\nrequire(\"./base/loader\")\n\n//Load additional Google libraries\nrequire(\"./ads/loader\")\nrequire(\"./analytics/loader\")\nrequire(\"./optimize/loader\")\n\n\n","/**\n * Load Google Optimize event listeners\n */\n\njQuery(document).on(\"wpmLoadPixels\", function () {\n\n\tif (wpmDataLayer?.pixels?.google?.optimize?.container_id && !wpmDataLayer?.pixels?.google?.optimize?.loaded) {\n\t\tif (wpm.canIFire(\"analytics\", \"google-optimize\")) wpm.load_google_optimize_pixel()\n\t}\n})\n","/**\n * Load Google Optimize functions\n */\n\n\n(function (wpm, $, undefined) {\n\n\twpm.load_google_optimize_pixel = function () {\n\n\t\ttry {\n\t\t\twpmDataLayer.pixels.google.optimize.loaded = true\n\n\t\t\twpm.loadScriptAndCacheIt(\"https://www.googleoptimize.com/optimize.js?id=\" + wpmDataLayer.pixels.google.optimize.container_id)\n\t\t\t// .then(function (script, textStatus) {\n\t\t\t// \t\tconsole.log('Google Optimize loaded')\n\t\t\t// });\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery));\n","/**\n * Load Google Optimize\n */\n\nrequire(\"./functions\")\nrequire(\"./event_listeners\")\n","/**\n * Load Hotjar event listeners\n */\n\n// Pixel load event listener\njQuery(document).on(\"wpmLoadPixels\", function () {\n\n\tif (wpmDataLayer?.pixels?.hotjar?.site_id && !wpmDataLayer?.pixels?.hotjar?.loaded) {\n\t\tif (wpm.canIFire(\"analytics\", \"hotjar\") && !wpmDataLayer?.pixels?.hotjar?.loaded) wpm.load_hotjar_pixel()\n\t}\n})\n","/**\n * Load Hotjar functions\n */\n\n(function (wpm, $, undefined) {\n\n\twpm.load_hotjar_pixel = function () {\n\n\t\ttry {\n\t\t\twpmDataLayer.pixels.hotjar.loaded = true;\n\n\t\t\t// @formatter:off\n\t\t\t(function(h,o,t,j,a,r){\n\t\t\t\th.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};\n\t\t\t\th._hjSettings={hjid:wpmDataLayer.pixels.hotjar.site_id,hjsv:6};\n\t\t\t\ta=o.getElementsByTagName('head')[0];\n\t\t\t\tr=o.createElement('script');r.async=1;\n\t\t\t\tr.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;\n\t\t\t\ta.appendChild(r);\n\t\t\t})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');\n\t\t\t// @formatter:on\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery));\n","/**\n * Hotjar loader\n */\n\nrequire(\"./functions\")\nrequire(\"./event_listeners\")\n","/**\n * Load Microsoft Ads event listeners\n *\n * https://help.ads.microsoft.com/#apex/ads/en/56684/2\n * https://help.ads.microsoft.com/#apex/ads/en/60118/-1\n *\n * add_payment_info, add_to_cart, add_to_wishlist, begin_checkout, checkout_progress, exception, generate_lead, login, page_view, purchase, refund, remove_from_cart, screen_view, search, select_content, set_checkout_option, share, sign_up, timing_complete, view_item, view_item_list, view_promotion, view_search_results\n *\n * */\n\n// Pixel load event listener\njQuery(document).on(\"wpmLoadPixels\", () => {\n\n\tif (wpmDataLayer?.pixels?.bing?.uet_tag_id && !wpmDataLayer?.pixels?.bing?.loaded) {\n\t\tif (wpm.canIFire(\"ads\", \"microsoft-ads\")) wpm.load_bing_pixel()\n\t}\n})\n\n// https://help.ads.microsoft.com/#apex/ads/en/60118/-1\n// add-to-cart event\njQuery(document).on(\"wpmAddToCart\", (event, product) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.bing?.loaded) return\n\n\t\twindow.uetq.push(\"event\", \"add_to_cart\", {\n\t\t\tecomm_pagetype: \"cart\",\n\t\t\tecomm_prodid  : product.dyn_r_ids[wpmDataLayer.pixels.bing.dynamic_remarketing.id_type],\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// https://help.ads.microsoft.com/#apex/ads/en/60118/-1\n// view product event\njQuery(document).on(\"wpmViewItem\", (event, product = null) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.bing?.loaded) return\n\n\t\tlet data = {}\n\n\t\tif (product) {\n\t\t\tdata.ecomm_pagetype = \"product\"\n\t\t\tdata.ecomm_prodid   = product.dyn_r_ids[wpmDataLayer.pixels.bing.dynamic_remarketing.id_type]\n\t\t}\n\n\t\twindow.uetq.push(\"event\", \"\", data)\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// https://help.ads.microsoft.com/#apex/ads/en/60118/-1\n// view category event\njQuery(document).on(\"wpmCategory\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.bing?.loaded) return\n\n\t\tlet data = {\n\t\t\tecomm_pagetype: \"category\",\n\t\t}\n\n\t\tif (Object.keys(wpmDataLayer?.products || {}).length) {\n\t\t\tdata.ecomm_prodid = wpm.getBingDataLayerProducts()\n\t\t}\n\n\t\twindow.uetq.push(\"event\", \"\", data)\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// https://help.ads.microsoft.com/#apex/ads/en/60118/-1\n// view search event\njQuery(document).on(\"pmwEvent:Search\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.bing?.loaded) return\n\n\t\tlet data = {\n\t\t\tecomm_query   : wpm.getSearchTermFromUrl(),\n\t\t\tecomm_pagetype: \"searchresults\",\n\t\t}\n\n\t\tif (Object.keys(wpmDataLayer?.products || {}).length) {\n\t\t\tdata.ecomm_prodid = wpm.getBingDataLayerProducts()\n\t\t}\n\n\t\twindow.uetq.push(\"event\", \"\", data)\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n/**\n * The ecomm_pagetype parameter identifies the type of page the user has visited.\n * Valid options: home, searchresults, category, product, cart, purchase, other.\n * */\n// view category event\njQuery(document).on(\"wpmEverywhereElse\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.bing?.loaded) return\n\n\t\tlet data = {\n\t\t\tecomm_pagetype: wpmDataLayer?.shop?.page_type === \"front_page\" ? \"home\" : \"other\",\n\t\t}\n\n\t\tif (Object.keys(wpmDataLayer?.products || {}).length) {\n\t\t\tdata.ecomm_prodid = wpm.getBingDataLayerProducts()\n\t\t}\n\n\t\twindow.uetq.push(\"event\", \"\", data)\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// https://help.ads.microsoft.com/#apex/ads/en/60118/-1\n// view order received page event\njQuery(document).on(\"wpmOrderReceivedPage\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.bing?.loaded) return\n\n\t\twindow.uetq.push(\"event\", \"purchase\", {\n\t\t\tecomm_pagetype: \"purchase\",\n\t\t\tecomm_prodid  : wpm.bing_purchase_ecomm_prodids(),\n\t\t\trevenue_value : wpmDataLayer.order.value_filtered,\n\t\t\tcurrency      : wpmDataLayer.order.currency,\n\t\t\titems         : wpm.bing_purchase_items(),\n\t\t})\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n","/**\n * Load Microsoft Ads premium functions\n * */\n\n(function (wpm, $, undefined) {\n\n\twpm.load_bing_pixel = () => {\n\n\t\ttry {\n\t\t\twpmDataLayer.pixels.bing.loaded = true\n\n\t\t\t// @formatter:off\n\t\t\twindow.uetq = window.uetq || [];\n\n\t\t\t(function(w,d,t,r,u){var f,n,i;w[u]=w[u]||[],f=function(){var o={ti:wpmDataLayer.pixels.bing.uet_tag_id};o.q=w[u],w[u]=new UET(o),w[u].push(\"pageLoad\")},n=d.createElement(t),n.src=r,n.async=1,n.onload=n.onreadystatechange=function(){var s=this.readyState;s&&s!==\"loaded\"&&s!==\"complete\"||(f(),n.onload=n.onreadystatechange=null)},i=d.getElementsByTagName(t)[0],i.parentNode.insertBefore(n,i)})(window,document,\"script\",\"//bat.bing.com/bat.js\",\"uetq\");\n\t\t\t// @formatter:on\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.bing_purchase_ecomm_prodids = () => {\n\n\t\tlet prodIds = []\n\n\t\tObject.values(wpmDataLayer.order.items).forEach((orderItem) => {\n\n\t\t\tif (wpmDataLayer?.general?.variationsOutput && 0 !== orderItem.variation_id) {\n\t\t\t\tprodIds.push(String(wpmDataLayer.products[orderItem.variation_id].dyn_r_ids[wpmDataLayer.pixels.bing.dynamic_remarketing.id_type]))\n\t\t\t} else {\n\t\t\t\tprodIds.push(String(wpmDataLayer.products[orderItem.id].dyn_r_ids[wpmDataLayer.pixels.bing.dynamic_remarketing.id_type]))\n\t\t\t}\n\t\t})\n\n\t\treturn prodIds\n\t}\n\n\twpm.bing_purchase_items = () => {\n\n\t\tlet orderItems = []\n\n\t\tObject.values(wpmDataLayer.order.items).forEach(item => {\n\n\t\t\tlet orderItem\n\n\t\t\torderItem = {\n\t\t\t\tquantity: item.quantity,\n\t\t\t\tprice   : item.price,\n\t\t\t}\n\n\t\t\tif (wpmDataLayer?.general?.variationsOutput && 0 !== item.variation_id) {\n\n\t\t\t\torderItem.id = String(wpmDataLayer.products[item.variation_id].dyn_r_ids[wpmDataLayer.pixels.bing.dynamic_remarketing.id_type])\n\t\t\t\torderItems.push(orderItem)\n\t\t\t} else {\n\n\t\t\t\torderItem.id = String(wpmDataLayer.products[item.id].dyn_r_ids[wpmDataLayer.pixels.bing.dynamic_remarketing.id_type])\n\t\t\t\torderItems.push(orderItem)\n\t\t\t}\n\t\t})\n\n\t\treturn orderItems\n\t}\n\n\twpm.getBingDataLayerProducts = () => {\n\n\t\tlet productIds = []\n\n\t\tObject.values(wpmDataLayer.products).forEach((product) => {\n\t\t\tproductIds.push(String(product.dyn_r_ids[wpmDataLayer.pixels.bing.dynamic_remarketing.id_type]))\n\t\t})\n\n\t\treturn productIds\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery));\n","/**\n * Microsoft Ads loader\n */\n\n// #if process.env.TIER === 'premium'\nif (wpm.canLoadPremiumFeatures()) {\n\trequire(\"./functions_premium\")\n\trequire(\"./event_listeners_premium\")\n}\n// #endif\n\n","/**\n * Load Pinterest event listeners\n * */\n\n// Pixel load event listener\njQuery(document).on(\"wpmLoadPixels\", function () {\n\n\tif (wpmDataLayer?.pixels?.pinterest?.pixel_id && !wpmDataLayer?.pixels?.pinterest?.loaded) {\n\t\tif (wpm.canIFire(\"ads\", \"pinterest-ads\")) wpm.loadPinterestPixel()\n\t}\n})\n\n\n// https://help.pinterest.com/en/business/article/add-event-codes\n// AddToCart event\njQuery(document).on(\"wpmAddToCart\", function (event, product) {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.pinterest?.loaded) return\n\n\t\tpintrk(\"track\", \"addtocart\", {\n\t\t\tvalue     : parseFloat(product.quantity * product.price),\n\t\t\tcurrency  : product.currency,\n\t\t\tline_items: [wpm.getPinterestProductData(product)],\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// https://help.pinterest.com/en/business/article/add-event-codes\n// pageview event\njQuery(document).on(\"wpmViewItem\", (event, product = null) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.pinterest?.loaded) return\n\n\t\tlet data = {}\n\n\t\tif (product) {\n\t\t\tdata.currency   = product.currency\n\t\t\tdata.line_items = [wpm.getPinterestProductData(product)]\n\t\t}\n\n\t\tpintrk(\"track\", \"pagevisit\", data)\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// view search event\njQuery(document).on(\"pmwEvent:Search\", function () {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.pinterest?.loaded) return\n\n\t\tlet urlParams = new URLSearchParams(window.location.search)\n\n\t\tpintrk(\"track\", \"search\", {\n\t\t\tsearch_query: urlParams.get(\"s\"),\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// view category event\njQuery(document).on(\"wpmCategory\", function () {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.pinterest?.loaded) return\n\n\t\tpintrk(\"track\", \"viewcategory\")\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n\n// view order received page event\n// https://developers.pinterest.com/docs/tag/conversion/\njQuery(document).on(\"wpmOrderReceivedPage\", function () {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.pinterest?.loaded) return\n\n\t\tpintrk(\"track\", \"checkout\", {\n\t\t\tvalue         : wpmDataLayer.order.value_filtered,\n\t\t\torder_quantity: wpmDataLayer.order.quantity,\n\t\t\tcurrency      : wpmDataLayer.order.currency,\n\t\t\torder_id      : wpmDataLayer.order.id,\n\t\t\tline_items    : wpm.pinterestFormattedOrderItems(),\n\t\t})\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n","// TODO add enhanced match email hash to uncached pages like cart and purchase confirmation page\n// TODO check if more values can be passed to product and category pages\n// TODO look into how Pinterest handles variants separately https://developers.pinterest.com/docs/tag/conversion/\n\n/**\n * Load Pinterest premium functions\n * */\n\n(function (wpm, $, undefined) {\n\n\twpm.getPinterestProductData = function (product) {\n\n\t\tif (product.isVariation) {\n\t\t\treturn {\n\t\t\t\tproduct_name      : product.name,\n\t\t\t\tproduct_variant_id: product.dyn_r_ids[wpmDataLayer.pixels.pinterest.dynamic_remarketing.id_type],\n\t\t\t\t// product_id        : wpmDataLayer.products[product.parentId].dyn_r_ids[wpmDataLayer.pixels.pinterest.dynamic_remarketing.id_type],\n\t\t\t\tproduct_id      : product.parentId_dyn_r_ids[wpmDataLayer.pixels.pinterest.dynamic_remarketing.id_type],\n\t\t\t\tproduct_category: product.category,\n\t\t\t\tproduct_variant : product.variant,\n\t\t\t\tproduct_price   : product.price,\n\t\t\t\tproduct_quantity: product.quantity,\n\t\t\t\tproduct_brand   : product.brand,\n\t\t\t}\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tproduct_name    : product.name,\n\t\t\t\tproduct_id      : product.dyn_r_ids[wpmDataLayer.pixels.pinterest.dynamic_remarketing.id_type],\n\t\t\t\tproduct_category: product.category,\n\t\t\t\tproduct_price   : product.price,\n\t\t\t\tproduct_quantity: product.quantity,\n\t\t\t\tproduct_brand   : product.brand,\n\t\t\t}\n\t\t}\n\t}\n\n\twpm.pinterestFormattedOrderItems = function () {\n\n\t\tlet orderItems = []\n\n\t\tfor (const [key, item] of Object.entries(wpmDataLayer.order.items)) {\n\n\t\t\tlet orderItem\n\n\t\t\torderItem = {\n\t\t\t\tproduct_category: wpmDataLayer.products[key].category.join(\",\"),\n\t\t\t\t// product_brand   : wpmDataLayer.products[key].brand,\n\t\t\t\tproduct_quantity: item.quantity,\n\t\t\t\tproduct_price   : item.price,\n\t\t\t}\n\n\t\t\tif (wpmDataLayer?.general?.variationsOutput && 0 !== item.variation_id) {\n\n\t\t\t\torderItem.product_id   = String(wpmDataLayer.products[item.variation_id].dyn_r_ids[wpmDataLayer.pixels.pinterest.dynamic_remarketing.id_type])\n\t\t\t\torderItem.product_name = wpmDataLayer.products[item.variation_id].name\n\t\t\t\torderItems.push(orderItem)\n\t\t\t} else {\n\n\t\t\t\torderItem.product_id   = String(wpmDataLayer.products[item.id].dyn_r_ids[wpmDataLayer.pixels.pinterest.dynamic_remarketing.id_type])\n\t\t\t\torderItem.product_name = wpmDataLayer.products[item.id].name\n\t\t\t\torderItems.push(orderItem)\n\t\t\t}\n\t\t}\n\n\t\treturn orderItems\n\t}\n\n\t// https://developers.pinterest.com/docs/tag/conversion/\n\twpm.loadPinterestPixel = function () {\n\n\t\ttry {\n\t\t\twpmDataLayer.pixels.pinterest.loaded = true\n\n\t\t\t// @formatter:off\n\t\t\t!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(\n\t\t\t\tArray.prototype.slice.call(arguments))};var\n\t\t\t\tn=window.pintrk;n.queue=[],n.version=\"3.0\";var\n\t\t\t\tt=document.createElement(\"script\");t.async=!0,t.src=e;var\n\t\t\t\tr=document.getElementsByTagName(\"script\")[0];r.parentNode.insertBefore(t,r)}}(\"https://s.pinimg.com/ct/core.js\");\n\n\t\t\twpm.pinterestLoadEvent();\n\t\t\tpintrk('page');\n\t\t\t// @formatter:on\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.pinterestLoadEvent = function () {\n\t\ttry {\n\t\t\tif (\n\t\t\t\t(\n\t\t\t\t\twpmDataLayer.general.userLoggedIn ||\n\t\t\t\t\t\"order_received_page\" === wpmDataLayer.shop.page_type\n\t\t\t\t)\n\t\t\t\t&& wpmDataLayer?.pixels?.pinterest?.enhanced_match\n\t\t\t) {\n\t\t\t\tpintrk(\"load\", wpmDataLayer.pixels.pinterest.pixel_id, {em: wpmDataLayer.pixels.pinterest.enhanced_match_email})\n\t\t\t} else {\n\t\t\t\tpintrk(\"load\", wpmDataLayer.pixels.pinterest.pixel_id)\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery));\n","/**\n * Pinterest Ads loader\n */\n\n// #if process.env.TIER === 'premium'\nif (wpm.canLoadPremiumFeatures()) {\n\trequire(\"./functions_premium\")\n\trequire(\"./event_listeners_premium\")\n}\n// #endif\n\n","// TODO check all events and add more if there are any\n\n/**\n * All event listeners\n * */\n\n// Pixel load event listener\njQuery(document).on(\"wpmLoadPixels\", function () {\n\n\tif (wpmDataLayer?.pixels?.snapchat?.pixel_id && !wpmDataLayer?.pixels?.snapchat?.loaded) {\n\t\tif (wpm.canIFire(\"ads\", \"snapchat-ads\")) wpm.loadSnapchatPixel()\n\t}\n})\n\n// AddToCart event\njQuery(document).on(\"wpmAddToCart\", function (event, product) {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.snapchat?.loaded) return\n\n\t\tsnaptr(\"track\", \"ADD_CART\", {\n\t\t\titem_ids: [product.dyn_r_ids[wpmDataLayer.pixels.snapchat.dynamic_remarketing.id_type]],\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// VIEW_CONTENT event\njQuery(document).on(\"wpmViewItem\", (event, product = null) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.snapchat?.loaded) return\n\n\t\tlet data = {}\n\n\t\tif (product) {\n\t\t\tdata.item_ids = [product.dyn_r_ids[wpmDataLayer.pixels.snapchat.dynamic_remarketing.id_type]]\n\t\t}\n\n\t\tsnaptr(\"track\", \"VIEW_CONTENT\", data)\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n\n// view order received page event\njQuery(document).on(\"wpmOrderReceivedPage\", function () {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.snapchat?.loaded) return\n\n\t\tsnaptr(\"track\", \"PURCHASE\", {\n\t\t\tcurrency      : wpmDataLayer.order.currency,\n\t\t\tprice         : wpmDataLayer.order.value_filtered,\n\t\t\ttransaction_id: wpmDataLayer.order.id,\n\t\t\titem_ids      : wpm.getSnapchatOrderItemIds(),\n\t\t})\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n","/**\n * Load Snapchat Ads functions\n * */\n\n(function (wpm, $, undefined) {\n\n\twpm.snapchatGetEmail = () => {\n\n\t\tlet userInfo = {}\n\n\t\tif (wpmDataLayer?.user?.email?.sha256) {\n\t\t\tuserInfo.user_hashed_email = wpmDataLayer.user.email.sha256\n\t\t}\n\n\t\treturn userInfo\n\t}\n\n\twpm.loadSnapchatPixel = () => {\n\n\t\ttry {\n\t\t\twpmDataLayer.pixels.snapchat.loaded = true;\n\n\t\t\t// @formatter:off\n\t\t\t(function(e,t,n){if(e.snaptr)return;var a=e.snaptr=function()\n\t\t\t{a.handleRequest?a.handleRequest.apply(a,arguments):a.queue.push(arguments)};\n\t\t\t\ta.queue=[];var s='script';r=t.createElement(s);r.async=!0;\n\t\t\t\tr.src=n;var u=t.getElementsByTagName(s)[0];\n\t\t\t\tu.parentNode.insertBefore(r,u);})(window,document,\n\t\t\t\t'https://sc-static.net/scevent.min.js');\n\n\t\t\tsnaptr(\"init\", wpmDataLayer.pixels.snapchat.pixel_id, wpm.snapchatGetEmail())\n\n\t\t\tsnaptr(\"track\", \"PAGE_VIEW\")\n\t\t\t// @formatter:on\n\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.getSnapchatOrderItemIds = () => {\n\t\tlet contentIds = []\n\n\t\tObject.values(wpmDataLayer.order.items).forEach(item => {\n\n\t\t\tif (wpmDataLayer?.general?.variationsOutput && 0 !== item.variation_id) {\n\t\t\t\tcontentIds.push(String(wpmDataLayer.products[item.variation_id].dyn_r_ids[wpmDataLayer.pixels.snapchat.dynamic_remarketing.id_type]))\n\t\t\t} else {\n\t\t\t\tcontentIds.push(String(wpmDataLayer.products[item.id].dyn_r_ids[wpmDataLayer.pixels.snapchat.dynamic_remarketing.id_type]))\n\t\t\t}\n\t\t})\n\n\t\treturn contentIds\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery));\n","/**\n * Snapchat Ads loader\n */\n\n// #if process.env.TIER === 'premium'\nif (wpm.canLoadPremiumFeatures()) {\n\trequire(\"./functions_premium\")\n\trequire(\"./event_listeners_premium\")\n}\n// #endif\n\n","// https://ads.tiktok.com/help/article?aid=10028\n// Deduplication: https://ads.tiktok.com/marketing_api/docs?id=1723170195197953\n// TODO check all events and add more if there are any\n\n/**\n * Load TikTok Ads event listeners\n * */\n\n// Pixel load event listener\njQuery(document).on(\"wpmLoadPixels\", () => {\n\n\tif (wpmDataLayer?.pixels?.tiktok?.pixel_id && !wpmDataLayer?.pixels?.tiktok?.loaded) {\n\t\tif (wpm.canIFire(\"ads\", \"tiktok-ads\")) wpm.loadTikTokPixel()\n\t}\n})\n\n// AddToCart event\njQuery(document).on(\"wpmClientSideAddToCart\", (event, payload) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.tiktok?.loaded) return\n\n\t\tttq.track(\n\t\t\tpayload.tiktok.event,\n\t\t\tpayload.tiktok.properties,\n\t\t\t{event_id: payload.tiktok.event_id},\n\t\t)\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// InitiateCheckout event\njQuery(document).on(\"wpmClientSideBeginCheckout\", (event, payload) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.tiktok?.loaded) return\n\n\t\tttq.track(\n\t\t\tpayload.tiktok.event,\n\t\t\t{},\n\t\t\t{event_id: payload.tiktok.event_id},\n\t\t)\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// ViewContent event\njQuery(document).on(\"wpmClientSideViewItem\", (event, payload) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.tiktok?.loaded) return\n\n\t\tttq.track(\n\t\t\tpayload.tiktok.event,\n\t\t\tpayload.tiktok.properties,\n\t\t\t{event_id: payload.tiktok.event_id},\n\t\t)\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// AddToWishlist event\njQuery(document).on(\"wpmClientSideAddToWishlist\", (event, payload) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.tiktok?.loaded) return\n\n\t\tttq.track(\n\t\t\tpayload.tiktok.event,\n\t\t\tpayload.tiktok.properties,\n\t\t\t{event_id: payload.tiktok.event_id},\n\t\t)\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// search event\njQuery(document).on(\"wpmClientSideSearch\", (event, payload) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.tiktok?.loaded) return\n\n\t\tttq.track(\n\t\t\tpayload.tiktok.event,\n\t\t\tpayload.tiktok.properties,\n\t\t\t{event_id: payload.tiktok.event_id},\n\t\t)\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n\n})\n\n// PlaceAnOrder event\njQuery(document).on(\"wpmClientPlaceOrder\", (event, payload) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.tiktok?.loaded) return\n\n\t\tttq.track(\n\t\t\tpayload.tiktok.event,\n\t\t\t{},\n\t\t\t{event_id: payload.tiktok.event_id},\n\t\t)\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n\n})\n\n// view order received page event\njQuery(document).on(\"wpmClientSideOrderReceivedPage\", (event, payload) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.tiktok?.loaded) return\n\n\t\tttq.track(\n\t\t\tpayload.tiktok.event,\n\t\t\tpayload.tiktok.properties,\n\t\t\t{event_id: payload.tiktok.event_id},\n\t\t)\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n","/**\n * Load TikTok Ads functions\n * */\n\n(function (wpm, $, undefined) {\n\n\twpm.loadTikTokPixel =  () => {\n\n\t\ttry {\n\t\t\twpmDataLayer.pixels.tiktok.loaded = true\n\n\t\t\t// @formatter:off\n\t\t\t!function (w, d, t) {\n\t\t\t\tw.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=[\"page\",\"track\",\"identify\",\"instances\",\"debug\",\"on\",\"off\",\"once\",\"ready\",\"alias\",\"group\",\"enableCookie\",\"disableCookie\"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i=\"https://analytics.tiktok.com/i18n/pixel/events.js\";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement(\"script\");o.type=\"text/javascript\",o.async=!0,o.src=i+\"?sdkid=\"+e+\"&lib=\"+t;var a=document.getElementsByTagName(\"script\")[0];a.parentNode.insertBefore(o,a)};\n\t\t\t\tttq.load(wpmDataLayer.pixels.tiktok.pixel_id);\n\t\t\t\tttq.page();\n\t\t\t}(window, document, 'ttq');\n\t\t\t// @formatter:on\n\n\t\t\tif (\n\t\t\t\twpmDataLayer?.pixels?.tiktok?.advanced_matching\n\t\t\t\t&& (\n\t\t\t\t\twpmDataLayer?.user?.email?.sha256\n\t\t\t\t\t|| wpmDataLayer?.user?.phone?.sha256?.e164\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tlet identity = {}\n\n\t\t\t\t// https://ads.tiktok.com/marketing_api/docs?id=1739585700402178\n\t\t\t\tif (wpmDataLayer?.user?.email?.sha256) identity.sha256_email = wpmDataLayer.user.email.sha256\n\t\t\t\tif (wpmDataLayer?.user?.phone?.sha256?.e164) identity.sha256_phone_number = wpmDataLayer.user.phone.sha256.e164\n\n\t\t\t\tttq.identify(identity)\n\t\t\t}\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.getTikTokOrderItemIds = () => {\n\n\t\tlet orderItems = []\n\n\t\tObject.values(wpmDataLayer.order.items).forEach((item) => {\n\n\t\t\tlet orderItem\n\n\t\t\torderItem = {\n\t\t\t\tcontent_type: \"product\",\n\t\t\t\tquantity    : item.quantity,\n\t\t\t\tprice       : item.price,\n\t\t\t}\n\n\t\t\tif (wpmDataLayer?.general?.variationsOutput && 0 !== item.variation_id) {\n\n\t\t\t\torderItem.content_id   = String(wpmDataLayer.products[item.variation_id].dyn_r_ids[wpmDataLayer.pixels.tiktok.dynamic_remarketing.id_type])\n\t\t\t\torderItem.content_name = wpmDataLayer.products[item.variation_id].name\n\t\t\t\torderItems.push(orderItem)\n\t\t\t} else {\n\n\t\t\t\torderItem.content_id   = String(wpmDataLayer.products[item.id].dyn_r_ids[wpmDataLayer.pixels.tiktok.dynamic_remarketing.id_type])\n\t\t\t\torderItem.content_name = wpmDataLayer.products[item.id].name\n\t\t\t\torderItems.push(orderItem)\n\t\t\t}\n\t\t})\n\n\t\treturn orderItems\n\t}\n\n\twpm.getTikTokUserDataFromBrowser = () => {\n\n\t\tlet\n\t\t\tdata = {\n\t\t\t\tuser: {},\n\t\t\t\tpage: {},\n\n\t\t\t}\n\n\t\tif (wpm.getCookie(\"_ttp\") && wpm.isValidTtp(wpm.getCookie(\"_ttp\"))) {\n\t\t\tdata.user.ttp = wpm.getCookie(\"_ttp\")\n\t\t}\n\n\t\tif (wpm.getCookie(\"_ttclid\") && wpm.isValidTtclid(wpm.getCookie(\"_ttclid\"))) {\n\t\t\tdata.ad = {\n\t\t\t\t\"callback\": wpm.getCookie(\"_ttclid\"),\n\t\t\t}\n\t\t}\n\n\t\tif (window.location.href) {\n\n\t\t\t// Remove the parameters from the URL and save it to data.page.url\n\t\t\tdata.page.url = window.location.href.split(\"?\")[0]\n\t\t}\n\n\t\tif (wpm.getCookie(\"wpmReferrer\")) {\n\t\t\tdata.page.referrer = wpm.getCookie(\"wpmReferrer\")\n\n\t\t\t// If http is missing, add it\n\t\t\tif (!data.page.referrer.startsWith(\"http\")) data.page.referrer = \"https://\" + data.page.referrer\n\t\t}\n\n\t\tif (wpmDataLayer?.pixels?.tiktok?.advanced_matching) {\n\t\t\tif (wpmDataLayer?.user?.id?.sha256) data.user.external_id = wpmDataLayer.user.id.sha256\n\t\t\tif (wpmDataLayer?.user?.email?.sha256) data.user.sha256_email = wpmDataLayer.user.email.sha256\n\t\t\tif (wpmDataLayer?.user?.phone?.sha256?.e164) data.user.sha256_phone_number = wpmDataLayer.user.phone.sha256.e164\n\t\t\tif (navigator.userAgent) data.user_agent = navigator.userAgent\n\t\t}\n\n\t\t// If data.user is empty, remove it\n\t\tif (Object.keys(data.user).length === 0) delete data.user\n\n\t\treturn data\n\t}\n\n\twpm.isValidTtp = ttp => {\n\n\t\tlet re = new RegExp(/^[\\da-zA-Z-]{20,50}$/)\n\n\t\treturn re.test(ttp)\n\t}\n\n\twpm.isValidTtclid = ttclid => {\n\n\t\tlet re = new RegExp(/^[\\da-zA-z-]{5,600}$/)\n\n\t\treturn re.test(ttclid)\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery));\n","/**\n * TikTok Ads loader\n */\n\n// #if process.env.TIER === 'premium'\nif (wpm.canLoadPremiumFeatures()) {\n\trequire(\"./functions_premium\")\n\trequire(\"./event_listeners_premium\")\n}\n// #endif\n\n","// TODO implement AddPaymentInfo event\n// TODO check if more values can be passed to product and cart pages\n\n// https://business.twitter.com/en/help/campaign-measurement-and-analytics/conversion-tracking-for-websites.html\n\n/**\n * Load Twitter Ads event listeners\n * */\n\n// Pixel load event listener\njQuery(document).on(\"wpmLoadPixels\", () => {\n\n\tif (wpmDataLayer?.pixels?.twitter?.pixel_id && !wpmDataLayer?.pixels?.twitter?.loaded) {\n\t\tif (wpm.canIFire(\"ads\", \"twitter-ads\")) wpm.loadTwitterPixel()\n\t}\n})\n\n// add-to-cart event\njQuery(document).on(\"wpmAddToCart\", (event, product) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.twitter?.loaded) return\n\n\t\tif (wpmDataLayer?.pixels?.twitter?.event_ids?.add_to_cart) {\n\t\t\ttwq(\"event\", wpmDataLayer.pixels.twitter.event_ids.add_to_cart, {\n\t\t\t\tvalue   : product.quantity * product.price,\n\t\t\t\tcurrency: wpmDataLayer.shop.currency,\n\t\t\t\tcontents: [{\n\t\t\t\t\tcontent_type : \"product\",\n\t\t\t\t\tcontent_id   : wpmDataLayer.products[product.id].dyn_r_ids[wpmDataLayer.pixels.twitter.dynamic_remarketing.id_type],\n\t\t\t\t\tcontent_name : product.name,\n\t\t\t\t\tcontent_price: product.price,\n\t\t\t\t\tnum_items    : product.quantity,\n\t\t\t\t\t// content_group_id: null,\n\t\t\t\t}],\n\t\t\t})\n\t\t} else {\n\t\t\t// Legacy event\n\t\t\ttwq(\"track\", \"AddToCart\")\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// view product event\njQuery(document).on(\"wpmViewItem\", (event, product = null) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.twitter?.loaded) return\n\n\t\tlet productData = {}\n\n\t\tif (product) {\n\t\t\tproductData = {\n\t\t\t\tvalue   : product.quantity * product.price,\n\t\t\t\tcurrency: wpmDataLayer.shop.currency,\n\t\t\t\tcontents: [{\n\t\t\t\t\tcontent_type : \"product\",\n\t\t\t\t\tcontent_id   : wpmDataLayer.products[product.id].dyn_r_ids[wpmDataLayer.pixels.twitter.dynamic_remarketing.id_type],\n\t\t\t\t\tcontent_name : product.name,\n\t\t\t\t\tcontent_price: product.price,\n\t\t\t\t\tnum_items    : product.quantity,\n\t\t\t\t\t// content_group_id: null,\n\t\t\t\t}],\n\t\t\t}\n\t\t}\n\n\t\tif (wpmDataLayer?.pixels?.twitter?.event_ids?.view_content) {\n\t\t\ttwq(\"event\", wpmDataLayer.pixels.twitter.event_ids.view_content, productData)\n\t\t} else {\n\t\t\t// Legacy event\n\t\t\ttwq(\"track\", \"ViewContent\")\n\t\t}\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// // view category event\n// jQuery(document).on('wpmCategory', function () {\n//\n// \tif (!wpmDataLayer?.pixels?.twitter?.loaded) return;\n//\n// \t// twq('track', 'AddToWishlist');\n// });\n\n// add-to-wishlist event\njQuery(document).on(\"wpmAddToWishlist\", (event, product) => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.twitter?.loaded) return\n\n\t\tlet productData = {}\n\n\t\tif (product) {\n\t\t\tproductData = {\n\t\t\t\tvalue   : product.quantity * product.price,\n\t\t\t\tcurrency: wpmDataLayer.shop.currency,\n\t\t\t\tcontents: [{\n\t\t\t\t\tcontent_type : \"product\",\n\t\t\t\t\tcontent_id   : wpmDataLayer.products[product.id].dyn_r_ids[wpmDataLayer.pixels.twitter.dynamic_remarketing.id_type],\n\t\t\t\t\tcontent_name : product.name,\n\t\t\t\t\tcontent_price: product.price,\n\t\t\t\t\tnum_items    : product.quantity,\n\t\t\t\t\t// content_group_id: null,\n\t\t\t\t}],\n\t\t\t}\n\t\t}\n\n\t\tif (wpmDataLayer?.pixels?.twitter?.event_ids?.add_to_wishlist) {\n\t\t\ttwq(\"event\", wpmDataLayer.pixels.twitter.event_ids.add_to_wishlist, productData)\n\t\t} else {\n\t\t\t// Legacy event\n\t\t\ttwq(\"track\", \"AddToWishlist\")\n\t\t}\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// start checkout event\njQuery(document).on(\"wpmBeginCheckout\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.twitter?.loaded) return\n\n\t\tif (wpmDataLayer?.pixels?.twitter?.event_ids?.initiate_checkout) {\n\t\t\ttwq(\"event\", wpmDataLayer.pixels.twitter.event_ids.initiate_checkout, {})\n\t\t} else {\n\t\t\t// Legacy event\n\t\t\ttwq(\"track\", \"InitiateCheckout\")\n\t\t}\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// View search event\njQuery(document).on(\"pmwEvent:Search\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.twitter?.loaded) return\n\n\t\tif (wpmDataLayer?.pixels?.twitter?.event_ids?.search) {\n\t\t\ttwq(\"event\", wpmDataLayer.pixels.twitter.event_ids.search, {\n\t\t\t\tsearch_string: wpm.getSearchTermFromUrl(),\n\t\t\t})\n\t\t} else {\n\t\t\t// Legacy event\n\t\t\ttwq(\"track\", \"Search\")\n\t\t}\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n\n// view order received page event\n// TODO find out under which circumstances to use different values in content_type\njQuery(document).on(\"wpmOrderReceivedPage\", () => {\n\n\ttry {\n\t\tif (!wpmDataLayer?.pixels?.twitter?.loaded) return\n\n\n\t\tif (wpmDataLayer?.pixels?.twitter?.event_ids?.purchase) {\n\t\t\ttwq(\"event\", wpmDataLayer.pixels.twitter.event_ids.purchase, {\n\t\t\t\tvalue   : wpmDataLayer.order.value_filtered,\n\t\t\t\tcurrency: wpmDataLayer.order.currency,\n\t\t\t\tconversion_id: wpmDataLayer.order.id,\n\t\t\t\tcontents: Object.values(wpmDataLayer.order.items).map(product => ({\n\t\t\t\t\tcontent_type : \"product\",\n\t\t\t\t\tcontent_id   : wpmDataLayer.products[product.id].dyn_r_ids[wpmDataLayer.pixels.twitter.dynamic_remarketing.id_type],\n\t\t\t\t\tcontent_name : product.name,\n\t\t\t\t\tcontent_price: product.price,\n\t\t\t\t\tnum_items    : product.quantity,\n\t\t\t\t\t// content_group_id: null,\n\t\t\t\t})),\n\t\t\t})\n\t\t} else {\n\t\t\t// Legacy event\n\t\t\ttwq(\"track\", \"Purchase\", {\n\t\t\t\torder_id: wpmDataLayer.order.id,\n\t\t\t\t// content_type: 'product',\n\t\t\t\tvalue      : wpmDataLayer.order.value_filtered,\n\t\t\t\tcurrency   : wpmDataLayer.order.currency,\n\t\t\t\tnum_items  : wpmDataLayer.order.quantity,\n\t\t\t\tcontent_ids: wpm.twitterGetOrderContentIds(),\n\t\t\t})\n\t\t}\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n","/**\n * Load Twitter Ads functions\n * */\n\n(function (wpm, $, undefined) {\n\n\twpm.loadTwitterPixel = () => {\n\n\t\ttry {\n\t\t\twpmDataLayer.pixels.twitter.loaded = true\n\n\t\t\t// @formatter:off\n\t\t\t!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);\n\t\t\t},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='https://static.ads-twitter.com/uwt.js',\n\t\t\t\ta=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');\n\n\t\t\ttwq('config',wpmDataLayer.pixels.twitter.pixel_id);\n\t\t\t// @formatter:on\n\n\t\t\t// twq(\"track\", \"PageView\")\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.twitterGetOrderContentIds = () => {\n\t\tlet contentIds = []\n\n\t\tObject.values(wpmDataLayer.order.items).forEach(item => {\n\n\t\t\tif (wpmDataLayer?.general?.variationsOutput && 0 !== item.variation_id) {\n\t\t\t\tcontentIds.push(String(wpmDataLayer.products[item.variation_id].dyn_r_ids[wpmDataLayer.pixels.twitter.dynamic_remarketing.id_type]))\n\t\t\t} else {\n\t\t\t\tcontentIds.push(String(wpmDataLayer.products[item.id].dyn_r_ids[wpmDataLayer.pixels.twitter.dynamic_remarketing.id_type]))\n\t\t\t}\n\t\t})\n\n\t\treturn contentIds\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery));\n","/**\n * Twitter Ads loader\n */\n\n// #if process.env.TIER === 'premium'\nif (wpm.canLoadPremiumFeatures()) {\n\trequire(\"./functions_premium\")\n\trequire(\"./event_listeners_premium\")\n}\n// #endif\n\n","/**\n * Consent Mode functions\n */\n\n(function (wpm, $, undefined) {\n\n\t/**\n\t * Handle Cookie Management Platforms\n\t */\n\n\tlet getComplianzCookies = () => {\n\n\t\tlet cmplz_statistics     = wpm.getCookie(\"cmplz_statistics\")\n\t\tlet cmplz_marketing      = wpm.getCookie(\"cmplz_marketing\")\n\t\tlet cmplz_consent_status = wpm.getCookie(\"cmplz_consent_status\") || wpm.getCookie(\"cmplz_banner-status\")\n\n\t\tif (cmplz_consent_status) {\n\t\t\treturn {\n\t\t\t\tanalytics       : cmplz_statistics === \"allow\",\n\t\t\t\tads             : cmplz_marketing === \"allow\",\n\t\t\t\tvisitorHasChosen: true,\n\t\t\t}\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n\n\tlet getCookieLawInfoCookies = () => {\n\n\t\tlet analyticsCookie  = wpm.getCookie(\"cookielawinfo-checkbox-analytics\") || wpm.getCookie(\"cookielawinfo-checkbox-analytiques\")\n\t\tlet adsCookie        = wpm.getCookie(\"cookielawinfo-checkbox-advertisement\") || wpm.getCookie(\"cookielawinfo-checkbox-performance\") || wpm.getCookie(\"cookielawinfo-checkbox-publicite\")\n\t\tlet visitorHasChosen = wpm.getCookie(\"CookieLawInfoConsent\")\n\n\t\tif (analyticsCookie || adsCookie) {\n\n\t\t\treturn {\n\t\t\t\tanalytics       : analyticsCookie === \"yes\",\n\t\t\t\tads             : adsCookie === \"yes\",\n\t\t\t\tvisitorHasChosen: !!visitorHasChosen,\n\t\t\t}\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n\n\t/**\n\t * Initialize and set default values\n\t */\n\n\tlet\n\t\twpmConsentValues              = {}\n\twpmConsentValues.categories       = {}\n\twpmConsentValues.pixels           = []\n\twpmConsentValues.mode             = \"category\"\n\twpmConsentValues.visitorHasChosen = false\n\n\t// Return current consent values\n\twpm.getConsentValues = () => wpmConsentValues\n\n\twpm.setConsentValueCategories = (analytics = false, ads = false) => {\n\t\twpmConsentValues.categories.analytics = analytics\n\t\twpmConsentValues.categories.ads       = ads\n\t}\n\n\t// Update the PMW consent values with values coming from a CMP\n\twpm.updateConsentCookieValues = (analytics = null, ads = null, explicitConsent = false) => {\n\n\t\t// ad_storage\n\t\t// analytics_storage\n\t\t// functionality_storage\n\t\t// personalization_storage\n\t\t// security_storage\n\n\t\tlet cookie\n\n\t\t/**\n\t\t * Setup defaults\n\t\t */\n\n\t\t// consentValues.categories.analytics = true\n\t\t// consentValues.categories.ads       = true\n\n\t\twpmConsentValues.categories.analytics = !explicitConsent\n\t\twpmConsentValues.categories.ads       = !explicitConsent\n\n\n\t\tif (analytics || ads) {\n\n\t\t\tif (analytics) {\n\t\t\t\twpmConsentValues.categories.analytics = !!analytics\n\t\t\t}\n\n\t\t\tif (ads) {\n\t\t\t\twpmConsentValues.categories.ads = !!ads\n\t\t\t}\n\n\t\t\treturn\n\t\t}\n\n\t\t/**\n\t\t * PMW Cookie Consent\n\t\t *\n\t\t * Must be before every other CMP for the case that one of the included CMPs\n\t\t * decides to implement the PMW cookie consent API. In that case\n\t\t * the PMW consent cookie must take precedence.\n\t\t */\n\n\t\tif (cookie = wpm.getCookie(\"pmw_cookie_consent\")) {\n\n\t\t\tcookie = JSON.parse(cookie)\n\n\t\t\twpmConsentValues.categories.analytics = cookie.analytics === true\n\t\t\twpmConsentValues.categories.ads       = cookie.ads === true\n\t\t\twpmConsentValues.visitorHasChosen     = true\n\n\t\t\treturn\n\t\t}\n\n\t\t/**\n\t\t * Cookiebot\n\t\t * https://wordpress.org/plugins/cookiebot/\n\t\t */\n\n\t\tif (cookie = wpm.getCookie(\"CookieConsent\")) {\n\n\t\t\tcookie = decodeURI(cookie)\n\n\t\t\twpmConsentValues.categories.analytics = cookie.indexOf(\"statistics:true\") >= 0\n\t\t\twpmConsentValues.categories.ads       = cookie.indexOf(\"marketing:true\") >= 0\n\t\t\twpmConsentValues.visitorHasChosen     = true\n\n\t\t\treturn\n\t\t}\n\n\t\t/**\n\t\t * Cookie Script\n\t\t * https://wordpress.org/plugins/cookie-script-com/\n\t\t */\n\n\t\tif (cookie = wpm.getCookie(\"CookieScriptConsent\")) {\n\n\t\t\tcookie = JSON.parse(cookie)\n\n\t\t\tif (cookie.action === \"reject\") {\n\t\t\t\twpmConsentValues.categories.analytics = false\n\t\t\t\twpmConsentValues.categories.ads       = false\n\t\t\t} else if (cookie.categories.length === 2) {\n\t\t\t\twpmConsentValues.categories.analytics = true\n\t\t\t\twpmConsentValues.categories.ads       = true\n\t\t\t} else {\n\t\t\t\twpmConsentValues.categories.analytics = cookie.categories.indexOf(\"performance\") >= 0\n\t\t\t\twpmConsentValues.categories.ads       = cookie.categories.indexOf(\"targeting\") >= 0\n\t\t\t}\n\n\t\t\twpmConsentValues.visitorHasChosen = true\n\n\t\t\treturn\n\t\t}\n\n\t\t/**\n\t\t * Borlabs Cookie\n\t\t * https://borlabs.io/borlabs-cookie/\n\t\t */\n\t\tif (cookie = wpm.getCookie(\"borlabs-cookie\")) {\n\n\t\t\tcookie = decodeURI(cookie)\n\t\t\tcookie = JSON.parse(cookie)\n\n\t\t\twpmConsentValues.categories.analytics = !!cookie?.consents?.statistics\n\t\t\twpmConsentValues.categories.ads       = !!cookie?.consents?.marketing\n\t\t\twpmConsentValues.visitorHasChosen     = true\n\t\t\twpmConsentValues.pixels               = [...cookie?.consents?.statistics || [], ...cookie?.consents?.marketing || []]\n\t\t\twpmConsentValues.mode                 = \"pixel\"\n\n\t\t\treturn\n\t\t}\n\n\t\t/**\n\t\t * Complianz Cookie\n\t\t * https://wordpress.org/plugins/complianz-gdpr/\n\t\t */\n\n\t\tif (cookie = getComplianzCookies()) {\n\n\t\t\twpmConsentValues.categories.analytics = cookie.analytics === true\n\t\t\twpmConsentValues.categories.ads       = cookie.ads === true\n\t\t\twpmConsentValues.visitorHasChosen     = cookie.visitorHasChosen\n\n\t\t\treturn\n\t\t}\n\n\t\t/**\n\t\t * Cookie Compliance (free version)\n\t\t * https://wordpress.org/plugins/cookie-notice/\n\t\t */\n\n\t\tif (cookie = wpm.getCookie(\"cookie_notice_accepted\")) {\n\n\t\t\twpmConsentValues.categories.analytics = true\n\t\t\twpmConsentValues.categories.ads       = true\n\t\t\twpmConsentValues.visitorHasChosen     = true\n\n\t\t\treturn\n\t\t}\n\n\t\t/**\n\t\t * Cookie Compliance (pro version)\n\t\t * https://wordpress.org/plugins/cookie-notice/\n\t\t */\n\n\t\tif (cookie = wpm.getCookie(\"hu-consent\")) {\n\n\t\t\tcookie = JSON.parse(cookie)\n\n\t\t\twpmConsentValues.categories.analytics = !!cookie.categories[\"3\"]\n\t\t\twpmConsentValues.categories.ads       = !!cookie.categories[\"4\"]\n\t\t\twpmConsentValues.visitorHasChosen     = true\n\n\t\t\treturn\n\t\t}\n\n\t\t/**\n\t\t * CookieYes, GDPR Cookie Consent (Cookie Law Info)\n\t\t * https://wordpress.org/plugins/cookie-law-info/\n\t\t */\n\n\t\tif (cookie = getCookieLawInfoCookies()) {\n\n\t\t\twpmConsentValues.categories.analytics = cookie.analytics === true\n\t\t\twpmConsentValues.categories.ads       = cookie.ads === true\n\t\t\twpmConsentValues.visitorHasChosen     = cookie.visitorHasChosen === true\n\n\t\t\treturn\n\t\t}\n\n\t\t/**\n\t\t * GDPR Cookie Compliance Plugin by Moove Agency\n\t\t * https://wordpress.org/plugins/gdpr-cookie-compliance/\n\t\t *\n\t\t * TODO write documentation on how to set up the plugin in order for this to work properly\n\t\t */\n\n\t\tif (cookie = wpm.getCookie(\"moove_gdpr_popup\")) {\n\n\t\t\tcookie = JSON.parse(cookie)\n\n\t\t\twpmConsentValues.categories.analytics = cookie.thirdparty === \"1\"\n\t\t\twpmConsentValues.categories.ads       = cookie.advanced === \"1\"\n\t\t\twpmConsentValues.visitorHasChosen     = true\n\n\t\t\treturn\n\t\t}\n\n\t\t/**\n\t\t * WP AutoTerms\n\t\t * https://wordpress.org/plugins/auto-terms-of-service-and-privacy-policy/\n\t\t */\n\n\t\tif (cookie = wpm.getCookie(\"wpautoterms-cookies-notice\")) {\n\n\t\t\tif (cookie !== \"1\") return\n\n\t\t\twpmConsentValues.categories.analytics = true\n\t\t\twpmConsentValues.categories.ads       = true\n\t\t\twpmConsentValues.visitorHasChosen     = true\n\n\t\t\treturn\n\t\t}\n\n\t\t/**\n\t\t * Usercentrics\n\t\t *\n\t\t * https://usercentrics.com/\n\t\t * https://docs.usercentrics.com/#/cmp-v2-ui-api\n\t\t * https://docs.usercentrics.com/#/cmp-v2-ui-api?id=getservicesbaseinfo\n\t\t */\n\n\t\tif (window.localStorage && window.localStorage.getItem(\"uc_settings\")) {\n\n\t\t\tconsole.log(\"Usercentrics settings detected\")\n\n\t\t\tif (typeof UC_UI === \"undefined\") {\n\n\t\t\t\t// register event to block unblock after UC_UI library is loaded\n\t\t\t\twindow.addEventListener(\"UC_UI_INITIALIZED\", function (event) {\n\t\t\t\t\twpm.ucUiProcessConsent()\n\t\t\t\t})\n\n\t\t\t\t// Don't continue because in here the UC_UI library is not loaded yet\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (UC_UI.areAllConsentsAccepted()) {\n\t\t\t\twpmConsentValues.categories.analytics = true\n\t\t\t\twpmConsentValues.categories.ads       = true\n\t\t\t\twpmConsentValues.visitorHasChosen     = true\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\twpm.ucUiProcessConsent()\n\t\t}\n\n\t\t/**\n\t\t * OneTrust\n\t\t *\n\t\t * https://www.onetrust.com/\n\t\t */\n\n\t\tif (cookie = wpm.getCookie(\"OptanonConsent\")) {\n\n\t\t\t// console.log(\"OneTrust settings detected\")\n\n\t\t\tlet params = new URLSearchParams(cookie)\n\t\t\tlet groups = params.get(\"groups\").split(\",\")\n\n\t\t\t// Groups is an array like this ['1:1', '2:0', '3:1', '4:1']. Make it an object with key value pairs\n\t\t\tlet groupsObject = {}\n\t\t\tgroups.forEach((group) => {\n\n\t\t\t\tlet groupArray              = group.split(\":\")\n\t\t\t\tgroupsObject[groupArray[0]] = groupArray[1]\n\t\t\t})\n\n\t\t\t// group mapping\n\t\t\t// 1 = necessary\n\t\t\t// 2 = analytics\n\t\t\t// 3 = functional\n\t\t\t// 4 = ads\n\n\t\t\twpmConsentValues.categories.analytics = groupsObject[\"2\"] === \"1\"\n\t\t\twpmConsentValues.categories.ads       = groupsObject[\"4\"] === \"1\"\n\t\t\twpmConsentValues.visitorHasChosen     = true\n\n\t\t\treturn\n\t\t}\n\t}\n\n\t// Only run after having made sure that the UC_UI library is loaded\n\twpm.ucUiProcessConsent = function () {\n\n\t\tif (typeof UC_UI === \"undefined\") return\n\n\t\tif (UC_UI.areAllConsentsAccepted()) {\n\t\t\tpmw.consentAcceptAll()\n\t\t}\n\n\t\tconst ucStatisticsSlug = UC_UI.getSettingsLabels().categories.filter(data => data.label === \"Statistics\")[0].slug\n\n\t\tpmw.consentAdjustSelectively(\n\t\t\t{\n\t\t\t\tanalytics: !UC_UI.getServicesBaseInfo().filter(data => data.categorySlug === ucStatisticsSlug && data.consent.status === false).length > 0,\n\t\t\t\tads      : !UC_UI.getServicesBaseInfo().filter(data => data.categorySlug === \"marketing\" && data.consent.status === false).length > 0,\n\t\t\t},\n\t\t)\n\t}\n\n\twpm.updateConsentCookieValues()\n\n\twpm.setConsentDefaultValuesToExplicit = () => {\n\t\twpmConsentValues.categories = {\n\t\t\tanalytics: false,\n\t\t\tads      : false,\n\t\t}\n\t}\n\n\twpm.canIFire = (category, pixelName) => {\n\n\t\tlet canIFireMode\n\n\t\tif (\"category\" === wpmConsentValues.mode) {\n\t\t\tcanIFireMode = !!wpmConsentValues.categories[category]\n\t\t} else if (\"pixel\" === wpmConsentValues.mode) {\n\t\t\tcanIFireMode = wpmConsentValues.pixels.includes(pixelName)\n\n\t\t\t// If a user sets \"bing-ads\" in Borlabs Cookie instead of\n\t\t\t// \"microsoft-ads\" in the Borlabs settings, we need to check\n\t\t\t// for that too.\n\t\t\tif (false === canIFireMode && \"microsoft-ads\" === pixelName) {\n\t\t\t\tcanIFireMode = wpmConsentValues.pixels.includes(\"bing-ads\")\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.error(\"Couldn't find a valid consent mode in wpmConsentValues\")\n\t\t\tcanIFireMode = false\n\t\t}\n\n\t\tif (canIFireMode) {\n\t\t\treturn true\n\t\t} else {\n\t\t\tif (true || wpm.urlHasParameter(\"debugConsentMode\")) {\n\t\t\t\twpm.logPreventedPixelLoading(pixelName, category)\n\t\t\t}\n\n\t\t\treturn false\n\t\t}\n\t}\n\n\twpm.logPreventedPixelLoading = (pixelName, category) => {\n\n\t\tif (wpmDataLayer?.shop?.cookie_consent_mgmt?.explicit_consent) {\n\t\t\tconsole.log(\"Pixel Manager for WooCommerce: The \\\"\" + pixelName + \" (category: \" + category + \")\\\" pixel has not fired because you have not given consent for it yet. (PMW is in explicit consent mode.)\")\n\t\t} else {\n\t\t\tconsole.log(\"Pixel Manager for WooCommerce: The \\\"\" + pixelName + \" (category: \" + category + \")\\\" pixel has not fired because you have removed consent for this pixel. (PMW is in implicit consent mode.)\")\n\t\t}\n\t}\n\n\t/**\n\t * Runs through each script in <head> and blocks / unblocks it according to the plugin settings\n\t * and user consent.\n\t */\n\n\t// https://stackoverflow.com/q/65453565/4688612\n\twpm.scriptTagObserver = new MutationObserver((mutations) => {\n\t\tmutations.forEach(({addedNodes}) => {\n\t\t\t[...addedNodes]\n\t\t\t\t.forEach(node => {\n\n\t\t\t\t\tif ($(node).data(\"wpm-cookie-category\")) {\n\n\t\t\t\t\t\t// If the pixel category has been approved > unblock\n\t\t\t\t\t\t// If the pixel belongs to more than one category, then unblock if one of the categories has been approved\n\t\t\t\t\t\t// If no category has been approved, but the Google Consent Mode is active, then only unblock the Google scripts\n\n\t\t\t\t\t\tif (wpm.shouldScriptBeActive(node)) {\n\t\t\t\t\t\t\twpm.unblockScript(node)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twpm.blockScript(node)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t})\n\t})\n\n\twpm.scriptTagObserver.observe(document.head, {childList: true, subtree: true})\n\t// jQuery(document).on(\"DOMContentLoaded\", () => wpm.scriptTagObserver.disconnect())\n\tdocument.addEventListener(\"DOMContentLoaded\", () => wpm.scriptTagObserver.disconnect())\n\n\twpm.shouldScriptBeActive = node => {\n\n\t\tif (\n\t\t\twpmDataLayer.shop.cookie_consent_mgmt.explicit_consent ||\n\t\t\twpmConsentValues.visitorHasChosen\n\t\t) {\n\n\t\t\tif (wpmConsentValues.mode === \"category\" && $(node).data(\"wpm-cookie-category\").split(\",\").some(element => wpmConsentValues.categories[element])) {\n\t\t\t\treturn true\n\t\t\t} else if (wpmConsentValues.mode === \"pixel\" && wpmConsentValues.pixels.includes($(node).data(\"wpm-pixel-name\"))) {\n\t\t\t\treturn true\n\t\t\t} else if (wpmConsentValues.mode === \"pixel\" && $(node).data(\"wpm-pixel-name\") === \"google\" && [\"google-analytics\", \"google-ads\"].some(element => wpmConsentValues.pixels.includes(element))) {\n\t\t\t\treturn true\n\t\t\t} else if (wpmDataLayer?.pixels?.google?.consent_mode?.active && $(node).data(\"wpm-pixel-name\") === \"google\") {\n\t\t\t\treturn true\n\t\t\t} else {\n\t\t\t\treturn false\n\t\t\t}\n\t\t} else {\n\t\t\treturn true\n\t\t}\n\t}\n\n\n\twpm.unblockScript = (scriptNode, removeAttach = false) => {\n\n\t\tif (removeAttach) $(scriptNode).remove()\n\n\t\tlet wpmSrc = $(scriptNode).data(\"wpm-src\")\n\t\tif (wpmSrc) $(scriptNode).attr(\"src\", wpmSrc)\n\n\t\tscriptNode.type = \"text/javascript\"\n\n\t\tif (removeAttach) $(scriptNode).appendTo(\"head\")\n\n\t\t// jQuery(document).trigger(\"wpmPreLoadPixels\")\n\t\tdocument.dispatchEvent(new Event(\"wpmPreLoadPixels\"))\n\t}\n\n\twpm.blockScript = (scriptNode, removeAttach = false) => {\n\n\t\tif (removeAttach) $(scriptNode).remove()\n\n\t\tif ($(scriptNode).attr(\"src\")) $(scriptNode).removeAttr(\"src\")\n\t\tscriptNode.type = \"blocked/javascript\"\n\n\t\tif (removeAttach) $(scriptNode).appendTo(\"head\")\n\t}\n\n\twpm.unblockAllScripts = (analytics = true, ads = true) => {\n\t\t// jQuery(document).trigger(\"wpmPreLoadPixels\")\n\t\twpm.setConsentValueCategories(analytics, ads)\n\t\tdocument.dispatchEvent(new Event(\"wpmPreLoadPixels\"))\n\t}\n\n\twpm.unblockSelectedPixels = () => {\n\t\t// jQuery(document).trigger(\"wpmPreLoadPixels\")\n\t\tdocument.dispatchEvent(new Event(\"wpmPreLoadPixels\"))\n\t}\n\n\twpm.explicitConsentStateAlreadySet = () => {\n\n\t\tif (wpmConsentValues.explicitConsentStateAlreadySet) {\n\t\t\treturn true\n\t\t} else {\n\t\t\twpmConsentValues.explicitConsentStateAlreadySet = true\n\t\t}\n\t}\n\n\n\t/**\n\t * Block or unblock scripts for each CMP immediately after cookie consent has been updated\n\t * by the visitor.\n\t */\n\n\t/**\n\t * Borlabs Cookie\n\t * If visitor accepts cookies in Borlabs Cookie unblock the scripts\n\t */\n\tdocument.addEventListener(\"borlabs-cookie-consent-saved\", () => {\n\t\twpm.updateConsentCookieValues()\n\n\t\tif (wpmConsentValues.mode === \"pixel\") {\n\n\t\t\twpm.unblockSelectedPixels()\n\t\t\twpm.updateGoogleConsentMode(wpmConsentValues.pixels.includes(\"google-analytics\"), wpmConsentValues.pixels.includes(\"google-ads\"))\n\t\t} else {\n\n\t\t\twpm.unblockAllScripts(wpmConsentValues.categories.analytics, wpmConsentValues.categories.ads)\n\t\t\twpm.updateGoogleConsentMode(wpmConsentValues.categories.analytics, wpmConsentValues.categories.ads)\n\t\t}\n\t})\n\n\t/**\n\t * Cookiebot\n\t * \tIf visitor accepts cookies in Cookiebot unblock the scripts\n\t * \thttps://www.cookiebot.com/en/developer/\n\t */\n\twindow.addEventListener(\"CookiebotOnAccept\", () => {\n\t\tif (Cookiebot.consent.statistics) wpmConsentValues.categories.analytics = true\n\t\tif (Cookiebot.consent.marketing) wpmConsentValues.categories.ads = true\n\n\t\twpm.unblockAllScripts(wpmConsentValues.categories.analytics, wpmConsentValues.categories.ads)\n\t\twpm.updateGoogleConsentMode(wpmConsentValues.categories.analytics, wpmConsentValues.categories.ads)\n\n\t}, false)\n\n\t/**\n\t * Cookie Script\n\t * If visitor accepts cookies in Cookie Script unblock the scripts\n\t * https://support.cookie-script.com/article/20-custom-events\n\t */\n\t// jQuery(document).on(\"CookieScriptAccept\", e => {\n\tdocument.addEventListener(\"CookieScriptAccept\", e => {\n\n\t\tif (e.detail.categories.includes(\"performance\")) wpmConsentValues.categories.analytics = true\n\t\tif (e.detail.categories.includes(\"targeting\")) wpmConsentValues.categories.ads = true\n\n\t\twpm.unblockAllScripts(wpmConsentValues.categories.analytics, wpmConsentValues.categories.ads)\n\t\twpm.updateGoogleConsentMode(wpmConsentValues.categories.analytics, wpmConsentValues.categories.ads)\n\t})\n\n\t/**\n\t * Cookie Script\n\t * If visitor accepts cookies in Cookie Script unblock the scripts\n\t * https://support.cookie-script.com/\n\t */\n\t// jQuery(document).on(\"CookieScriptAcceptAll\", () => {\n\tdocument.addEventListener(\"CookieScriptAcceptAll\", () => {\n\n\t\twpm.setConsentValueCategories(true, true)\n\t\twpm.unblockAllScripts(true, true)\n\t\twpm.updateGoogleConsentMode(true, true)\n\t})\n\n\t/**\n\t * Complianz Cookie\n\t *\n\t * If visitor accepts cookies in Complianz unblock the scripts\n\t */\n\n\twpm.cmplzStatusChange = (cmplzConsentData) => {\n\n\t\tif (cmplzConsentData.detail.categories.includes(\"statistics\")) wpm.updateConsentCookieValues(true, null)\n\t\tif (cmplzConsentData.detail.categories.includes(\"marketing\")) wpm.updateConsentCookieValues(null, true)\n\n\t\twpm.unblockAllScripts(wpmConsentValues.categories.analytics, wpmConsentValues.categories.ads)\n\t\twpm.updateGoogleConsentMode(wpmConsentValues.categories.analytics, wpmConsentValues.categories.ads)\n\t}\n\n\t// jQuery(document).on(\"cmplzStatusChange\", wpm.cmplzStatusChange)\n\tdocument.addEventListener(\"cmplzStatusChange\", wpm.cmplzStatusChange)\n\t// jQuery(document).on(\"cmplz_status_change\", wpm.cmplzStatusChange)\n\tdocument.addEventListener(\"cmplz_status_change\", wpm.cmplzStatusChange)\n\n\t// Cookie Compliance by hu-manity.co (free and pro)\n\t// If visitor accepts cookies in Cookie Notice by hu-manity.co unblock the scripts (free version)\n\t// https://wordpress.org/support/topic/events-on-consent-change/#post-15202792\n\t// jQuery(document).on(\"setCookieNotice\", () => {\n\tdocument.addEventListener(\"setCookieNotice\", () => {\n\t\twpm.updateConsentCookieValues()\n\n\t\twpm.unblockAllScripts(wpmConsentValues.categories.analytics, wpmConsentValues.categories.ads)\n\t\twpm.updateGoogleConsentMode(wpmConsentValues.categories.analytics, wpmConsentValues.categories.ads)\n\t})\n\n\t/**\n\t * Cookie Compliance by hu-manity.co (free and pro)\n\t * If visitor accepts cookies in Cookie Notice by hu-manity.co unblock the scripts (pro version)\n\t * https://wordpress.org/support/topic/events-on-consent-change/#post-15202792\n\t * Because Cookie Notice has no documented API or event that is being triggered on consent save or update\n\t * we have to solve this by using a mutation observer.\n\t *\n\t * @type {MutationObserver}\n\t */\n\n\twpm.huObserver = new MutationObserver(mutations => {\n\t\tmutations.forEach(({addedNodes}) => {\n\t\t\t[...addedNodes]\n\t\t\t\t.forEach(node => {\n\n\t\t\t\t\tif (node.id === \"hu\") {\n\n\t\t\t\t\t\t// jQuery(\".hu-cookies-save\").on(\"click\", function () {\n\t\t\t\t\t\t// jQuery(\".hu-cookies-save\") in pure JavaScript\n\t\t\t\t\t\tdocument.querySelector(\".hu-cookies-save\").addEventListener(\"click\", () => {\n\t\t\t\t\t\t\twpm.updateConsentCookieValues()\n\t\t\t\t\t\t\twpm.unblockAllScripts(wpmConsentValues.categories.analytics, wpmConsentValues.categories.ads)\n\t\t\t\t\t\t\twpm.updateGoogleConsentMode(wpmConsentValues.categories.analytics, wpmConsentValues.categories.ads)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t})\n\t})\n\n\tif (window.hu) {\n\t\twpm.huObserver.observe(document.documentElement || document.body, {childList: true, subtree: true})\n\t}\n\n\t/**\n\t * Usercentrics Event Listeners\n\t *\n\t * https://docs.usercentrics.com/#/v2-events?id=usage-as-window-event\n\t */\n\n\twindow.addEventListener(\"ucEvent\", function (e) {\n\t\tif (e.detail && e.detail.event == \"consent_status\") {\n\t\t\t// check for consent status of service \"Google Ads Remarketing\"\n\t\t\tif (e.detail[\"Google Ads Remarketing\"] === true) {\n\t\t\t\tconsole.log(\"Google Ads Remarketing has consent\")\n\t\t\t} else {\n\t\t\t\tconsole.log(\"Google Ads Remarketing has no consent\")\n\t\t\t}\n\t\t}\n\t})\n\n\t// https://docs.usercentrics.com/#/v2-events?id=uc_ui_cmp_event\n\twindow.addEventListener(\"UC_UI_CMP_EVENT\", function (event) {\n\n\t\tif (event.detail.type === \"ACCEPT_ALL\") {\n\t\t\t// console.log('accept all');\n\n\t\t\tpmw.consentAcceptAll()\n\t\t}\n\n\t\tif (event.detail.type === \"DENY_ALL\") {\n\t\t\tpmw.consentRevokeAll()\n\t\t}\n\n\t\tif (event.detail.type === \"SAVE\") {\n\t\t\tconsole.log(\"event.detail\", event.detail)\n\t\t}\n\t})\n\n\n\t/**\n\t * OneTrust Event Listeners\n\t *\n\t * CookiePro by OneTrust doesn't emit any events when the user accepts or declines cookies.\n\t */\n\n\t// There are two accept all buttons. One in the first banner and one in the settings window. Both have different identifiers.\n\tjQuery(\"#accept-recommended-btn-handler, #onetrust-accept-btn-handler\").on(\"click\", function () {\n\n\t\t// If OneTrust is not loaded, return\n\t\tif (typeof window.OneTrust === \"undefined\") return\n\n\t\tpmw.consentAcceptAll()\n\t})\n\n\t// There are two revoke all buttons. One in the first banner and one in the settings window. Both have different identifiers.\n\tjQuery(\".ot-pc-refuse-all-handler, #onetrust-reject-all-handler\").on(\"click\", function () {\n\t\tpmw.consentRevokeAll()\n\t})\n\n\t// There is one save button that saves mixed consent. It is in the settings window. We reload the page after saving to reflect the changes.\n\tjQuery(\".save-preference-btn-handler.onetrust-close-btn-handler\").on(\"click\", function () {\n\t\tlocation.reload()\n\n\t\t// OneTrust.OnConsentChanged(function (e) {\n\t\t// \tpmw.consentAdjustSelectively({\n\t\t// \t\tanalytics: e.detail.includes(\"2\"),\n\t\t// \t\tads      : e.detail.includes(\"4\"),\n\t\t// \t})\n\t\t// })\n\t})\n\n\n}(window.wpm = window.wpm || {}, jQuery));\n\n\n(function (pmw, $, undefined) {\n\n\t/**\n\t * Pixel Manager Cookie Consent API\n\t */\n\n\t// Accept consent for all cookies\n\tpmw.consentAcceptAll = (settings = {}) => {\n\n\t\tsettings.duration = settings.duration || 365\n\n\t\tpmw.consentSetCookie(true, true, settings.duration)\n\t\twpm.unblockAllScripts(true, true)\n\t\twpm.updateGoogleConsentMode(true, true)\n\t}\n\n\t// Accept consent selectively\n\tpmw.consentAdjustSelectively = (settings) => {\n\n\t\t// If settings.analytics is set, keep it, otherwise set it to wpm.getConsentValues().categories.analytics\n\t\tsettings.analytics = settings.analytics !== undefined ? settings.analytics : wpm.getConsentValues().categories.analytics\n\t\tsettings.ads       = settings.ads !== undefined ? settings.ads : wpm.getConsentValues().categories.ads\n\t\tsettings.duration  = settings.duration || 365\n\n\t\tpmw.consentSetCookie(settings.analytics, settings.ads, settings.duration)\n\t\twpm.unblockAllScripts(settings.analytics, settings.ads)\n\t\twpm.updateGoogleConsentMode(settings.analytics, settings.ads)\n\t}\n\n\t// Remove consent for all cookies\n\tpmw.consentRevokeAll = (settings = {}) => {\n\n\t\tsettings.duration = settings.duration || 365\n\n\t\twpm.setConsentValueCategories(false, false)\n\t\tpmw.consentSetCookie(false, false, settings.duration)\n\t\twpm.updateGoogleConsentMode(false, false)\n\t}\n\n\t// Set a cookie called pmw_cookie_consent with the value of pmw_cookie_consent\n\t// and set the default expiration date to 1 year from now\n\tpmw.consentSetCookie = (analytics, ads, duration = 365) => {\n\t\twpm.setCookie(\"pmw_cookie_consent\", JSON.stringify({analytics, ads}), duration)\n\t}\n\n\t// Trigger an event once the PMW consent management has been loaded\n\tjQuery(document).trigger(\"pmw_cookie_consent_management_loaded\")\n\n}(window.pmw = window.pmw || {}, jQuery))\n","/**\n * remove_from_cart event\n *\n * Cannot be attached directly because the mini cart doesn't necessarily contain the remove button on page load.\n */\njQuery(document).on(\"click\", \".remove_from_cart_button, .remove\", (event) => {\n\n\t// console.log(\"remove_from_cart event\" + new Date().getTime())\n\n\ttry {\n\n\t\tlet url       = new URL(jQuery(event.currentTarget).attr(\"href\"))\n\t\tlet productId = wpm.getProductIdByCartItemKeyUrl(url)\n\n\t\twpm.removeProductFromCart(productId)\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n\n/**\n * begin_checkout event\n *\n * Cannot be attached directly because the mini cart doesn't necessarily contain the remove button on page load.\n */\nlet checkoutButtonClasses = [\n\t\".checkout\",\n\t\".checkout-button\",\n\t\".cart-checkout-button\",\n\t\".button.checkout\",\n\t\".xoo-wsc-ft-btn-checkout\", // https://xootix.com/side-cart-for-woocommerce/\n\t\".elementor-button--checkout\",\n].join(\",\")\n\n// https://wordpress.stackexchange.com/a/352171/68337\njQuery(document).on(\"click init_checkout\", checkoutButtonClasses, () => {\n\n\t// console.log(\"init_checkout at: \" + new Date().getTime())\n\n\tjQuery(document).trigger(\"wpmBeginCheckout\")\n})\n\njQuery(document).on(\"updated_cart_totals\", () => {\n\tjQuery(document).trigger(\"wpmViewCart\")\n})\n\n/**\n * Set up PWM events\n */\n\n// track checkout option event: purchase click\n// https://wordpress.stackexchange.com/a/352171/68337\njQuery(document).on(\"wpmLoad\", (event) => {\n\tjQuery(document).on(\"payment_method_selected\", () => {\n\n\t\tif (false === wpm.paymentMethodSelected) {\n\t\t\twpm.fireCheckoutProgress(3)\n\t\t}\n\n\t\twpm.fireCheckoutOption(3, jQuery(\"input[name='payment_method']:checked\").val())\n\t\twpm.paymentMethodSelected = true\n\t})\n})\n\n// populate the wpmDataLayer with the cart items\njQuery(document).on(\"wpmLoad\", () => {\n\n\ttry {\n\t\t// When a new session is initiated there are no items in the cart,\n\t\t// so we can save the call to get the cart items\n\t\tif (wpm.doesWooCommerceCartExist()) wpm.getCartItems()\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// get all add-to-cart= products from backend\njQuery(document).on(\"wpmLoad\", () => {\n\n\twpmDataLayer.products = wpmDataLayer.products || {}\n\n\t// scan page for add-to-cart= links\n\tlet productIds = wpm.getAddToCartLinkProductIds()\n\n\twpm.getProductsFromBackend(productIds)\n})\n\n/**\n * Save the referrer into a cookie\n */\n\njQuery(document).on(\"wpmLoad\", () => {\n\n\t// can't use session storage as we can't read it from the server\n\tif (!wpm.getCookie(\"wpmReferrer\")) {\n\n\t\tif (document.referrer) {\n\t\t\tlet referrerUrl      = new URL(document.referrer)\n\t\t\tlet referrerHostname = referrerUrl.hostname\n\n\t\t\tif (referrerHostname !== window.location.host) {\n\t\t\t\twpm.setCookie(\"wpmReferrer\", referrerHostname)\n\t\t\t}\n\t\t}\n\t}\n})\n\n\n/**\n * Create our own load event in order to better handle script flow execution when JS \"optimizers\" shuffle the code.\n */\njQuery(document).on(\"wpmLoad\", () => {\n\t// document.addEventListener(\"wpmLoad\", function () {\n\ttry {\n\t\tif (typeof wpmDataLayer != \"undefined\" && !wpmDataLayer?.wpmLoadFired) {\n\n\t\t\tjQuery(document).trigger(\"wpmLoadAlways\")\n\n\t\t\tif (wpmDataLayer?.shop) {\n\t\t\t\tif (\n\t\t\t\t\t\"product\" === wpmDataLayer.shop.page_type &&\n\t\t\t\t\t\"variable\" !== wpmDataLayer.shop.product_type &&\n\t\t\t\t\twpm.getMainProductIdFromProductPage()\n\t\t\t\t) {\n\t\t\t\t\tlet product = wpm.getProductDataForViewItemEvent(wpm.getMainProductIdFromProductPage())\n\t\t\t\t\tjQuery(document).trigger(\"wpmViewItem\", product)\n\t\t\t\t} else if (\"product_category\" === wpmDataLayer.shop.page_type) {\n\t\t\t\t\tjQuery(document).trigger(\"wpmCategory\")\n\t\t\t\t} else if (\"search\" === wpmDataLayer.shop.page_type) {\n\t\t\t\t\tjQuery(document).trigger(\"pmwEvent:Search\")\n\t\t\t\t} else if (\"cart\" === wpmDataLayer.shop.page_type) {\n\t\t\t\t\tjQuery(document).trigger(\"wpmViewCart\")\n\t\t\t\t} else if (\"order_received_page\" === wpmDataLayer.shop.page_type) {\n\t\t\t\t\tif (wpmDataLayer?.order && !wpm.isOrderIdStored(wpmDataLayer.order.id)) {\n\t\t\t\t\t\tjQuery(document).trigger(\"wpmOrderReceivedPage\")\n\t\t\t\t\t\twpm.writeOrderIdToStorage(wpmDataLayer.order.id, wpmDataLayer.order.key)\n\t\t\t\t\t\tif (typeof wpm.acrRemoveCookie === \"function\") wpm.acrRemoveCookie()\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tjQuery(document).trigger(\"wpmEverywhereElse\")\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tjQuery(document).trigger(\"wpmEverywhereElse\")\n\t\t\t}\n\n\t\t\tif (wpmDataLayer?.user?.id && !wpm.hasLoginEventFired()) {\n\t\t\t\tjQuery(document).trigger(\"wpmLogin\")\n\t\t\t\twpm.setLoginEventFired()\n\t\t\t}\n\n\t\t\t// /**\n\t\t\t//  * Load mini cart fragments into a wpm session storage key,\n\t\t\t//  * after the document load event.\n\t\t\t//  */\n\t\t\t// jQuery(document).ajaxSend(function (event, jqxhr, settings) {\n\t\t\t// \t// console.log('settings.url: ' + settings.url);\n\t\t\t//\n\t\t\t// \tif (settings.url.includes(\"get_refreshed_fragments\") && sessionStorage) {\n\t\t\t// \t\tif (!sessionStorage.getItem(\"wpmMiniCartActive\")) {\n\t\t\t// \t\t\tsessionStorage.setItem(\"wpmMiniCartActive\", JSON.stringify(true))\n\t\t\t// \t\t}\n\t\t\t// \t}\n\t\t\t// })\n\n\t\t\twpmDataLayer.wpmLoadFired = true\n\t\t}\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\njQuery(document).on(\"wpmLoad\", async () => {\n\n\tif (\n\t\twindow.sessionStorage &&\n\t\twindow.sessionStorage.getItem(\"_pmw_endpoint_available\") &&\n\t\t!JSON.parse(window.sessionStorage.getItem(\"_pmw_endpoint_available\"))\n\t) {\n\t\tconsole.error(\"Pixel Manager for WooCommerce: REST endpoint is not available. Using admin-ajax.php instead.\")\n\t}\n})\n\n\n/**\n * Load all pixels\n */\njQuery(document).on(\"wpmPreLoadPixels\", () => {\n\n\tif (wpmDataLayer?.shop?.cookie_consent_mgmt?.explicit_consent && !wpm.explicitConsentStateAlreadySet()) {\n\t\twpm.updateConsentCookieValues(null, null, true)\n\t}\n\n\tjQuery(document).trigger(\"wpmLoadPixels\", {})\n})\n\n\n/**\n * All ecommerce events\n */\n\njQuery(document).on(\"wpmAddToCart\", (event, product) => {\n\n\t/**\n\t * Prepare the payload\n\t */\n\n\tlet payload = {\n\t\tevent  : \"addToCart\",\n\t\tproduct: product,\n\t}\n\n\t// Facebook\n\t// If Facebook pixel is loaded, add Facebook server to server event data to the payload\n\tif (wpmDataLayer?.pixels?.facebook?.loaded) {\n\t\tpayload.facebook = {\n\t\t\tevent_name      : \"AddToCart\",\n\t\t\tevent_id        : wpm.getFbRandomEventId(),\n\t\t\tuser_data       : wpm.getFbUserData(),\n\t\t\tevent_source_url: window.location.href,\n\t\t\tcustom_data     : wpm.fbGetProductDataForCapiEvent(product),\n\t\t}\n\t}\n\n\t// TikTok\n\t// https://ads.tiktok.com/gateway/docs/index?identify_key=c0138ffadd90a955c1f0670a56fe348d1d40680b3c89461e09f78ed26785164b&language=ENGLISH&doc_id=1739585702922241#item-link-Adding%20parameters%20to%20event%20code\n\tif (wpmDataLayer?.pixels?.tiktok?.loaded) {\n\t\tpayload.tiktok = {\n\t\t\tevent     : \"AddToCart\",\n\t\t\tevent_id  : wpm.getRandomEventId(),\n\t\t\tcontext   : wpm.getTikTokUserDataFromBrowser(),\n\t\t\tproperties: {\n\t\t\t\tvalue   : product.price * product.quantity,\n\t\t\t\tcurrency: product.currency,\n\t\t\t\tcontents: [{\n\t\t\t\t\tcontent_id  : product.dyn_r_ids[wpmDataLayer.pixels.tiktok.dynamic_remarketing.id_type],\n\t\t\t\t\tcontent_type: \"product\",\n\t\t\t\t\tcontent_name: product.name,\n\t\t\t\t\tquantity    : product.quantity,\n\t\t\t\t\tprice       : product.price,\n\t\t\t\t}],\n\t\t\t},\n\t\t}\n\t}\n\n\t/**\n\t * Process the client-to-server event\n\t */\n\n\tjQuery(document).trigger(\"wpmClientSideAddToCart\", payload)\n\n\t/**\n\t * Process the server-to-server event\n\t */\n\n\t// If function wpm.isServerToServerEnabled() exists, then run it\n\tif (typeof wpm.sendEventPayloadToServer === \"function\") {\n\t\twpm.sendEventPayloadToServer(payload)\n\t}\n})\n\njQuery(document).on(\"wpmBeginCheckout\", () => {\n\n\t/**\n\t * Prepare the payload\n\t */\n\n\tlet payload = {\n\t\tevent: \"beginCheckout\",\n\t}\n\n\t// Facebook\n\tif (wpmDataLayer?.pixels?.facebook?.loaded) {\n\t\tpayload.facebook = {\n\t\t\tevent_name      : \"InitiateCheckout\",\n\t\t\tevent_id        : wpm.getFbRandomEventId(),\n\t\t\tuser_data       : wpm.getFbUserData(),\n\t\t\tevent_source_url: window.location.href,\n\t\t\tcustom_data     : {},\n\t\t}\n\n\t\tif (wpmDataLayer?.cart && !jQuery.isEmptyObject(wpmDataLayer.cart)) {\n\t\t\tpayload.facebook.custom_data = {\n\t\t\t\tcontent_type: \"product\",\n\t\t\t\tcontent_ids : wpm.fbGetContentIdsFromCart(),\n\t\t\t\tvalue       : wpm.getCartValue(),\n\t\t\t\tcurrency    : wpmDataLayer.shop.currency,\n\t\t\t}\n\t\t}\n\t}\n\n\t// TikTok\n\tif (wpmDataLayer?.pixels?.tiktok?.loaded) {\n\t\tpayload.tiktok = {\n\t\t\tevent   : \"InitiateCheckout\",\n\t\t\tevent_id: wpm.getRandomEventId(),\n\t\t\tcontext : wpm.getTikTokUserDataFromBrowser(),\n\t\t}\n\t}\n\n\t/**\n\t * Process the client-to-server event\n\t */\n\n\tjQuery(document).trigger(\"wpmClientSideBeginCheckout\", payload)\n\n\t/**\n\t * Process the server-to-server event\n\t */\n\n\t// If function wpm.isServerToServerEnabled() exists, then run it\n\tif (typeof wpm.sendEventPayloadToServer === \"function\") {\n\t\twpm.sendEventPayloadToServer(payload)\n\t}\n})\n\njQuery(document).on(\"wpmAddToWishlist\", (event, product) => {\n\n\t/**\n\t * Prepare the payload\n\t */\n\n\tlet payload = {\n\t\tevent  : \"addToWishlist\",\n\t\tproduct: product,\n\t}\n\n\t// Facebook\n\tif (wpmDataLayer?.pixels?.facebook?.loaded) {\n\t\tpayload.facebook = {\n\t\t\tevent_name      : \"AddToWishlist\",\n\t\t\tevent_id        : wpm.getFbRandomEventId(),\n\t\t\tuser_data       : wpm.getFbUserData(),\n\t\t\tevent_source_url: window.location.href,\n\t\t\tcustom_data     : wpm.fbGetProductDataForCapiEvent(product),\n\t\t}\n\t}\n\n\t// TikTok\n\tif (wpmDataLayer?.pixels?.tiktok?.loaded) {\n\t\tpayload.tiktok = {\n\t\t\tevent     : \"AddToWishlist\",\n\t\t\tevent_id  : wpm.getRandomEventId(),\n\t\t\tcontext   : wpm.getTikTokUserDataFromBrowser(),\n\t\t\tproperties: {\n\t\t\t\tvalue   : product.price * product.quantity,\n\t\t\t\tcurrency: product.currency,\n\t\t\t\tcontents: [{\n\t\t\t\t\tcontent_id  : product.dyn_r_ids[wpmDataLayer.pixels.tiktok.dynamic_remarketing.id_type],\n\t\t\t\t\tcontent_type: \"product\",\n\t\t\t\t\tcontent_name: product.name,\n\t\t\t\t\tquantity    : product.quantity,\n\t\t\t\t\tprice       : product.price,\n\t\t\t\t}],\n\t\t\t},\n\t\t}\n\t}\n\n\t/**\n\t * Process the client-to-server event\n\t */\n\n\tjQuery(document).trigger(\"wpmClientSideAddToWishlist\", payload)\n\n\t/**\n\t * Process the server-to-server event\n\t */\n\n\t// If function wpm.isServerToServerEnabled() exists, then run it\n\tif (typeof wpm.sendEventPayloadToServer === \"function\") {\n\t\twpm.sendEventPayloadToServer(payload)\n\t}\n})\n\njQuery(document).on(\"wpmViewItem\", (event, product = null) => {\n\n\t/**\n\t * Prepare the payload\n\t */\n\n\tlet payload = {\n\t\tevent  : \"viewItem\",\n\t\tproduct: product,\n\t}\n\n\t// Facebook\n\tif (wpmDataLayer?.pixels?.facebook?.loaded) {\n\t\tpayload.facebook = {\n\t\t\tevent_name      : \"ViewContent\",\n\t\t\tevent_id        : wpm.getFbRandomEventId(),\n\t\t\tuser_data       : wpm.getFbUserData(),\n\t\t\tevent_source_url: window.location.href,\n\t\t\tcustom_data     : {},\n\t\t}\n\n\t\tif (product) {\n\t\t\tpayload.facebook.custom_data = wpm.fbGetProductDataForCapiEvent(product)\n\t\t}\n\t}\n\n\t// TikTok\n\tif (wpmDataLayer?.pixels?.tiktok?.loaded) {\n\t\tpayload.tiktok = {\n\t\t\tevent   : \"ViewContent\",\n\t\t\tevent_id: wpm.getRandomEventId(),\n\t\t\tcontext : wpm.getTikTokUserDataFromBrowser(),\n\t\t}\n\n\t\tif (product) {\n\t\t\tpayload.tiktok.properties = {\n\t\t\t\tvalue   : product.price * product.quantity,\n\t\t\t\tcurrency: product.currency,\n\t\t\t\tcontents: [{\n\t\t\t\t\tcontent_id  : product.dyn_r_ids[wpmDataLayer.pixels.tiktok.dynamic_remarketing.id_type],\n\t\t\t\t\tcontent_type: \"product\",\n\t\t\t\t\tcontent_name: product.name,\n\t\t\t\t\tquantity    : product.quantity,\n\t\t\t\t\tprice       : product.price,\n\t\t\t\t}],\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Process the client-to-server event\n\t */\n\n\tjQuery(document).trigger(\"wpmClientSideViewItem\", payload)\n\n\t/**\n\t * Process the server-to-server event\n\t */\n\n\t// If function wpm.isServerToServerEnabled() exists, then run it\n\tif (typeof wpm.sendEventPayloadToServer === \"function\") {\n\t\twpm.sendEventPayloadToServer(payload)\n\t}\n})\n\njQuery(document).on(\"pmwEvent:Search\", () => {\n\n\t/**\n\t * Prepare the payload\n\t */\n\n\tlet payload = {\n\t\tevent: \"search\",\n\t}\n\n\t// Facebook\n\tif (wpmDataLayer?.pixels?.facebook?.loaded) {\n\t\tpayload.facebook = {\n\t\t\tevent_name      : \"Search\",\n\t\t\tevent_id        : wpm.getFbRandomEventId(),\n\t\t\tuser_data       : wpm.getFbUserData(),\n\t\t\tevent_source_url: window.location.href,\n\t\t\tcustom_data     : {\n\t\t\t\tsearch_string: wpm.getSearchTermFromUrl(),\n\t\t\t},\n\t\t}\n\t}\n\n\t// TikTok\n\tif (wpmDataLayer?.pixels?.tiktok?.loaded) {\n\t\tpayload.tiktok = {\n\t\t\tevent     : \"Search\",\n\t\t\tevent_id  : wpm.getRandomEventId(),\n\t\t\tcontext   : wpm.getTikTokUserDataFromBrowser(),\n\t\t\tproperties: {\n\t\t\t\tquery: wpm.getSearchTermFromUrl(),\n\t\t\t},\n\t\t}\n\t}\n\n\t/**\n\t * Process the client-to-server event\n\t */\n\n\tjQuery(document).trigger(\"wpmClientSideSearch\", payload)\n\n\t/**\n\t * Process the server-to-server event\n\t */\n\n\t// If function wpm.isServerToServerEnabled() exists, then run it\n\tif (typeof wpm.sendEventPayloadToServer === \"function\") {\n\t\twpm.sendEventPayloadToServer(payload)\n\t}\n})\n\njQuery(document).on(\"wpmPlaceOrder\", () => {\n\n\t/**\n\t * Prepare the payload\n\t */\n\n\tlet payload = {\n\t\tevent: \"placeOrder\",\n\t}\n\n\t// TikTok\n\tif (wpmDataLayer?.pixels?.tiktok?.loaded) {\n\t\tpayload.tiktok = {\n\t\t\tevent   : \"PlaceAnOrder\",\n\t\t\tevent_id: wpm.getRandomEventId(),\n\t\t\tcontext : wpm.getTikTokUserDataFromBrowser(),\n\t\t}\n\t}\n\n\t/**\n\t * Process the client-to-server event\n\t */\n\n\tjQuery(document).trigger(\"wpmClientPlaceOrder\", payload)\n\n\t/**\n\t * Process the server-to-server event\n\t */\n\n\t// If function wpm.isServerToServerEnabled() exists, then run it\n\tif (typeof wpm.sendEventPayloadToServer === \"function\") {\n\t\twpm.sendEventPayloadToServer(payload)\n\t}\n})\n\njQuery(document).on(\"wpmOrderReceivedPage\", () => {\n\n\t/**\n\t * Prepare the payload\n\t */\n\n\tlet payload = {\n\t\tevent: \"orderReceived\",\n\t}\n\n\t// Facebook\n\tif (wpmDataLayer?.pixels?.facebook?.loaded) {\n\t\tpayload.facebook = {\n\t\t\tevent_name      : \"Purchase\",\n\t\t\tevent_id        : wpmDataLayer.order.id.toString(),\n\t\t\tuser_data       : wpm.getFbUserData(),\n\t\t\tevent_source_url: window.location.href,\n\t\t\tcustom_data     : {\n\t\t\t\tcontent_type: \"product\",\n\t\t\t\tvalue       : wpmDataLayer.order.value_filtered,\n\t\t\t\tcurrency    : wpmDataLayer.order.currency,\n\t\t\t\tcontent_ids : wpm.facebookContentIds(),\n\t\t\t},\n\t\t}\n\t}\n\n\t// TikTok\n\tif (wpmDataLayer?.pixels?.tiktok?.loaded) {\n\t\tpayload.tiktok = {\n\t\t\tevent     : \"CompletePayment\",\n\t\t\tevent_id  : wpmDataLayer.order.id.toString(),\n\t\t\tcontext   : wpm.getTikTokUserDataFromBrowser(),\n\t\t\tproperties: {\n\t\t\t\tvalue   : wpmDataLayer.order.value_filtered,\n\t\t\t\tcurrency: wpmDataLayer.order.currency,\n\t\t\t\tcontents: wpm.getTikTokOrderItemIds(),\n\t\t\t},\n\t\t}\n\t}\n\n\t/**\n\t * Process the client-to-server event\n\t */\n\n\tjQuery(document).trigger(\"wpmClientSideOrderReceivedPage\", payload)\n\n\t/**\n\t * Process the server-to-server event\n\t */\n\n\t// ! No server-to-server event is sent for this event because it is compiled and sent from the server directly\n})\n\njQuery(document).on(\"pmw:ready\", async () => {\n\n\t// /**\n\t//  * Run as soon as wpm namespace is loaded\n\t//  */\n\t//\n\t// await wpm.wpmDataLayerExists()\n\n\t// Watch for products visible in viewport\n\twpm.startIntersectionObserverToWatch()\n\n\t// Watch for lazy loaded products\n\twpm.startProductsMutationObserverToWatch()\n})\n\n\n\n\n","/**\n * Register event listeners\n */\n\n\n/**\n * add_to_cart event\n *\n * WC is inconsistent with events that emit add-to-cart events.\n * adding_to_cart and added_to_are legacy events. Also, they only work\n * on Ajax buttons on shop pages.\n */\n\nconst addToCartSelectors = [\n\t\".add_to_cart_button:not(.product_type_variable)\",\n\t\".ajax_add_to_cart\",\n\t\".single_add_to_cart_button\",\n].join(\",\")\n\njQuery(addToCartSelectors).on(\"click adding_to_cart\", (event) => {\n\t// console log current time\n\t// console.log(\"add_to_cart event fired at: \" + new Date().getTime())\n\n\ttry {\n\n\t\t// console.log(\"add_to_cart event detected\")\n\n\t\tlet quantity = 1,\n\t\t\tproductId\n\n\t\t// Only process on product pages\n\t\tif (wpmDataLayer.shop.page_type === \"product\") {\n\n\t\t\t// First process related and upsell products\n\t\t\tif (typeof jQuery(event.currentTarget).attr(\"href\") !== \"undefined\" && jQuery(event.currentTarget).attr(\"href\").includes(\"add-to-cart\")) {\n\n\t\t\t\tproductId = jQuery(event.currentTarget).data(\"product_id\")\n\n\t\t\t\twpm.addProductToCart(productId, quantity)\n\t\t\t}\n\n\t\t\t// If is simple product\n\t\t\tif (wpmDataLayer.shop.product_type === \"simple\") {\n\n\t\t\t\tquantity = Number(jQuery(\".input-text.qty\").val())\n\t\t\t\tif (!quantity && quantity !== 0) quantity = 1\n\t\t\t\tproductId = jQuery(event.currentTarget).val()\n\n\t\t\t\twpm.addProductToCart(productId, quantity)\n\t\t\t}\n\n\t\t\t// If is variable product or variable-subscription\n\t\t\tif ([\"variable\", \"variable-subscription\"].indexOf(wpmDataLayer.shop.product_type) >= 0) {\n\n\t\t\t\tquantity = Number(jQuery(\".input-text.qty\").val())\n\t\t\t\tif (!quantity && quantity !== 0) quantity = 1\n\t\t\t\tproductId = jQuery(\"[name='variation_id']\").val()\n\n\t\t\t\twpm.addProductToCart(productId, quantity)\n\t\t\t}\n\n\t\t\t// If is grouped product\n\t\t\tif (wpmDataLayer.shop.product_type === \"grouped\") {\n\n\t\t\t\tjQuery(\".woocommerce-grouped-product-list-item\").each((index, element) => {\n\n\t\t\t\t\tquantity = Number(jQuery(element).find(\".input-text.qty\").val())\n\t\t\t\t\tif (!quantity && quantity !== 0) quantity = 1\n\t\t\t\t\tlet classes = jQuery(element).attr(\"class\")\n\t\t\t\t\tproductId   = wpm.getPostIdFromString(classes)\n\n\t\t\t\t\twpm.addProductToCart(productId, quantity)\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// If is bundle product\n\t\t\tif (wpmDataLayer.shop.product_type === \"bundle\") {\n\n\t\t\t\tquantity = Number(jQuery(\".input-text.qty\").val())\n\t\t\t\tif (!quantity && quantity !== 0) quantity = 1\n\t\t\t\tproductId = jQuery(\"input[name=add-to-cart]\").val()\n\n\t\t\t\twpm.addProductToCart(productId, quantity)\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tproductId = jQuery(event.currentTarget).data(\"product_id\")\n\t\t\twpm.addProductToCart(productId, quantity)\n\t\t}\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n\n/**\n * If someone clicks anywhere on a custom /?add-to-cart=123 link\n * trigger the add to cart event\n */\n\n// jQuery(document).one(\"click\", \"a:not(.add_to_cart_button, .ajax_add_to_cart, .single_add_to_cart_button)\", (event) => {\njQuery(\"a:not(.add_to_cart_button, .ajax_add_to_cart, .single_add_to_cart_button)\").one(\"click\", (event) => {\n\n\ttry {\n\t\tif (jQuery(event.target).closest(\"a\").attr(\"href\")) {\n\n\t\t\tlet url = new URL(jQuery(event.currentTarget).attr(\"href\"), window.location.origin)\n\n\t\t\tif (url.searchParams.has(\"add-to-cart\")) {\n\n\t\t\t\tlet productId = url.searchParams.get(\"add-to-cart\")\n\t\t\t\twpm.addProductToCart(productId, 1)\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n// select item event\n// jQuery(document).on(\"click\", \".woocommerce-LoopProduct-link, .wc-block-grid__product, .product, .product-small, .type-product\", (event) => {\njQuery(\".woocommerce-LoopProduct-link, .wc-block-grid__product, .product, .product-small, .type-product\").on(\"click\", (event) => {\n\n\ttry {\n\n\t\t/**\n\t\t * On some pages the event fires multiple times, and on product pages\n\t\t * even on page load. Using e.stopPropagation helps to prevent this,\n\t\t * but I don't know why. We don't even have to use this, since only a real\n\t\t * product click yields a valid productId. So we filter the invalid click\n\t\t * events out later down in the code. I'll keep it that way because this is\n\t\t * the most compatible way across shops.\n\t\t *\n\t\t * e.stopPropagation();\n\t\t * */\n\n\t\tlet productId = jQuery(event.currentTarget).nextAll(\".wpmProductId:first\").data(\"id\")\n\n\t\t/**\n\t\t * On product pages, for some reason, the click event is triggered on the main product on page load.\n\t\t * In that case no ID is found. But we can discard it, since we only want to trigger the event on\n\t\t * related products, which are found below.\n\t\t */\n\n\t\tif (productId) {\n\n\t\t\tproductId = wpm.getIdBasedOndVariationsOutputSetting(productId)\n\n\t\t\tif (!productId) throw Error(\"Wasn't able to retrieve a productId\")\n\n\t\t\tif (wpmDataLayer.products && wpmDataLayer.products[productId]) {\n\n\t\t\t\tlet product = wpm.getProductDetailsFormattedForEvent(productId)\n\n\t\t\t\tjQuery(document).trigger(\"wpmSelectContentGaUa\", product)\n\t\t\t\tjQuery(document).trigger(\"wpmSelectItem\", product)\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n\n// checkout_progress event\n// track checkout option event: entered valid billing email\n// jQuery(document).on(\"input\", \"#billing_email\", (event) => {\njQuery(\"#billing_email\").on(\"input\", (event) => {\n\n\tif (wpm.isEmail(jQuery(event.currentTarget).val())) {\n\t\t// wpm.fireCheckoutOption(2);\n\t\twpm.fireCheckoutProgress(2)\n\t\twpm.emailSelected = true\n\t}\n})\n\n\n/**\n * Place order button\n *\n * Track checkout option event: purchase click\n * https://stackoverflow.com/a/34112407/4688612\n * jQuery(document).one(\"click\", \"#place_order\", () => {\n *\n * Has to be hooked after document ready !\n */\njQuery(\"form.checkout\").on(\"checkout_place_order_success\", () => {\n\n\t// console log current time\n\t// console.log(\"checkout_place_order_success event fired at: \" + new Date().getTime())\n\n\tif (false === wpm.emailSelected) {\n\t\twpm.fireCheckoutProgress(2)\n\t}\n\n\tif (false === wpm.paymentMethodSelected) {\n\t\twpm.fireCheckoutProgress(3)\n\t\twpm.fireCheckoutOption(3, jQuery(\"input[name='payment_method']:checked\").val())\n\t}\n\n\twpm.fireCheckoutProgress(4)\n\n\tjQuery(document).trigger(\"wpmPlaceOrder\", {})\n})\n\n/**\n * Update cart event\n *\n * Has to be hooked after document ready !\n */\njQuery(\"[name='update_cart']\").on(\"click\", () => {\n\n\ttry {\n\t\tjQuery(\".cart_item\").each((index, element) => {\n\n\t\t\tlet url       = new URL(jQuery(element).find(\".product-remove\").find(\"a\").attr(\"href\"))\n\t\t\tlet productId = wpm.getProductIdByCartItemKeyUrl(url)\n\n\t\t\tlet quantity = jQuery(element).find(\".qty\").val()\n\n\t\t\tif (quantity === 0) {\n\t\t\t\twpm.removeProductFromCart(productId)\n\t\t\t} else if (quantity < wpmDataLayer.cart[productId].quantity) {\n\t\t\t\twpm.removeProductFromCart(productId, wpmDataLayer.cart[productId].quantity - quantity)\n\t\t\t} else if (quantity > wpmDataLayer.cart[productId].quantity) {\n\t\t\t\twpm.addProductToCart(productId, quantity - wpmDataLayer.cart[productId].quantity)\n\t\t\t}\n\t\t})\n\t} catch (e) {\n\t\tconsole.error(e)\n\t\twpm.getCartItemsFromBackend()\n\t}\n})\n\n// add_to_wishlist\njQuery(\".add_to_wishlist,.wl-add-to\").on(\"click\", event => {\n\n\ttry {\n\n\t\tlet productId\n\n\t\tif (jQuery(event.currentTarget).data(\"productid\")) { // for the WooCommerce wishlist plugin\n\n\t\t\tproductId = jQuery(event.currentTarget).data(\"productid\")\n\t\t} else if (jQuery(event.currentTarget).data(\"product-id\")) {  // for the YITH wishlist plugin\n\n\t\t\tproductId = jQuery(event.currentTarget).data(\"product-id\")\n\t\t}\n\n\t\tif (!productId) throw Error(\"Wasn't able to retrieve a productId\")\n\n\t\tlet product = wpm.getProductDetailsFormattedForEvent(productId)\n\n\n\t\tjQuery(document).trigger(\"wpmAddToWishlist\", product)\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n\n/**\n * Called when the user selects all the required dropdowns / attributes\n *\n * Has to be hooked after document ready !\n *\n * https://stackoverflow.com/a/27849208/4688612\n * https://stackoverflow.com/a/65065335/4688612\n */\n\njQuery(\".single_variation_wrap\").on(\"show_variation\", (event, variation) => {\n\n\ttry {\n\t\tlet productId = wpm.getIdBasedOndVariationsOutputSetting(variation.variation_id)\n\n\t\tif (!productId) throw Error(\"Wasn't able to retrieve a productId\")\n\n\t\twpm.triggerViewItemEventPrep(productId)\n\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n})\n\n\n/**\n * Called on variable products when no selection has been done yet\n * or when the visitor deselects his choice.\n *\n * Has to be hooked after document ready !\n */\n\n// jQuery(function () {\n//\n// \tjQuery(\".single_variation_wrap\").on(\"hide_variation\", function () {\n//\n// \t\ttry {\n// \t\t\tlet classes   = jQuery(\"body\").attr(\"class\")\n// \t\t\tlet productId = classes.match(/(postid-)(\\d+)/)[2]\n//\n// \t\t\tif (!productId) throw Error(\"Wasn't able to retrieve a productId\")\n//\n// \t\t\t/**\n// \t\t\t * If we have a variable product with no preset,\n// \t\t\t * and variations output is enabled,\n// \t\t\t * then we send a viewItem event with the first\n// \t\t\t * variation we find for the parent.\n// \t\t\t * If variations output is disabled,\n// \t\t\t * we just send the parent ID.\n// \t\t\t *\n// \t\t\t * And if Facebook microdata is active, use the\n// \t\t\t * microdata product ID.\n// \t\t\t */\n//\n// \t\t\tif (\n// \t\t\t\t\"variable\" === wpmDataLayer.shop.product_type &&\n// \t\t\t\twpmDataLayer?.general?.variationsOutput\n// \t\t\t) {\n// \t\t\t\tfor (const [key, product] of Object.entries(wpmDataLayer.products)) {\n// \t\t\t\t\tif (\"parentId\" in product) {\n//\n// \t\t\t\t\t\tproductId = product.id\n// \t\t\t\t\t\tbreak\n// \t\t\t\t\t}\n// \t\t\t\t}\n//\n// \t\t\t\tif (wpmDataLayer?.pixels?.facebook?.microdata_product_id) {\n// \t\t\t\t\tproductId = wpmDataLayer.pixels.facebook.microdata_product_id\n// \t\t\t\t}\n// \t\t\t}\n//\n// \t\t\t// console.log(\"hmm\")\n// \t\t\twpm.triggerViewItemEventPrep(productId)\n//\n// \t\t} catch (e) {\n// \t\t\tconsole.error(e)\n// \t\t}\n// \t})\n// })\n\n// jQuery(function () {\n//\n// \tjQuery(\".single_variation_wrap\").on(\"hide_variation\", function () {\n// \t\tjQuery(document).trigger(\"wpmviewitem\")\n// \t})\n// })\n","/**\n * Automatic Conversion Recovery (ACR)\n */\njQuery(document).on(\"wpmLoadAlways\", async () => {\n\n\ttry {\n\t\t// Return if on purchase confirmation page\n\t\tif (wpmDataLayer?.shop?.page_type === \"order_received_page\") return\n\n\t\t// console.log(\"ACR running\")\n\n\t\t// Return if ACR cookie has not been set\n\t\tif (!wpm.getCookie(\"pmw_automatic_conversion_recovery\")) return\n\n\t\t// console.log(\"ACR cookie found\")\n\n\t\t// Return if window.sessionStorage is not supported\n\t\tif (!window.sessionStorage) return\n\n\t\t// console.log(\"window.sessionStorage available\")\n\n\t\t// Return if the check has already run in the current session\n\t\tif (window.sessionStorage.getItem(\"_pmw_acr_attempted\")) return\n\n\t\t// console.log(\"ACR check not run in this session\")\n\n\t\t// Get the order details from the server\n\t\tawait wpm.getAcrOrderDetails()\n\n\t\tif(!wpmDataLayer?.order) {\n\t\t\tconsole.error(\"ACR order details not retrieved\")\n\t\t\treturn\n\t\t}\n\n\t\t// console.log(\"ACR order details retrieved\")\n\n\t\t// console.log(\"wpmDataLayer.order\", wpmDataLayer.order)\n\n\t\t// Fire the conversion pixels\n\t\tjQuery(document).trigger(\"wpmOrderReceivedPage\")\n\n\t\t// Save the order ID on the server to prevent duplicate conversions\n\t\twpm.writeOrderIdToStorage(wpmDataLayer.order.id, wpmDataLayer.order.key, \"acr_full_auto\")\n\n\t\t// Delete the ACR cookie\n\t\twpm.deleteCookie(\"pmw_automatic_conversion_recovery\")\n\n\t} catch (error) {\n\t\tif (window.sessionStorage) window.sessionStorage.setItem(\"_pmw_acr_attempted\", JSON.stringify(true))\n\t\tconsole.error(error)\n\t}\n})\n\n/**\n * Scroll Tracker\n */\n\n// We only can load it once the pmwDataLayer is available\njQuery(document).on(\"wpmLoad\", function () {\n\n\t// Only initialize if the scroll tracker is enabled\n\tif (!wpmDataLayer?.general?.scrollTrackingThresholds || !wpmDataLayer.general.scrollTrackingThresholds.length > 0) return\n\n\t(function (wpm, $, undefined) {\n\n\t\twpm.scrollVisibilityThreshold = wpmDataLayer.general.scrollTrackingThresholds\n\n\t\t// Create an object that contains each key from visibilityBreakPoints and sets each value to false\n\t\twpm.scrollVisibilityThresholdStatus = wpm.scrollVisibilityThreshold.reduce((obj, item) => {\n\t\t\tobj[item] = false\n\t\t\treturn obj\n\t\t}, {})\n\n\t}(window.wpm = window.wpm || {}, jQuery));\n\n\tjQuery(window).on(\"scroll\", (event) => {\n\n\t\tconst scrollPosition = jQuery(window).scrollTop()\n\n\t\t// If the scroll reaches a visibility threshold for each threshold in visibilityThresholdStatus that is set to false, trigger an event\n\t\tfor (const [threshold, value] of Object.entries(wpm.scrollVisibilityThresholdStatus)) {\n\t\t\tif (value === false) {\n\t\t\t\tconst visibilityBreakPoint = (jQuery(document).height() - jQuery(window).height()) * (threshold / 100)\n\t\t\t\tif (scrollPosition >= visibilityBreakPoint) {\n\t\t\t\t\tjQuery(document).trigger(\"pmwScrollDepth\", {\n\t\t\t\t\t\tdirection   : \"vertical\",\n\t\t\t\t\t\tthreshold   : threshold,\n\t\t\t\t\t\tposition    : scrollPosition,\n\t\t\t\t\t\tpositionUnit: \"pixels\",\n\t\t\t\t\t})\n\t\t\t\t\twpm.scrollVisibilityThresholdStatus[threshold] = true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t})\n\n\n})\n","/**\n * Create a wpm namespace under which all functions are declared\n */\n\n// https://stackoverflow.com/a/5947280/4688612\n\n(function (wpm, $, undefined) {\n\n\tconst wpmDeduper = {\n\t\tkeyName          : \"_wpm_order_ids\",\n\t\tcookieExpiresDays: 365,\n\t}\n\n\tconst wpmRestSettings = {\n\t\t// cookiesAvailable                  : '_wpm_cookies_are_available',\n\t\tcookiePmwRestEndpointAvailable: \"_pmw_endpoint_available\",\n\t\trestEndpointPost              : \"pmw/v1/test/\",\n\t\trestFails                     : 0,\n\t\trestFailsThreshold            : 10,\n\t}\n\n\twpm.emailSelected         = false\n\twpm.paymentMethodSelected = false\n\n\t// wpm.checkIfCookiesAvailable = function () {\n\t//\n\t//     // read the cookie if previously set, if it is return true, otherwise continue\n\t//     if (wpm.getCookie(wpmRestSettings.cookiesAvailable)) {\n\t//         return true;\n\t//     }\n\t//\n\t//     // set the cookie for the session\n\t//     Cookies.set(wpmRestSettings.cookiesAvailable, true);\n\t//\n\t//     // read cookie, true if ok, false if not ok\n\t//     return !!wpm.getCookie(wpmRestSettings.cookiesAvailable);\n\t// }\n\n\twpm.useRestEndpoint = () => {\n\n\t\t// only if sessionStorage is available\n\n\t\t// only if REST API endpoint is generally accessible\n\t\t// check in sessionStorage if we checked before and return answer\n\t\t// otherwise check if the endpoint is available, save answer in sessionStorage and return answer\n\n\t\t// only if not too many REST API errors happened\n\n\t\treturn wpm.isSessionStorageAvailable() &&\n\t\t\twpm.isRestEndpointAvailable() &&\n\t\t\twpm.isBelowRestErrorThreshold()\n\t}\n\n\twpm.isBelowRestErrorThreshold = () => window.sessionStorage.getItem(wpmRestSettings.restFails) <= wpmRestSettings.restFailsThreshold\n\n\twpm.isRestEndpointAvailable = async () => {\n\n\t\tif (window.sessionStorage.getItem(wpmRestSettings.cookiePmwRestEndpointAvailable)) {\n\t\t\treturn JSON.parse(window.sessionStorage.getItem(wpmRestSettings.cookiePmwRestEndpointAvailable))\n\t\t} else {\n\t\t\treturn await wpm.testEndpoint()\n\t\t}\n\t}\n\n\twpm.isSessionStorageAvailable = () => !!window.sessionStorage\n\n\t// Test the endpoint by sending a POST request\n\twpm.testEndpoint = async (\n\t\turl        = wpm.root + wpmRestSettings.restEndpointPost,\n\t\tcookieName = wpmRestSettings.cookiePmwRestEndpointAvailable,\n\t) => {\n\n\t\tlet response = await fetch(url, {\n\t\t\tmethod   : \"POST\",\n\t\t\tmode     : \"cors\",\n\t\t\tcache    : \"no-cache\",\n\t\t\tkeepalive: true,\n\t\t})\n\n\t\tif (response.status === 200) {\n\t\t\twindow.sessionStorage.setItem(cookieName, JSON.stringify(true))\n\t\t\treturn true\n\t\t} else if (response.status === 404) {\n\t\t\twindow.sessionStorage.setItem(cookieName, JSON.stringify(false))\n\t\t\treturn false\n\t\t} else if (response.status === 0) {\n\t\t\twindow.sessionStorage.setItem(cookieName, JSON.stringify(false))\n\t\t\treturn false\n\t\t}\n\t}\n\n\twpm.isWpmRestEndpointAvailable = (cookieName = wpmRestSettings.cookiePmwRestEndpointAvailable) => !!wpm.getCookie(cookieName)\n\n\twpm.writeOrderIdToStorage = (orderId, orderKey, source = \"thankyou_page\", expireDays = 365) => {\n\n\t\t// save the order ID in the browser storage\n\n\t\tif (!window.Storage) {\n\t\t\tlet expiresDate = new Date()\n\t\t\texpiresDate.setDate(expiresDate.getDate() + wpmDeduper.cookieExpiresDays)\n\n\t\t\tlet ids = []\n\t\t\tif (checkCookie()) {\n\t\t\t\tids = JSON.parse(wpm.getCookie(wpmDeduper.keyName))\n\t\t\t}\n\n\t\t\tif (!ids.includes(orderId)) {\n\t\t\t\tids.push(orderId)\n\t\t\t\tdocument.cookie = wpmDeduper.keyName + \"=\" + JSON.stringify(ids) + \";expires=\" + expiresDate.toUTCString()\n\t\t\t}\n\n\t\t} else {\n\t\t\tif (localStorage.getItem(wpmDeduper.keyName) === null) {\n\t\t\t\tlet ids = []\n\t\t\t\tids.push(orderId)\n\t\t\t\twindow.localStorage.setItem(wpmDeduper.keyName, JSON.stringify(ids))\n\n\t\t\t} else {\n\t\t\t\tlet ids = JSON.parse(localStorage.getItem(wpmDeduper.keyName))\n\t\t\t\tif (!ids.includes(orderId)) {\n\t\t\t\t\tids.push(orderId)\n\t\t\t\t\twindow.localStorage.setItem(wpmDeduper.keyName, JSON.stringify(ids))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (typeof wpm.storeOrderIdOnServer === \"function\" && wpmDataLayer.orderDeduplication) {\n\t\t\twpm.storeOrderIdOnServer(orderKey, source)\n\t\t}\n\t}\n\n\tfunction checkCookie() {\n\t\tlet key = wpm.getCookie(wpmDeduper.keyName)\n\t\treturn key !== \"\"\n\t}\n\n\twpm.isOrderIdStored = orderId => {\n\n\t\tif (wpmDataLayer.orderDeduplication) {\n\n\t\t\tif (!window.Storage) {\n\n\t\t\t\tif (checkCookie()) {\n\t\t\t\t\tlet ids = JSON.parse(wpm.getCookie(wpmDeduper.keyName))\n\t\t\t\t\treturn ids.includes(orderId)\n\t\t\t\t} else {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (localStorage.getItem(wpmDeduper.keyName) !== null) {\n\t\t\t\t\tlet ids = JSON.parse(localStorage.getItem(wpmDeduper.keyName))\n\t\t\t\t\treturn ids.includes(orderId)\n\t\t\t\t} else {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.log(\"order duplication prevention: off\")\n\t\t\treturn false\n\t\t}\n\t}\n\n\twpm.isEmail = email => {\n\n\t\t// https://emailregex.com/\n\n\t\tlet regex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\n\t\treturn regex.test(email)\n\t}\n\n\twpm.removeProductFromCart = async (productId, quantityToRemove = null) => {\n\n\t\ttry {\n\n\t\t\tif (!productId) throw Error(\"Wasn't able to retrieve a productId\")\n\n\t\t\tproductId = wpm.getIdBasedOndVariationsOutputSetting(productId)\n\n\t\t\tif (!productId) throw Error(\"Wasn't able to retrieve a productId\")\n\n\t\t\tlet quantity\n\n\t\t\tif (quantityToRemove == null) {\n\t\t\t\tquantity = wpmDataLayer.cart[productId].quantity\n\t\t\t} else {\n\t\t\t\tquantity = quantityToRemove\n\t\t\t}\n\n\t\t\tif (!wpmDataLayer.cart[productId]) {\n\t\t\t\tawait wpm.getProductsFromBackend([productId])\n\t\t\t}\n\n\t\t\tlet product = wpm.getProductDetailsFormattedForEvent(productId, quantity)\n\n\t\t\tjQuery(document).trigger(\"wpmRemoveFromCart\", product)\n\n\t\t\tif (quantityToRemove == null || wpmDataLayer.cart[productId].quantity === quantityToRemove) {\n\n\t\t\t\tdelete wpmDataLayer.cart[productId]\n\n\t\t\t\tif (sessionStorage) sessionStorage.setItem(\"wpmDataLayerCart\", JSON.stringify(wpmDataLayer.cart))\n\t\t\t} else {\n\n\t\t\t\twpmDataLayer.cart[productId].quantity = wpmDataLayer.cart[productId].quantity - quantity\n\n\t\t\t\tif (sessionStorage) sessionStorage.setItem(\"wpmDataLayerCart\", JSON.stringify(wpmDataLayer.cart))\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t\t// console.log('getting cart from back end');\n\t\t\t// wpm.getCartItemsFromBackend();\n\t\t\t// console.log('getting cart from back end done');\n\t\t}\n\t}\n\n\twpm.getIdBasedOndVariationsOutputSetting = productId => {\n\n\t\ttry {\n\t\t\tif (wpmDataLayer?.general?.variationsOutput) return productId\n\n\t\t\tif (wpmDataLayer.products[productId].isVariation) return wpmDataLayer.products[productId].parentId\n\n\t\t\treturn productId\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\t// add_to_cart\n\twpm.addProductToCart = async (productId, quantity) => {\n\n\t\ttry {\n\n\t\t\tif (!productId) throw Error(\"Wasn't able to retrieve a productId\")\n\n\t\t\tproductId = wpm.getIdBasedOndVariationsOutputSetting(productId)\n\n\t\t\tif (!productId) throw Error(\"Wasn't able to retrieve a productId\")\n\n\t\t\tif (!wpmDataLayer?.products[productId]) {\n\t\t\t\tawait wpm.getProductsFromBackend([productId])\n\t\t\t}\n\n\t\t\tlet product = wpm.getProductDetailsFormattedForEvent(productId, quantity)\n\n\t\t\tjQuery(document).trigger(\"wpmAddToCart\", product)\n\n\t\t\t// add product to cart wpmDataLayer['cart']\n\n\t\t\t// if the product already exists in the object, only add the additional quantity\n\t\t\t// otherwise create that product object in the wpmDataLayer['cart']\n\t\t\tif (wpmDataLayer?.cart[productId]) {\n\n\t\t\t\twpmDataLayer.cart[productId].quantity = wpmDataLayer.cart[productId].quantity + quantity\n\t\t\t} else {\n\n\t\t\t\tif (!(\"cart\" in wpmDataLayer)) wpmDataLayer.cart = {}\n\n\t\t\t\twpmDataLayer.cart[productId] = wpm.getProductDetailsFormattedForEvent(productId, quantity)\n\t\t\t}\n\n\t\t\tif (sessionStorage) sessionStorage.setItem(\"wpmDataLayerCart\", JSON.stringify(wpmDataLayer.cart))\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\n\t\t\t// fallback if wpmDataLayer.cart and wpmDataLayer.products got out of sync in case cart caching has an issue\n\t\t\twpm.getCartItemsFromBackend()\n\t\t}\n\t}\n\n\twpm.getCartItems = () => {\n\n\t\tif (sessionStorage) {\n\t\t\tif (!sessionStorage.getItem(\"wpmDataLayerCart\") || wpmDataLayer.shop.page_type === \"order_received_page\") {\n\t\t\t\tsessionStorage.setItem(\"wpmDataLayerCart\", JSON.stringify({}))\n\t\t\t} else {\n\t\t\t\twpm.saveCartObjectToDataLayer(JSON.parse(sessionStorage.getItem(\"wpmDataLayerCart\")))\n\t\t\t}\n\t\t} else {\n\t\t\twpm.getCartItemsFromBackend()\n\t\t}\n\t}\n\n\t// get all cart items from the backend\n\twpm.getCartItemsFromBackend = () => {\n\t\ttry {\n\n\t\t\t/**\n\t\t\t * Can't use a REST API endpoint, as the cart session will not be loaded if the\n\t\t\t * endpoint is called.\n\t\t\t *\n\t\t\t * https://wordpress.org/support/topic/wc-cart-is-null-in-custom-rest-api/#post-11442843\n\t\t\t */\n\n\t\t\t/**\n\t\t\t * Get the cart items from the backend the data object using fetch API\n\t\t\t * and log success or error messages\n\t\t\t * and url encoded data\n\t\t\t */\n\t\t\tfetch(wpm.ajax_url, {\n\t\t\t\tmethod   : \"POST\",\n\t\t\t\tcache    : \"no-cache\",\n\t\t\t\tbody     : new URLSearchParams({action: \"pmw_get_cart_items\"}),\n\t\t\t\tkeepalive: true,\n\t\t\t})\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\treturn response.json()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow Error(\"Error getting cart items from backend\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(data => {\n\n\t\t\t\t\tif (data.success) {\n\n\t\t\t\t\t\tif (!data.data[\"cart\"]) data.data[\"cart\"] = {}\n\n\t\t\t\t\t\twpm.saveCartObjectToDataLayer(data.data[\"cart\"])\n\n\t\t\t\t\t\tif (sessionStorage) sessionStorage.setItem(\"wpmDataLayerCart\", JSON.stringify(data.data[\"cart\"]))\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow Error(\"Error getting cart items from backend\")\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\t// get productIds from the backend\n\twpm.getProductsFromBackend = async productIds => {\n\n\t\tif (wpmDataLayer?.products) {\n\t\t\t// If productIds already exists as key in wpmDataLayer.products, remove it from the array\n\t\t\tproductIds = productIds.filter(productId => !(productId in wpmDataLayer.products))\n\t\t}\n\n\t\t// if no products IDs are in the object, don't try to get anything from the server\n\t\tif (!productIds || productIds.length === 0) return\n\n\t\ttry {\n\n\t\t\tlet response\n\n\t\t\tif (await wpm.isRestEndpointAvailable()) {\n\t\t\t\tresponse = await fetch(wpm.root + \"pmw/v1/products/\", {\n\t\t\t\t\tmethod : \"POST\",\n\t\t\t\t\tcache  : \"no-cache\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t},\n\t\t\t\t\tbody   : JSON.stringify({\n\t\t\t\t\t\tpageId    : wpmDataLayer.general.pageId,\n\t\t\t\t\t\tpageType  : wpmDataLayer.shop.page_type,\n\t\t\t\t\t\tproductIds: productIds,\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t} else {\n\n\t\t\t\t// Get the product details from the backend the data object using fetch API\n\t\t\t\t// and log success or error messages\n\t\t\t\t// and url encoded data\n\t\t\t\tresponse = await fetch(wpm.ajax_url, {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tcache : \"no-cache\",\n\t\t\t\t\tbody  : new URLSearchParams({\n\t\t\t\t\t\taction    : \"pmw_get_product_ids\",\n\t\t\t\t\t\tpageId    : wpmDataLayer.general.pageId,\n\t\t\t\t\t\tpageType  : wpmDataLayer.shop.page_type,\n\t\t\t\t\t\tproductIds: productIds,\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (response.ok) {\n\t\t\t\tlet responseData = await response.json()\n\t\t\t\tif (responseData.success) {\n\t\t\t\t\twpmDataLayer.products = Object.assign({}, wpmDataLayer.products, responseData.data)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.error(\"Error getting products from backend\")\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\n\t\treturn true\n\t}\n\n\twpm.saveCartObjectToDataLayer = cartObject => {\n\n\t\twpmDataLayer.cart     = cartObject\n\t\twpmDataLayer.products = Object.assign({}, wpmDataLayer.products, cartObject)\n\t}\n\n\twpm.triggerViewItemEventPrep = async productId => {\n\n\t\tif (wpmDataLayer.products && wpmDataLayer.products[productId]) {\n\n\t\t\twpm.triggerViewItemEvent(productId)\n\t\t} else {\n\t\t\tawait wpm.getProductsFromBackend([productId])\n\t\t\twpm.triggerViewItemEvent(productId)\n\t\t}\n\t}\n\n\twpm.triggerViewItemEvent = productId => {\n\n\t\tlet product = wpm.getProductDetailsFormattedForEvent(productId)\n\n\t\tjQuery(document).trigger(\"wpmViewItem\", product)\n\t}\n\n\twpm.triggerViewItemEventNoProduct = () => {\n\t\tjQuery(document).trigger(\"wpmViewItem\")\n\t}\n\n\twpm.fireCheckoutOption = (step, checkout_option = null, value = null) => {\n\n\t\tlet data = {\n\t\t\tstep           : step,\n\t\t\tcheckout_option: checkout_option,\n\t\t\tvalue          : value,\n\t\t}\n\n\t\tjQuery(document).trigger(\"wpmFireCheckoutOption\", data)\n\t}\n\n\twpm.fireCheckoutProgress = step => {\n\n\t\tlet data = {\n\t\t\tstep: step,\n\t\t}\n\n\t\tjQuery(document).trigger(\"wpmFireCheckoutProgress\", data)\n\t}\n\n\twpm.getPostIdFromString = string => {\n\n\t\ttry {\n\t\t\treturn string.match(/(post-)(\\d+)/)[2]\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.triggerViewItemList = productId => {\n\n\t\tif (!productId) throw Error(\"Wasn't able to retrieve a productId\")\n\n\t\tproductId = wpm.getIdBasedOndVariationsOutputSetting(productId)\n\n\t\tif (!productId) throw Error(\"Wasn't able to retrieve a productId\")\n\n\t\tjQuery(document).trigger(\"wpmViewItemList\", wpm.getProductDataForViewItemEvent(productId))\n\t}\n\n\twpm.getProductDataForViewItemEvent = productId => {\n\n\t\tif (!productId) throw Error(\"Wasn't able to retrieve a productId\")\n\n\t\ttry {\n\t\t\tif (wpmDataLayer.products[productId]) {\n\n\t\t\t\treturn wpm.getProductDetailsFormattedForEvent(productId)\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.getMainProductIdFromProductPage = () => {\n\n\t\ttry {\n\t\t\tif ([\"simple\", \"variable\", \"grouped\", \"composite\", \"bundle\"].indexOf(wpmDataLayer.shop.product_type) >= 0) {\n\t\t\t\treturn jQuery(\".wpmProductId:first\").data(\"id\")\n\t\t\t} else {\n\t\t\t\treturn false\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.viewItemListTriggerTestMode = target => {\n\n\t\tjQuery(target).css({\"position\": \"relative\"})\n\t\tjQuery(target).append(\"<div id=\\\"viewItemListTriggerOverlay\\\"></div>\")\n\t\tjQuery(target).find(\"#viewItemListTriggerOverlay\").css({\n\t\t\t\"z-index\"         : \"10\",\n\t\t\t\"display\"         : \"block\",\n\t\t\t\"position\"        : \"absolute\",\n\t\t\t\"height\"          : \"100%\",\n\t\t\t\"top\"             : \"0\",\n\t\t\t\"left\"            : \"0\",\n\t\t\t\"right\"           : \"0\",\n\t\t\t\"opacity\"         : wpmDataLayer.viewItemListTrigger.opacity,\n\t\t\t\"background-color\": wpmDataLayer.viewItemListTrigger.backgroundColor,\n\t\t})\n\t}\n\n\twpm.getSearchTermFromUrl = () => {\n\n\t\ttry {\n\t\t\tlet urlParameters = new URLSearchParams(window.location.search)\n\t\t\treturn urlParameters.get(\"s\")\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\t// we need this to track timeouts for intersection observers\n\tlet ioTimeouts = {}\n\n\twpm.observerCallback = (entries, observer) => {\n\n\t\tentries.forEach((entry) => {\n\n\t\t\ttry {\n\t\t\t\tlet productId\n\n\t\t\t\tlet elementId = jQuery(entry.target).data(\"ioid\")\n\n\t\t\t\t// Get the productId from next element, if wpmProductId is a sibling, like in Gutenberg blocks\n\t\t\t\t// otherwise go search in children, like in regular WC loop items\n\t\t\t\tif (jQuery(entry.target).next(\".wpmProductId\").length) {\n\t\t\t\t\t// console.log('test 1');\n\t\t\t\t\tproductId = jQuery(entry.target).next(\".wpmProductId\").data(\"id\")\n\t\t\t\t} else {\n\t\t\t\t\tproductId = jQuery(entry.target).find(\".wpmProductId\").data(\"id\")\n\t\t\t\t}\n\n\n\t\t\t\tif (!productId) throw Error(\"wpmProductId element not found\")\n\n\t\t\t\tif (entry.isIntersecting) {\n\n\t\t\t\t\tioTimeouts[elementId] = setTimeout(() => {\n\n\t\t\t\t\t\twpm.triggerViewItemList(productId)\n\t\t\t\t\t\tif (wpmDataLayer.viewItemListTrigger.testMode) wpm.viewItemListTriggerTestMode(entry.target)\n\t\t\t\t\t\tif (wpmDataLayer.viewItemListTrigger.repeat === false) observer.unobserve(entry.target)\n\t\t\t\t\t}, wpmDataLayer.viewItemListTrigger.timeout)\n\n\t\t\t\t} else {\n\n\t\t\t\t\tclearTimeout(ioTimeouts[elementId])\n\t\t\t\t\tif (wpmDataLayer.viewItemListTrigger.testMode) jQuery(entry.target).find(\"#viewItemListTriggerOverlay\").remove()\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e)\n\t\t\t}\n\t\t})\n\t}\n\n\t// fire view_item_list only on products that have become visible\n\tlet io\n\tlet ioid = 0\n\tlet allIoElementsToWatch\n\n\tlet getAllElementsToWatch = () => {\n\n\t\tallIoElementsToWatch = jQuery(\".wpmProductId\")\n\t\t\t.map(function (i, elem) {\n\n\t\t\t\tif (\n\t\t\t\t\tjQuery(elem).parent().hasClass(\"type-product\") ||\n\t\t\t\t\tjQuery(elem).parent().hasClass(\"product\") ||\n\t\t\t\t\tjQuery(elem).parent().hasClass(\"product-item-inner\")\n\t\t\t\t) {\n\t\t\t\t\treturn jQuery(elem).parent()\n\t\t\t\t} else if (\n\t\t\t\t\tjQuery(elem).prev().hasClass(\"wc-block-grid__product\") ||\n\t\t\t\t\tjQuery(elem).prev().hasClass(\"product\") ||\n\t\t\t\t\tjQuery(elem).prev().hasClass(\"product-small\") ||\n\t\t\t\t\tjQuery(elem).prev().hasClass(\"woocommerce-LoopProduct-link\")\n\t\t\t\t) {\n\t\t\t\t\treturn jQuery(this).prev()\n\t\t\t\t} else if (jQuery(elem).closest(\".product\").length) {\n\t\t\t\t\treturn jQuery(elem).closest(\".product\")\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\twpm.startIntersectionObserverToWatch = () => {\n\n\t\ttry {\n\t\t\t// enable view_item_list test mode from browser\n\t\t\tif (wpm.urlHasParameter(\"vildemomode\")) wpmDataLayer.viewItemListTrigger.testMode = true\n\n\t\t\t// set up intersection observer\n\t\t\tio = new IntersectionObserver(wpm.observerCallback, {\n\t\t\t\tthreshold: wpmDataLayer.viewItemListTrigger.threshold,\n\t\t\t})\n\n\t\t\tgetAllElementsToWatch()\n\n\t\t\tallIoElementsToWatch.each((i, elem) => {\n\n\t\t\t\tjQuery(elem[0]).data(\"ioid\", ioid++)\n\n\t\t\t\tio.observe(elem[0])\n\t\t\t})\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\t// watch DOM for new lazy loaded products and add them to the intersection observer\n\twpm.startProductsMutationObserverToWatch = () => {\n\n\t\ttry {\n\t\t\t// Pass in the target node, as well as the observer options\n\n\t\t\t// selects the most common parent node\n\t\t\t// https://stackoverflow.com/a/7648323/4688612\n\t\t\tlet productsNode = jQuery(\".wpmProductId:eq(0)\").parents().has(jQuery(\".wpmProductId:eq(1)\").parents()).first()\n\n\t\t\tif (productsNode.length) {\n\t\t\t\tproductsMutationObserver.observe(productsNode[0], {\n\t\t\t\t\tattributes   : true,\n\t\t\t\t\tchildList    : true,\n\t\t\t\t\tcharacterData: true,\n\t\t\t\t})\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\t// Create an observer instance\n\tlet productsMutationObserver = new MutationObserver(mutations => {\n\n\t\tmutations.forEach(mutation => {\n\t\t\tlet newNodes = mutation.addedNodes // DOM NodeList\n\t\t\tif (newNodes !== null) { // If there are new nodes added\n\t\t\t\tlet nodes = jQuery(newNodes) // jQuery set\n\t\t\t\tnodes.each(function () {\n\t\t\t\t\tif (\n\t\t\t\t\t\tjQuery(this).hasClass(\"type-product\") ||\n\t\t\t\t\t\tjQuery(this).hasClass(\"product-small\") ||\n\t\t\t\t\t\tjQuery(this).hasClass(\"wc-block-grid__product\")\n\t\t\t\t\t) {\n\t\t\t\t\t\t// check if the node has a child or sibling wpmProductId\n\t\t\t\t\t\t// if yes add it to the intersectionObserver\n\t\t\t\t\t\tif (hasWpmProductIdElement(this)) {\n\t\t\t\t\t\t\tjQuery(this).data(\"ioid\", ioid++)\n\t\t\t\t\t\t\tio.observe(this)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t})\n\n\tlet hasWpmProductIdElement = elem =>\n\t\t!!(jQuery(elem).find(\".wpmProductId\").length ||\n\t\t\tjQuery(elem).siblings(\".wpmProductId\").length)\n\n\twpm.setCookie = (cookieName, cookieValue = \"\", expiryDays = null) => {\n\n\t\tif (expiryDays) {\n\n\t\t\tlet d = new Date()\n\t\t\td.setTime(d.getTime() + (expiryDays * 24 * 60 * 60 * 1000))\n\t\t\tlet expires     = \"expires=\" + d.toUTCString()\n\t\t\tdocument.cookie = cookieName + \"=\" + cookieValue + \";\" + expires + \";path=/\"\n\t\t} else {\n\t\t\tdocument.cookie = cookieName + \"=\" + cookieValue + \";path=/\"\n\t\t}\n\t}\n\n\twpm.getCookie = cookieName => {\n\n\t\tlet name          = cookieName + \"=\"\n\t\tlet decodedCookie = decodeURIComponent(document.cookie)\n\t\tlet ca            = decodedCookie.split(\";\")\n\n\t\tfor (let i = 0; i < ca.length; i++) {\n\n\t\t\tlet c = ca[i]\n\n\t\t\twhile (c.charAt(0) == \" \") {\n\t\t\t\tc = c.substring(1)\n\t\t\t}\n\n\t\t\tif (c.indexOf(name) == 0) {\n\t\t\t\treturn c.substring(name.length, c.length)\n\t\t\t}\n\t\t}\n\n\t\treturn \"\"\n\t}\n\n\twpm.deleteCookie = cookieName => {\n\t\twpm.setCookie(cookieName, \"\", -1)\n\t}\n\n\twpm.getWpmSessionData = () => {\n\n\t\tif (window.sessionStorage) {\n\n\t\t\tlet data = window.sessionStorage.getItem(\"_wpm\")\n\n\t\t\tif (data !== null) {\n\t\t\t\treturn JSON.parse(data)\n\t\t\t} else {\n\t\t\t\treturn {}\n\t\t\t}\n\t\t} else {\n\t\t\treturn {}\n\t\t}\n\t}\n\n\twpm.setWpmSessionData = data => {\n\t\tif (window.sessionStorage) {\n\t\t\twindow.sessionStorage.setItem(\"_wpm\", JSON.stringify(data))\n\t\t}\n\t}\n\n\twpm.storeOrderIdOnServer = async (orderKey, source) => {\n\n\t\ttry {\n\n\t\t\tlet response\n\n\t\t\tif (await wpm.isRestEndpointAvailable()) {\n\n\t\t\t\tresponse = await fetch(wpm.root + \"pmw/v1/pixels-fired/\", {\n\t\t\t\t\tmethod   : \"POST\",\n\t\t\t\t\theaders  : {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t\"X-WP-Nonce\"  : wpm.nonce_wp_rest,\n\t\t\t\t\t},\n\t\t\t\t\tbody     : JSON.stringify({\n\t\t\t\t\t\t// order_id: orderId,\n\t\t\t\t\t\torder_key: orderKey,\n\t\t\t\t\t\tsource   : source,\n\t\t\t\t\t\t// nonce   : wpm.pmw_nonce,\n\t\t\t\t\t}),\n\t\t\t\t\tkeepalive: true,\n\t\t\t\t\tcache    : \"no-cache\",\n\t\t\t\t})\n\n\t\t\t} else {\n\t\t\t\t// save the state in the database\n\n\t\t\t\t// Send the data object with ajax request\n\t\t\t\t// and log success or error using fetch API and url encoded\n\t\t\t\tresponse = await fetch(wpm.ajax_url, {\n\t\t\t\t\tmethod   : \"POST\",\n\t\t\t\t\tbody     : new URLSearchParams({\n\t\t\t\t\t\taction: \"pmw_purchase_pixels_fired\",\n\t\t\t\t\t\t// order_id: orderId,\n\t\t\t\t\t\torder_key : orderKey,\n\t\t\t\t\t\tsource    : source,\n\t\t\t\t\t\tnonce_ajax: wpm.nonce_ajax,\n\t\t\t\t\t}),\n\t\t\t\t\tkeepalive: true,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst responseJson = await response.json()\n\n\t\t\tif (responseJson.success) {\n\t\t\t\tconsole.log(\"wpm.storeOrderIdOnServer success\")\n\t\t\t} else {\n\t\t\t\tconsole.error(\"wpm.storeOrderIdOnServer error\", responseJson)\n\t\t\t}\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.getProductIdByCartItemKeyUrl = url => {\n\n\t\tlet searchParams = new URLSearchParams(url.search)\n\t\tlet cartItemKey  = searchParams.get(\"remove_item\")\n\n\t\tlet productId\n\n\t\tif (wpmDataLayer.cartItemKeys[cartItemKey][\"variation_id\"] === 0) {\n\t\t\tproductId = wpmDataLayer.cartItemKeys[cartItemKey][\"product_id\"]\n\t\t} else {\n\t\t\tproductId = wpmDataLayer.cartItemKeys[cartItemKey][\"variation_id\"]\n\t\t}\n\n\t\treturn productId\n\t}\n\n\twpm.getAddToCartLinkProductIds = () =>\n\t\tjQuery(\"a\").map(function () {\n\t\t\tlet href = jQuery(this).attr(\"href\")\n\n\t\t\tif (href && href.includes(\"?add-to-cart=\")) {\n\t\t\t\tlet matches = href.match(/(add-to-cart=)(\\d+)/)\n\t\t\t\tif (matches) return matches[2]\n\t\t\t}\n\t\t}).get()\n\n\twpm.getProductDetailsFormattedForEvent = (productId, quantity = 1) => {\n\n\t\tlet product = {\n\t\t\tid           : productId.toString(),\n\t\t\tdyn_r_ids    : wpmDataLayer.products[productId].dyn_r_ids,\n\t\t\tname         : wpmDataLayer.products[productId].name,\n\t\t\tlist_name    : wpmDataLayer.shop.list_name,\n\t\t\tbrand        : wpmDataLayer.products[productId].brand,\n\t\t\tcategory     : wpmDataLayer.products[productId].category,\n\t\t\tvariant      : wpmDataLayer.products[productId].variant,\n\t\t\tlist_position: wpmDataLayer.products[productId].position,\n\t\t\tquantity     : quantity,\n\t\t\tprice        : wpmDataLayer.products[productId].price,\n\t\t\tcurrency     : wpmDataLayer.shop.currency,\n\t\t\tisVariable   : wpmDataLayer.products[productId].isVariable,\n\t\t\tisVariation  : wpmDataLayer.products[productId].isVariation,\n\t\t\tparentId     : wpmDataLayer.products[productId].parentId,\n\t\t}\n\n\t\tif (product.isVariation) product[\"parentId_dyn_r_ids\"] = wpmDataLayer.products[productId].parentId_dyn_r_ids\n\n\t\treturn product\n\t}\n\n\twpm.setReferrerToCookie = () => {\n\n\t\t// can't use session storage as we can't read it from the server\n\t\tif (!wpm.getCookie(\"wpmReferrer\")) {\n\t\t\twpm.setCookie(\"wpmReferrer\", document.referrer)\n\t\t}\n\t}\n\n\twpm.getReferrerFromCookie = () => {\n\n\t\tif (wpm.getCookie(\"wpmReferrer\")) {\n\t\t\treturn wpm.getCookie(\"wpmReferrer\")\n\t\t} else {\n\t\t\treturn null\n\t\t}\n\t}\n\n\twpm.getClidFromBrowser = (clidId = \"gclid\") => {\n\n\t\tlet clidCookieId\n\n\t\tclidCookieId = {\n\t\t\tgclid: \"_gcl_aw\",\n\t\t\tdclid: \"_gcl_dc\",\n\t\t}\n\n\t\tif (wpm.getCookie(clidCookieId[clidId])) {\n\n\t\t\tlet clidCookie = wpm.getCookie(clidCookieId[clidId])\n\t\t\tlet matches    = clidCookie.match(/(GCL.[\\d]*.)(.*)/)\n\t\t\treturn matches[2]\n\t\t} else {\n\t\t\treturn \"\"\n\t\t}\n\t}\n\n\twpm.getUserAgent = () => navigator.userAgent\n\n\twpm.getViewPort = () => ({\n\t\twidth : Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0),\n\t\theight: Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0),\n\t})\n\n\n\twpm.version = () => {\n\t\tconsole.log(wpmDataLayer.version)\n\t}\n\n\t/**\n\t * https://api.jquery.com/jquery.getscript/\n\t *\n\t * Switched back to jQuery.ajax as the fetch method on some sites returned a type error\n\t * Possible reasons are:\n\t *    * CORS mismatch\n\t *    * The user is using an ad blocker\n\t */\n\n\twpm.loadScriptAndCacheIt = url => {\n\n\t\t// Get and load the script using fetch API, if possible from cache, and return it without using eval\n\t\t// return fetch(url, {\n\t\t// \tmethod   : \"GET\",\n\t\t// \tcache    : \"default\",\n\t\t// \tkeepalive: true,\n\t\t// })\n\t\t// \t.then(response => {\n\t\t// \t\tif (response.ok) {\n\t\t// \t\t\t// console.log(\"response\", response)\n\t\t// \t\t\treturn response.text()\n\t\t// \t\t\t// console.log(\"wpm.loadScriptAndCacheIt success: \" + url)\n\t\t// \t\t} else {\n\t\t// \t\t\tthrow new Error(\"Network response was not ok: \" + url)\n\t\t// \t\t}\n\t\t// \t})\n\t\t// \t.then(script => {\n\t\t// \t\t// Execute the script\n\t\t// \t\t// console.error(\"executing script: \" + script)\n\t\t// \t\teval(script)\n\t\t// \t\t// console.log(\"executed script: \" + script)\n\t\t// \t})\n\t\t// \t.catch(e => {\n\t\t// \t\tconsole.error(e)\n\t\t// \t})\n\n\t\tlet options = {\n\t\t\tdataType: \"script\",\n\t\t\tcache   : true,\n\t\t\turl     : url,\n\t\t}\n\n\t\treturn jQuery.ajax(options)\n\t}\n\n\twpm.getOrderItemPrice = orderItem => (orderItem.total + orderItem.total_tax) / orderItem.quantity\n\n\twpm.hasLoginEventFired = () => {\n\t\tlet data = wpm.getWpmSessionData()\n\t\treturn data?.loginEventFired\n\t}\n\n\twpm.setLoginEventFired = () => {\n\t\tlet data                = wpm.getWpmSessionData()\n\t\tdata[\"loginEventFired\"] = true\n\t\twpm.setWpmSessionData(data)\n\t}\n\n\twpm.pageLoaded = async () => new Promise(resolve => {\n\t\t(function waitForVar() {\n\t\t\tif (\"complete\" === document.readyState) return resolve()\n\t\t\tsetTimeout(waitForVar, 50)\n\t\t})()\n\t})\n\n\twpm.pageReady = () => {\n\t\treturn new Promise(resolve => {\n\t\t\t(function waitForVar() {\n\t\t\t\tif (\"interactive\" === document.readyState || \"complete\" === document.readyState) return resolve()\n\t\t\t\tsetTimeout(waitForVar, 50)\n\t\t\t})()\n\t\t})\n\t}\n\n\twpm.isMiniCartActive = () => {\n\t\tif (window.sessionStorage) {\n\t\t\tObject.keys(window.sessionStorage).forEach(key => {\n\t\t\t\tif (key.includes(\"wc_fragments\")) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn false\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n\n\twpm.doesWooCommerceCartExist = () => document.cookie.includes(\"woocommerce_items_in_cart\")\n\n\twpm.urlHasParameter = parameter => {\n\t\tlet urlParams = new URLSearchParams(window.location.search)\n\t\treturn urlParams.has(parameter)\n\t}\n\n\t// https://stackoverflow.com/a/60606893/4688612\n\twpm.hashAsync = (algo, str) => {\n\t\treturn crypto.subtle.digest(algo, new TextEncoder(\"utf-8\").encode(str)).then(buf => {\n\t\t\treturn Array.prototype.map.call(new Uint8Array(buf), x => ((\"00\" + x.toString(16)).slice(-2))).join(\"\")\n\t\t})\n\t}\n\n\twpm.getCartValue = () => {\n\n\t\tlet value = 0\n\n\t\tif (wpmDataLayer?.cart) {\n\n\t\t\tfor (const key in wpmDataLayer.cart) {\n\t\t\t\t// content_ids.push(wpmDataLayer.products[key].dyn_r_ids[wpmDataLayer.pixels.facebook.dynamic_remarketing.id_type])\n\n\t\t\t\tlet product = wpmDataLayer.cart[key]\n\n\t\t\t\tvalue += product.quantity * product.price\n\t\t\t}\n\t\t}\n\n\t\treturn value\n\t}\n\n\t/**\n\t * Detect if the current URL contains at least one pattern\n\t *\n\t * @param patterns\n\t * @returns {boolean}\n\t */\n\twpm.doesUrlContainPatterns = patterns => {\n\n\t\tfor (const pattern of patterns) {\n\t\t\tif (new RegExp(pattern).test(window.location.href)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\n\t\treturn false\n\t}\n\n\t/**\n\t * Detect if the current URL contains at least one pattern that is on the tracking exclusion list\n\t *\n\t * https://www.linkedin.com/pulse/how-remove-google-robot-problem-via-gtm-facebook-pixel-hjelpdahl/\n\t * https://www.youtube.com/watch?v=b4I1ePZt8Z0\n\t *\n\t * @returns {boolean}\n\t */\n\twpm.excludeDomainFromTracking = () => {\n\n\t\tlet excludeDomains = [\n\t\t\t\"appspot.com\",\n\t\t\t\"translate.google.com\",\n\t\t]\n\n\t\tif (wpmDataLayer?.general?.excludeDomains) {\n\t\t\texcludeDomains = [...excludeDomains, ...wpmDataLayer.general.excludeDomains]\n\t\t}\n\n\t\t// Abort if URL contains excluded domains\n\t\tif (excludeDomains.some(domain => window.location.href.includes(domain))) {\n\t\t\tconsole.debug(\"Pixel Manager for WooCommerce: Aborted due to excluded domain\")\n\t\t\treturn true\n\t\t}\n\n\t\treturn false\n\t}\n\n\twpm.getRandomEventId = () => (Math.random() + 1).toString(36).substring(2)\n\n\n\twpm.pmwConsoleMessage = () => {\n\t\tlet pmwConsoleMessage = \"Pixel Manager for WooCommerce: \"\n\t\tpmwConsoleMessage += wpmDataLayer.version.pro ? \"pro\" : \"free\"\n\t\tpmwConsoleMessage += \" | distro: \" + wpmDataLayer.version.distro\n\t\tif (wpmDataLayer.version.distro === \"fms\" && wpmDataLayer.version.pro) {\n\t\t\tpmwConsoleMessage += \" | active license: \" + (wpmDataLayer.version.eligibleForUpdates ? \"yes\" : \"no\")\n\t\t}\n\t\tpmwConsoleMessage += \" | version: \" + wpmDataLayer.version.number\n\n\t\tconsole.log(pmwConsoleMessage)\n\t}\n\n\twpm.canLoadPremiumFeatures = () => {\n\t\treturn (wpmDataLayer.version.distro === \"fms\" && wpmDataLayer.version.pro && wpmDataLayer.version.eligibleForUpdates) || wpmDataLayer.version.distro === \"wcm\"\n\t}\n\n\tlet jQueryReadyFired = false\n\n\twpm.triggerDomReadyEvent = () => {\n\t\tif (jQueryReadyFired === false) jQuery(document).trigger(\"pmw:ready\")\n\t\tjQueryReadyFired = true\n\t}\n\n\tjQuery(document).on(\"ready\", () => {\n\t\twpm.triggerDomReadyEvent()\n\t})\n\n\tdocument.addEventListener(\"DOMContentLoaded\", () => {\n\t\twpm.triggerDomReadyEvent()\n\t})\n\n\n}(window.wpm = window.wpm || {}, jQuery))\n","/**\n * Load all WPM functions\n *\n * Ignore event listeners. They need to be loaded after\n * we made sure that jQuery has been loaded.\n */\n\nrequire(\"./functions\")\nrequire(\"./cookie_consent\")\nrequire(\"./ip_check\")\n\n// #if process.env.TIER === 'premium'\nif (wpm.canLoadPremiumFeatures()) {\n\trequire(\"./functions_premium\")\n}\n// #endif\n","(function (wpm, $, undefined) {\n\n\twpm.jQueryExists = async () => new Promise(resolve => {\n\n\t\t(function waitForjQuery() {\n\t\t\tif (typeof jQuery !== \"undefined\") return resolve()\n\t\t\tsetTimeout(waitForjQuery, 100)\n\t\t})()\n\t})\n\n\twpm.wpmDataLayerExists = async () => new Promise(resolve => {\n\t\t(function waitForVar() {\n\t\t\tif (typeof wpmDataLayer !== \"undefined\") return resolve()\n\t\t\tsetTimeout(waitForVar, 50)\n\t\t})()\n\t})\n\n\twpm.wpHooksExists = async () => new Promise(resolve => {\n\t\t(function waitForVar() {\n\n\t\t\t// Resolve if wp.hooks is defined\n\t\t\tif (typeof wp !== \"undefined\" && typeof wp.hooks !== \"undefined\") return resolve()\n\t\t\tsetTimeout(waitForVar, 50)\n\t\t})()\n\t})\n\n\t/**\n\t * Load all WooCommerce hooks functions\n\t *\n\t * Includes safeguard in case the user changed the default load order for wp-hooks, or removed it completely.\n\t *\n\t * @returns {Promise<void>}\n\t */\n\twpm.loadWcHooksFunctions = async () => {\n\t\t// Load all WooCommerce Blocks hooks\n\t\tawait wpm.wpHooksExists()\n\t\trequire(\"./wc_hooks\")\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery))\n","(function (wpm, $, undefined) {\n\n\twpm.sendEventPayloadToServer = async payload => {\n\n\t\tconst isServerToServerEnabled = () => {\n\n\t\t\tif (wpmDataLayer?.general?.server2server?.active) return true\n\n\t\t\treturn false\n\t\t}\n\n\t\tconst isServerToServerDisabled = () => {\n\t\t\treturn !isServerToServerEnabled()\n\t\t}\n\n\t\tconst sendPayloadUsingFetch = payload => {\n\n\t\t\t// Send data to pmw public API with fetch API\n\t\t\tfetch(wpm.root + \"pmw/v1/sse/\", {\n\t\t\t\tmethod     : \"POST\",\n\t\t\t\tcredentials: \"same-origin\",\n\t\t\t\theaders    : {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody       : JSON.stringify(payload),\n\t\t\t\tkeepalive  : true,\t// keep connection alive until request is finished\n\t\t\t})\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(message => {\n\t\t\t\t\tif (!message.success) {\n\t\t\t\t\t\tconsole.error(message)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.error(error)\n\t\t\t\t})\n\n\t\t}\n\n\t\tconst sendPayloadUsingNavigatorSendBeacon = data => {\n\t\t\t// https://css-tricks.com/send-an-http-request-on-page-exit/\n\t\t\tnavigator.sendBeacon(wpm.root + \"pmw/v1/sse/\", data)\n\t\t}\n\n\t\ttry {\n\t\t\t// If server to server is disabled, do not send payload\n\t\t\tif (isServerToServerDisabled()) return\n\n\t\t\t// If IP is blacklisted, do not send data\n\t\t\tif(await wpm.ipCheck() === false) return\n\n\t\t\tif (await wpm.isRestEndpointAvailable()) { // Send data using REST API\n\n\t\t\t\tconst blob = new Blob([JSON.stringify(payload)], {type: \"application/json; charset=UTF-8\"})\n\n\t\t\t\t// navigator.sendBeacon has a limit of 64kb. Fall back to fetch if the blob is too large.\n\t\t\t\tif (blob.size < 60000) {\n\t\t\t\t\tsendPayloadUsingNavigatorSendBeacon(blob)\n\t\t\t\t} else {\n\t\t\t\t\tsendPayloadUsingFetch(payload)\n\t\t\t\t}\n\t\t\t} else { // Send data using wp-ajax\n\n\t\t\t\tjQuery.ajax(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype    : \"post\",\n\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\turl     : wpm.ajax_url,\n\t\t\t\t\t\tdata    : {\n\t\t\t\t\t\t\taction: \"pmw_server_to_server_event\",\n\t\t\t\t\t\t\tdata  : payload,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess : message => {\n\t\t\t\t\t\t\t// console.log(message)\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror   : message => {\n\t\t\t\t\t\t\tconsole.error(message)\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t}\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\t}\n\n\twpm.acrRemoveCookie = () => {\n\n\t\t// Delete the pmw_checkout_order_created cookie\n\t\t// This cookie is used to verify that the purchase confirmation page has been reached\n\n\t\twpm.deleteCookie(\"pmw_automatic_conversion_recovery\")\n\t}\n\n\twpm.getAcrOrderDetails = async () => {\n\n\t\t// Get the order details from the pmw_automatic_conversion_recovery cookie\n\t\tconst acrOrderDetails = JSON.parse(wpm.getCookie(\"pmw_automatic_conversion_recovery\"))\n\n\t\tlet response\n\n\t\t// Get order details from the server using the REST API if the REST API is available\n\t\tif (await wpm.isRestEndpointAvailable()) {\n\t\t\tresponse = await fetch(wpm.root + \"pmw/v1/acr/order/\", {\n\t\t\t\tmethod     : \"POST\",\n\t\t\t\tcredentials: \"same-origin\",\n\t\t\t\tcache      : \"no-cache\",\n\t\t\t\theaders    : {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody       : JSON.stringify({\n\t\t\t\t\torder_id : acrOrderDetails.order_id,\n\t\t\t\t\torder_key: acrOrderDetails.order_key,\n\t\t\t\t}),\n\t\t\t})\n\n\t\t} else {\n\t\t\t// Get order details from the server using the wp-ajax API if the REST API is not available using jQuery\n\t\t\tresponse = await jQuery.ajax({\n\t\t\t\ttype    : \"POST\",\n\t\t\t\tdataType: \"json\",\n\t\t\t\turl     : wpm.ajax_url,\n\t\t\t\tdata    : {\n\t\t\t\t\taction: \"get_acr_order_data_ajax\",\n\t\t\t\t\tdata  : {\n\t\t\t\t\t\torder_id : acrOrderDetails.order_id,\n\t\t\t\t\t\torder_key: acrOrderDetails.order_key,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t})\n\n\t\t}\n\n\t\tconst responseJson = await response.json()\n\n\t\tif (responseJson.success) {\n\t\t\tconsole.log(\"ACR order details retrieved successfully\")\n\t\t} else {\n\t\t\tconsole.error(\"ACR order details could not be retrieved\", responseJson)\n\t\t}\n\n\t\twpmDataLayer.products = {...wpmDataLayer.products, ...responseJson.data.products}\n\t\twpmDataLayer.order    = responseJson.data.order\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery))\n","/**\n * IP Check\n */\n\n(function (wpm, $, undefined) {\n\n\twpm.ipCheck = async () => {\n\n\t\tif (window.sessionStorage && sessionStorage.getItem(\"pmw_ip_valid\")) {\n\t\t\treturn !!JSON.parse(sessionStorage.getItem(\"pmw_ip_valid\"))\n\t\t}\n\n\t\t// Cloudflare takes approx. 70ms to respond\n\t\tconst response = await fetch(\"https://www.cloudflare.com/cdn-cgi/trace\")\n\t\tlet data       = await response.text()\n\n\t\t// Convert key-value pairs to JSON\n\t\t// https://stackoverflow.com/a/39284735/452587\n\t\tdata = data\n\t\t\t.trim()\n\t\t\t.split(\"\\n\")\n\t\t\t.reduce((obj, pair) => {\n\t\t\t\tpair = pair.split(\"=\")\n\t\t\t\treturn obj[pair[0]] = pair[1], obj\n\t\t\t}, {})\n\n\t\tif (isOnBlacklist(data.ip)) {\n\t\t\tif (window.sessionStorage) window.sessionStorage.setItem(\"pmw_ip_valid\", JSON.stringify(false))\n\t\t\treturn false\n\t\t}\n\n\t\tif (window.sessionStorage) window.sessionStorage.setItem(\"pmw_ip_valid\", JSON.stringify(true))\n\t\treturn true\n\t}\n\n\tconst isOnBlacklist = ip => {\n\n\t\tconst {isInSubnet} = require(\"is-in-subnet\")\n\n\t\tfor (const ipName of getBlacklist()) {\n\n\t\t\tif (isCidr(ipName)) {\n\t\t\t\ttry {\n\t\t\t\t\tif (isInSubnet(ip, ipName)) return true\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (ip === ipName) return true\n\t\t\t}\n\t\t}\n\n\t\treturn false\n\t}\n\n\tconst isCidr = ipName => {\n\n\t\tconst {isRange} = require(\"range_check\")\n\n\t\treturn isRange(ipName)\n\t}\n\n\tconst getBlacklist = () => {\n\n\t\tconst blacklist = [\n\t\t\t// \"91.190.12.52/32\", // for testing\n\t\t\t// \"91.190.12.52\", // for testing\n\t\t]\n\n\t\tconst google = [\n\t\t\t\"2001:4860:4801:10::/64\",\n\t\t\t\"2001:4860:4801:11::/64\",\n\t\t\t\"2001:4860:4801:12::/64\",\n\t\t\t\"2001:4860:4801:13::/64\",\n\t\t\t\"2001:4860:4801:14::/64\",\n\t\t\t\"2001:4860:4801:15::/64\",\n\t\t\t\"2001:4860:4801:16::/64\",\n\t\t\t\"2001:4860:4801:17::/64\",\n\t\t\t\"2001:4860:4801:18::/64\",\n\t\t\t\"2001:4860:4801:19::/64\",\n\t\t\t\"2001:4860:4801:1a::/64\",\n\t\t\t\"2001:4860:4801:1b::/64\",\n\t\t\t\"2001:4860:4801:20::/64\",\n\t\t\t\"2001:4860:4801:21::/64\",\n\t\t\t\"2001:4860:4801:22::/64\",\n\t\t\t\"2001:4860:4801:23::/64\",\n\t\t\t\"2001:4860:4801:24::/64\",\n\t\t\t\"2001:4860:4801:25::/64\",\n\t\t\t\"2001:4860:4801:26::/64\",\n\t\t\t\"2001:4860:4801:27::/64\",\n\t\t\t\"2001:4860:4801:28::/64\",\n\t\t\t\"2001:4860:4801:29::/64\",\n\t\t\t\"2001:4860:4801:2::/64\",\n\t\t\t\"2001:4860:4801:2a::/64\",\n\t\t\t\"2001:4860:4801:2b::/64\",\n\t\t\t\"2001:4860:4801:2c::/64\",\n\t\t\t\"2001:4860:4801:2d::/64\",\n\t\t\t\"2001:4860:4801:2e::/64\",\n\t\t\t\"2001:4860:4801:2f::/64\",\n\t\t\t\"2001:4860:4801:30::/64\",\n\t\t\t\"2001:4860:4801:31::/64\",\n\t\t\t\"2001:4860:4801:32::/64\",\n\t\t\t\"2001:4860:4801:33::/64\",\n\t\t\t\"2001:4860:4801:34::/64\",\n\t\t\t\"2001:4860:4801:35::/64\",\n\t\t\t\"2001:4860:4801:36::/64\",\n\t\t\t\"2001:4860:4801:37::/64\",\n\t\t\t\"2001:4860:4801:38::/64\",\n\t\t\t\"2001:4860:4801:39::/64\",\n\t\t\t\"2001:4860:4801:3::/64\",\n\t\t\t\"2001:4860:4801:3a::/64\",\n\t\t\t\"2001:4860:4801:3b::/64\",\n\t\t\t\"2001:4860:4801:3c::/64\",\n\t\t\t\"2001:4860:4801:3d::/64\",\n\t\t\t\"2001:4860:4801:3e::/64\",\n\t\t\t\"2001:4860:4801:40::/64\",\n\t\t\t\"2001:4860:4801:41::/64\",\n\t\t\t\"2001:4860:4801:42::/64\",\n\t\t\t\"2001:4860:4801:43::/64\",\n\t\t\t\"2001:4860:4801:44::/64\",\n\t\t\t\"2001:4860:4801:45::/64\",\n\t\t\t\"2001:4860:4801:46::/64\",\n\t\t\t\"2001:4860:4801:47::/64\",\n\t\t\t\"2001:4860:4801:48::/64\",\n\t\t\t\"2001:4860:4801:49::/64\",\n\t\t\t\"2001:4860:4801:4a::/64\",\n\t\t\t\"2001:4860:4801:50::/64\",\n\t\t\t\"2001:4860:4801:51::/64\",\n\t\t\t\"2001:4860:4801:53::/64\",\n\t\t\t\"2001:4860:4801:60::/64\",\n\t\t\t\"2001:4860:4801:61::/64\",\n\t\t\t\"2001:4860:4801:62::/64\",\n\t\t\t\"2001:4860:4801:63::/64\",\n\t\t\t\"2001:4860:4801:64::/64\",\n\t\t\t\"2001:4860:4801:65::/64\",\n\t\t\t\"2001:4860:4801:66::/64\",\n\t\t\t\"2001:4860:4801:67::/64\",\n\t\t\t\"2001:4860:4801:68::/64\",\n\t\t\t\"2001:4860:4801:69::/64\",\n\t\t\t\"2001:4860:4801:6a::/64\",\n\t\t\t\"2001:4860:4801:6b::/64\",\n\t\t\t\"2001:4860:4801:6c::/64\",\n\t\t\t\"2001:4860:4801:6d::/64\",\n\t\t\t\"2001:4860:4801:6e::/64\",\n\t\t\t\"2001:4860:4801:6f::/64\",\n\t\t\t\"2001:4860:4801:70::/64\",\n\t\t\t\"2001:4860:4801:71::/64\",\n\t\t\t\"2001:4860:4801:72::/64\",\n\t\t\t\"2001:4860:4801:73::/64\",\n\t\t\t\"2001:4860:4801:74::/64\",\n\t\t\t\"2001:4860:4801:75::/64\",\n\t\t\t\"2001:4860:4801:76::/64\",\n\t\t\t\"2001:4860:4801:77::/64\",\n\t\t\t\"2001:4860:4801:80::/64\",\n\t\t\t\"2001:4860:4801:81::/64\",\n\t\t\t\"2001:4860:4801:82::/64\",\n\t\t\t\"2001:4860:4801:83::/64\",\n\t\t\t\"2001:4860:4801:84::/64\",\n\t\t\t\"2001:4860:4801:85::/64\",\n\t\t\t\"2001:4860:4801:86::/64\",\n\t\t\t\"2001:4860:4801:90::/64\",\n\t\t\t\"2001:4860:4801:91::/64\",\n\t\t\t\"2001:4860:4801:92::/64\",\n\t\t\t\"2001:4860:4801::/64\",\n\t\t\t\"2001:4860:4801:c::/64\",\n\t\t\t\"2001:4860:4801:f::/64\",\n\t\t\t\"34.100.182.96/28\",\n\t\t\t\"34.101.50.144/28\",\n\t\t\t\"34.118.254.0/28\",\n\t\t\t\"34.118.66.0/28\",\n\t\t\t\"34.126.178.96/28\",\n\t\t\t\"34.146.150.144/28\",\n\t\t\t\"34.147.110.144/28\",\n\t\t\t\"34.151.74.144/28\",\n\t\t\t\"34.152.50.64/28\",\n\t\t\t\"34.154.114.144/28\",\n\t\t\t\"34.155.98.32/28\",\n\t\t\t\"34.165.18.176/28\",\n\t\t\t\"34.175.160.64/28\",\n\t\t\t\"34.176.130.16/28\",\n\t\t\t\"34.64.82.64/28\",\n\t\t\t\"34.65.242.112/28\",\n\t\t\t\"34.80.50.80/28\",\n\t\t\t\"34.88.194.0/28\",\n\t\t\t\"34.89.10.80/28\",\n\t\t\t\"34.89.198.80/28\",\n\t\t\t\"34.96.162.48/28\",\n\t\t\t\"35.247.243.240/28\",\n\t\t\t\"66.249.64.0/27\",\n\t\t\t\"66.249.64.128/27\",\n\t\t\t\"66.249.64.160/27\",\n\t\t\t\"66.249.64.192/27\",\n\t\t\t\"66.249.64.224/27\",\n\t\t\t\"66.249.64.32/27\",\n\t\t\t\"66.249.64.64/27\",\n\t\t\t\"66.249.64.96/27\",\n\t\t\t\"66.249.65.0/27\",\n\t\t\t\"66.249.65.128/27\",\n\t\t\t\"66.249.65.160/27\",\n\t\t\t\"66.249.65.192/27\",\n\t\t\t\"66.249.65.224/27\",\n\t\t\t\"66.249.65.32/27\",\n\t\t\t\"66.249.65.64/27\",\n\t\t\t\"66.249.65.96/27\",\n\t\t\t\"66.249.66.0/27\",\n\t\t\t\"66.249.66.128/27\",\n\t\t\t\"66.249.66.192/27\",\n\t\t\t\"66.249.66.32/27\",\n\t\t\t\"66.249.66.64/27\",\n\t\t\t\"66.249.68.0/27\",\n\t\t\t\"66.249.68.32/27\",\n\t\t\t\"66.249.68.64/27\",\n\t\t\t\"66.249.69.0/27\",\n\t\t\t\"66.249.69.128/27\",\n\t\t\t\"66.249.69.160/27\",\n\t\t\t\"66.249.69.192/27\",\n\t\t\t\"66.249.69.224/27\",\n\t\t\t\"66.249.69.32/27\",\n\t\t\t\"66.249.69.64/27\",\n\t\t\t\"66.249.69.96/27\",\n\t\t\t\"66.249.70.0/27\",\n\t\t\t\"66.249.70.128/27\",\n\t\t\t\"66.249.70.160/27\",\n\t\t\t\"66.249.70.192/27\",\n\t\t\t\"66.249.70.224/27\",\n\t\t\t\"66.249.70.32/27\",\n\t\t\t\"66.249.70.64/27\",\n\t\t\t\"66.249.70.96/27\",\n\t\t\t\"66.249.71.0/27\",\n\t\t\t\"66.249.71.128/27\",\n\t\t\t\"66.249.71.160/27\",\n\t\t\t\"66.249.71.192/27\",\n\t\t\t\"66.249.71.32/27\",\n\t\t\t\"66.249.71.64/27\",\n\t\t\t\"66.249.71.96/27\",\n\t\t\t\"66.249.72.0/27\",\n\t\t\t\"66.249.72.128/27\",\n\t\t\t\"66.249.72.160/27\",\n\t\t\t\"66.249.72.192/27\",\n\t\t\t\"66.249.72.224/27\",\n\t\t\t\"66.249.72.32/27\",\n\t\t\t\"66.249.72.64/27\",\n\t\t\t\"66.249.72.96/27\",\n\t\t\t\"66.249.73.0/27\",\n\t\t\t\"66.249.73.128/27\",\n\t\t\t\"66.249.73.160/27\",\n\t\t\t\"66.249.73.192/27\",\n\t\t\t\"66.249.73.224/27\",\n\t\t\t\"66.249.73.32/27\",\n\t\t\t\"66.249.73.64/27\",\n\t\t\t\"66.249.73.96/27\",\n\t\t\t\"66.249.74.0/27\",\n\t\t\t\"66.249.74.32/27\",\n\t\t\t\"66.249.74.64/27\",\n\t\t\t\"66.249.74.96/27\",\n\t\t\t\"66.249.75.0/27\",\n\t\t\t\"66.249.75.128/27\",\n\t\t\t\"66.249.75.160/27\",\n\t\t\t\"66.249.75.192/27\",\n\t\t\t\"66.249.75.224/27\",\n\t\t\t\"66.249.75.32/27\",\n\t\t\t\"66.249.75.64/27\",\n\t\t\t\"66.249.75.96/27\",\n\t\t\t\"66.249.76.0/27\",\n\t\t\t\"66.249.76.128/27\",\n\t\t\t\"66.249.76.160/27\",\n\t\t\t\"66.249.76.192/27\",\n\t\t\t\"66.249.76.224/27\",\n\t\t\t\"66.249.76.32/27\",\n\t\t\t\"66.249.76.64/27\",\n\t\t\t\"66.249.76.96/27\",\n\t\t\t\"66.249.77.0/27\",\n\t\t\t\"66.249.77.128/27\",\n\t\t\t\"66.249.77.32/27\",\n\t\t\t\"66.249.77.64/27\",\n\t\t\t\"66.249.77.96/27\",\n\t\t\t\"66.249.79.0/27\",\n\t\t\t\"66.249.79.128/27\",\n\t\t\t\"66.249.79.160/27\",\n\t\t\t\"66.249.79.192/27\",\n\t\t\t\"66.249.79.224/27\",\n\t\t\t\"66.249.79.32/27\",\n\t\t\t\"66.249.79.64/27\",\n\t\t\t\"66.249.79.96/27\",\n\t\t]\n\n\t\tconst facebook = [\n\t\t\t\"69.63.176.0/20\",\n\t\t\t\"66.220.144.0/20\",\n\t\t\t\"66.220.144.0/21\",\n\t\t\t\"69.63.184.0/21\",\n\t\t\t\"69.63.176.0/21\",\n\t\t\t\"74.119.76.0/22\",\n\t\t\t\"69.171.255.0/24\",\n\t\t\t\"173.252.64.0/18\",\n\t\t\t\"69.171.224.0/19\",\n\t\t\t\"69.171.224.0/20\",\n\t\t\t\"103.4.96.0/22\",\n\t\t\t\"173.252.64.0/19\",\n\t\t\t\"31.13.64.0/18\",\n\t\t\t\"31.13.24.0/21\",\n\t\t\t\"66.220.152.0/21\",\n\t\t\t\"69.171.239.0/24\",\n\t\t\t\"69.171.240.0/20\",\n\t\t\t\"31.13.64.0/19\",\n\t\t\t\"31.13.64.0/24\",\n\t\t\t\"31.13.65.0/24\",\n\t\t\t\"31.13.67.0/24\",\n\t\t\t\"31.13.68.0/24\",\n\t\t\t\"31.13.69.0/24\",\n\t\t\t\"31.13.70.0/24\",\n\t\t\t\"31.13.71.0/24\",\n\t\t\t\"31.13.72.0/24\",\n\t\t\t\"31.13.73.0/24\",\n\t\t\t\"31.13.74.0/24\",\n\t\t\t\"31.13.75.0/24\",\n\t\t\t\"31.13.76.0/24\",\n\t\t\t\"31.13.77.0/24\",\n\t\t\t\"31.13.96.0/19\",\n\t\t\t\"31.13.66.0/24\",\n\t\t\t\"173.252.96.0/19\",\n\t\t\t\"69.63.178.0/24\",\n\t\t\t\"31.13.78.0/24\",\n\t\t\t\"31.13.79.0/24\",\n\t\t\t\"31.13.80.0/24\",\n\t\t\t\"31.13.82.0/24\",\n\t\t\t\"31.13.83.0/24\",\n\t\t\t\"31.13.84.0/24\",\n\t\t\t\"31.13.85.0/24\",\n\t\t\t\"31.13.86.0/24\",\n\t\t\t\"31.13.87.0/24\",\n\t\t\t\"31.13.88.0/24\",\n\t\t\t\"31.13.89.0/24\",\n\t\t\t\"31.13.91.0/24\",\n\t\t\t\"31.13.92.0/24\",\n\t\t\t\"31.13.93.0/24\",\n\t\t\t\"31.13.94.0/24\",\n\t\t\t\"31.13.95.0/24\",\n\t\t\t\"31.13.81.0/24\",\n\t\t\t\"179.60.192.0/22\",\n\t\t\t\"179.60.192.0/24\",\n\t\t\t\"179.60.193.0/24\",\n\t\t\t\"179.60.194.0/24\",\n\t\t\t\"179.60.195.0/24\",\n\t\t\t\"185.60.216.0/22\",\n\t\t\t\"45.64.40.0/22\",\n\t\t\t\"185.60.216.0/24\",\n\t\t\t\"185.60.217.0/24\",\n\t\t\t\"185.60.218.0/24\",\n\t\t\t\"185.60.219.0/24\",\n\t\t\t\"129.134.0.0/16\",\n\t\t\t\"157.240.0.0/16\",\n\t\t\t\"157.240.8.0/24\",\n\t\t\t\"157.240.0.0/24\",\n\t\t\t\"157.240.1.0/24\",\n\t\t\t\"157.240.2.0/24\",\n\t\t\t\"157.240.3.0/24\",\n\t\t\t\"157.240.5.0/24\",\n\t\t\t\"157.240.6.0/24\",\n\t\t\t\"157.240.7.0/24\",\n\t\t\t\"157.240.9.0/24\",\n\t\t\t\"157.240.10.0/24\",\n\t\t\t\"157.240.16.0/24\",\n\t\t\t\"157.240.19.0/24\",\n\t\t\t\"157.240.11.0/24\",\n\t\t\t\"157.240.12.0/24\",\n\t\t\t\"157.240.13.0/24\",\n\t\t\t\"157.240.14.0/24\",\n\t\t\t\"157.240.15.0/24\",\n\t\t\t\"157.240.17.0/24\",\n\t\t\t\"157.240.18.0/24\",\n\t\t\t\"157.240.20.0/24\",\n\t\t\t\"157.240.21.0/24\",\n\t\t\t\"157.240.22.0/24\",\n\t\t\t\"157.240.23.0/24\",\n\t\t\t\"157.240.0.0/17\",\n\t\t\t\"69.171.250.0/24\",\n\t\t\t\"204.15.20.0/22\",\n\t\t\t\"157.240.192.0/24\",\n\t\t\t\"157.240.198.0/24\",\n\t\t\t\"102.132.96.0/20\",\n\t\t\t\"102.132.96.0/24\",\n\t\t\t\"102.132.97.0/24\",\n\t\t\t\"157.240.26.0/24\",\n\t\t\t\"157.240.27.0/24\",\n\t\t\t\"157.240.28.0/24\",\n\t\t\t\"157.240.29.0/24\",\n\t\t\t\"157.240.30.0/24\",\n\t\t\t\"129.134.28.0/24\",\n\t\t\t\"129.134.29.0/24\",\n\t\t\t\"157.240.208.0/24\",\n\t\t\t\"157.240.193.0/24\",\n\t\t\t\"157.240.194.0/24\",\n\t\t\t\"157.240.195.0/24\",\n\t\t\t\"157.240.197.0/24\",\n\t\t\t\"157.240.196.0/24\",\n\t\t\t\"157.240.200.0/24\",\n\t\t\t\"157.240.201.0/24\",\n\t\t\t\"157.240.203.0/24\",\n\t\t\t\"157.240.204.0/24\",\n\t\t\t\"157.240.205.0/24\",\n\t\t\t\"157.240.206.0/24\",\n\t\t\t\"157.240.207.0/24\",\n\t\t\t\"157.240.209.0/24\",\n\t\t\t\"157.240.210.0/24\",\n\t\t\t\"157.240.211.0/24\",\n\t\t\t\"157.240.212.0/24\",\n\t\t\t\"157.240.213.0/24\",\n\t\t\t\"157.240.214.0/24\",\n\t\t\t\"157.240.215.0/24\",\n\t\t\t\"157.240.216.0/24\",\n\t\t\t\"157.240.222.0/24\",\n\t\t\t\"129.134.30.0/24\",\n\t\t\t\"129.134.31.0/24\",\n\t\t\t\"129.134.30.0/23\",\n\t\t\t\"129.134.25.0/24\",\n\t\t\t\"129.134.26.0/24\",\n\t\t\t\"129.134.27.0/24\",\n\t\t\t\"102.132.99.0/24\",\n\t\t\t\"102.132.101.0/24\",\n\t\t\t\"129.134.64.0/24\",\n\t\t\t\"129.134.65.0/24\",\n\t\t\t\"129.134.66.0/24\",\n\t\t\t\"129.134.67.0/24\",\n\t\t\t\"157.240.219.0/24\",\n\t\t\t\"157.240.217.0/24\",\n\t\t\t\"157.240.218.0/24\",\n\t\t\t\"157.240.199.0/24\",\n\t\t\t\"129.134.127.0/24\",\n\t\t\t\"157.240.223.0/24\",\n\t\t\t\"157.240.192.0/18\",\n\t\t\t\"157.240.221.0/24\",\n\t\t\t\"157.240.220.0/24\",\n\t\t\t\"173.252.88.0/21\",\n\t\t\t\"129.134.68.0/24\",\n\t\t\t\"129.134.69.0/24\",\n\t\t\t\"129.134.70.0/24\",\n\t\t\t\"157.240.24.0/24\",\n\t\t\t\"157.240.25.0/24\",\n\t\t\t\"102.132.100.0/24\",\n\t\t\t\"157.240.31.0/24\",\n\t\t\t\"157.240.224.0/24\",\n\t\t\t\"129.134.71.0/24\",\n\t\t\t\"157.240.225.0/24\",\n\t\t\t\"157.240.226.0/24\",\n\t\t\t\"157.240.227.0/24\",\n\t\t\t\"129.134.0.0/17\",\n\t\t\t\"129.134.72.0/24\",\n\t\t\t\"129.134.73.0/24\",\n\t\t\t\"129.134.74.0/24\",\n\t\t\t\"185.89.218.0/24\",\n\t\t\t\"185.89.219.0/24\",\n\t\t\t\"185.89.218.0/23\",\n\t\t\t\"157.240.228.0/24\",\n\t\t\t\"157.240.229.0/24\",\n\t\t\t\"129.134.76.0/24\",\n\t\t\t\"129.134.75.0/24\",\n\t\t\t\"157.240.239.0/24\",\n\t\t\t\"157.240.240.0/24\",\n\t\t\t\"157.240.241.0/24\",\n\t\t\t\"157.240.231.0/24\",\n\t\t\t\"157.240.232.0/24\",\n\t\t\t\"157.240.233.0/24\",\n\t\t\t\"157.240.234.0/24\",\n\t\t\t\"157.240.235.0/24\",\n\t\t\t\"157.240.236.0/24\",\n\t\t\t\"129.134.77.0/24\",\n\t\t\t\"129.134.78.0/24\",\n\t\t\t\"129.134.79.0/24\",\n\t\t\t\"157.240.237.0/24\",\n\t\t\t\"157.240.238.0/24\",\n\t\t\t\"157.240.242.0/24\",\n\t\t\t\"157.240.243.0/24\",\n\t\t\t\"129.134.112.0/24\",\n\t\t\t\"157.240.100.0/24\",\n\t\t\t\"157.240.98.0/24\",\n\t\t\t\"157.240.96.0/24\",\n\t\t\t\"157.240.99.0/24\",\n\t\t\t\"157.240.101.0/24\",\n\t\t\t\"129.134.113.0/24\",\n\t\t\t\"129.134.114.0/24\",\n\t\t\t\"157.240.97.0/24\",\n\t\t\t\"129.134.115.0/24\",\n\t\t\t\"157.240.244.0/24\",\n\t\t\t\"157.240.245.0/24\",\n\t\t\t\"157.240.246.0/24\",\n\t\t\t\"157.240.247.0/24\",\n\t\t\t\"157.240.248.0/24\",\n\t\t\t\"157.240.249.0/24\",\n\t\t\t\"157.240.250.0/24\",\n\t\t\t\"163.70.128.0/17\",\n\t\t\t\"163.77.128.0/17\",\n\t\t\t\"157.240.251.0/24\",\n\t\t\t\"157.240.252.0/24\",\n\t\t\t\"157.240.253.0/24\",\n\t\t\t\"147.75.208.0/20\",\n\t\t\t\"157.240.254.0/24\",\n\t\t\t\"185.89.219.0/24\",\n\t\t\t\"185.89.218.0/24\",\n\t\t\t\"185.89.218.0/23\",\n\t\t\t\"185.89.216.0/22\",\n\t\t\t\"147.75.208.0/20\",\n\t\t\t\"204.15.20.0/22\",\n\t\t\t\"69.63.176.0/20\",\n\t\t\t\"69.63.176.0/21\",\n\t\t\t\"69.63.184.0/21\",\n\t\t\t\"66.220.144.0/20\",\n\t\t\t\"69.63.176.0/20\",\n\t\t\t\"2620:0:1c00::/40\",\n\t\t\t\"2a03:2880::/32\",\n\t\t\t\"2a03:2880:fffe::/48\",\n\t\t\t\"2a03:2880:ffff::/48\",\n\t\t\t\"2620:0:1cff::/48\",\n\t\t\t\"2a03:2880:f001::/48\",\n\t\t\t\"2a03:2880:f003::/48\",\n\t\t\t\"2a03:2880:f004::/48\",\n\t\t\t\"2a03:2880:f005::/48\",\n\t\t\t\"2a03:2880:f006::/48\",\n\t\t\t\"2a03:2880:f007::/48\",\n\t\t\t\"2a03:2880:f008::/48\",\n\t\t\t\"2a03:2880:f00a::/48\",\n\t\t\t\"2a03:2880:f00c::/48\",\n\t\t\t\"2a03:2880:f00d::/48\",\n\t\t\t\"2a03:2880:f00e::/48\",\n\t\t\t\"2a03:2880:f00f::/48\",\n\t\t\t\"2a03:2880:f010::/48\",\n\t\t\t\"2a03:2880:f011::/48\",\n\t\t\t\"2a03:2880:f012::/48\",\n\t\t\t\"2a03:2880:f013::/48\",\n\t\t\t\"2a03:2880:f016::/48\",\n\t\t\t\"2a03:2880:f017::/48\",\n\t\t\t\"2a03:2880:f019::/48\",\n\t\t\t\"2a03:2880:f01b::/48\",\n\t\t\t\"2a03:2880:f01c::/48\",\n\t\t\t\"2a03:2880:f01f::/48\",\n\t\t\t\"2a03:2880:1000::/36\",\n\t\t\t\"2a03:2880:2000::/36\",\n\t\t\t\"2a03:2880:3000::/36\",\n\t\t\t\"2a03:2880:4000::/36\",\n\t\t\t\"2a03:2880:5000::/36\",\n\t\t\t\"2a03:2880:6000::/36\",\n\t\t\t\"2a03:2880:7000::/36\",\n\t\t\t\"2a03:2880:f021::/48\",\n\t\t\t\"2a03:2880:f023::/48\",\n\t\t\t\"2a03:2880:f024::/48\",\n\t\t\t\"2a03:2880:f027::/48\",\n\t\t\t\"2a03:2880:f028::/48\",\n\t\t\t\"2a03:2880:f029::/48\",\n\t\t\t\"2a03:2880:f02b::/48\",\n\t\t\t\"2a03:2880:f02c::/48\",\n\t\t\t\"2a03:2880:f02d::/48\",\n\t\t\t\"2a03:2880:f02e::/48\",\n\t\t\t\"2a03:2880:f02f::/48\",\n\t\t\t\"2a03:2880:f030::/48\",\n\t\t\t\"2a03:2880:f031::/48\",\n\t\t\t\"2a03:2880:f032::/48\",\n\t\t\t\"2a03:2880:f033::/48\",\n\t\t\t\"2a03:2880:f034::/48\",\n\t\t\t\"2a03:2880:f035::/48\",\n\t\t\t\"2a03:2880:f036::/48\",\n\t\t\t\"2a03:2880:f037::/48\",\n\t\t\t\"2a03:2880:f038::/48\",\n\t\t\t\"2a03:2880:f03a::/48\",\n\t\t\t\"2a03:2880:f03b::/48\",\n\t\t\t\"2a03:2880:f03d::/48\",\n\t\t\t\"2a03:2880:f03e::/48\",\n\t\t\t\"2a03:2880:f03f::/48\",\n\t\t\t\"2401:db00::/32\",\n\t\t\t\"2a03:2880::/36\",\n\t\t\t\"2a03:2880:f101::/48\",\n\t\t\t\"2a03:2880:f201::/48\",\n\t\t\t\"2a03:2880:f103::/48\",\n\t\t\t\"2a03:2880:f203::/48\",\n\t\t\t\"2a03:2880:f104::/48\",\n\t\t\t\"2a03:2880:f204::/48\",\n\t\t\t\"2a03:2880:f107::/48\",\n\t\t\t\"2a03:2880:f207::/48\",\n\t\t\t\"2a03:2880:f108::/48\",\n\t\t\t\"2a03:2880:f208::/48\",\n\t\t\t\"2a03:2880:f10a::/48\",\n\t\t\t\"2a03:2880:f20a::/48\",\n\t\t\t\"2a03:2880:f10d::/48\",\n\t\t\t\"2a03:2880:f20d::/48\",\n\t\t\t\"2a03:2880:f10e::/48\",\n\t\t\t\"2a03:2880:f20e::/48\",\n\t\t\t\"2a03:2880:f10f::/48\",\n\t\t\t\"2a03:2880:f20f::/48\",\n\t\t\t\"2a03:2880:f110::/48\",\n\t\t\t\"2a03:2880:f210::/48\",\n\t\t\t\"2a03:2880:f111::/48\",\n\t\t\t\"2a03:2880:f211::/48\",\n\t\t\t\"2a03:2880:f112::/48\",\n\t\t\t\"2a03:2880:f212::/48\",\n\t\t\t\"2a03:2880:f116::/48\",\n\t\t\t\"2a03:2880:f216::/48\",\n\t\t\t\"2a03:2880:f117::/48\",\n\t\t\t\"2a03:2880:f217::/48\",\n\t\t\t\"2a03:2880:f119::/48\",\n\t\t\t\"2a03:2880:f219::/48\",\n\t\t\t\"2a03:2880:f11f::/48\",\n\t\t\t\"2a03:2880:f21f::/48\",\n\t\t\t\"2a03:2880:f121::/48\",\n\t\t\t\"2a03:2880:f221::/48\",\n\t\t\t\"2a03:2880:f123::/48\",\n\t\t\t\"2a03:2880:f223::/48\",\n\t\t\t\"2a03:2880:f10c::/48\",\n\t\t\t\"2a03:2880:f20c::/48\",\n\t\t\t\"2a03:2880:f105::/48\",\n\t\t\t\"2a03:2880:f205::/48\",\n\t\t\t\"2a03:2880:f106::/48\",\n\t\t\t\"2a03:2880:f206::/48\",\n\t\t\t\"2a03:2880:f11b::/48\",\n\t\t\t\"2a03:2880:f21b::/48\",\n\t\t\t\"2a03:2880:f113::/48\",\n\t\t\t\"2a03:2880:f213::/48\",\n\t\t\t\"2a03:2880:f11c::/48\",\n\t\t\t\"2a03:2880:f21c::/48\",\n\t\t\t\"2a03:2880:f128::/48\",\n\t\t\t\"2a03:2880:f228::/48\",\n\t\t\t\"2a03:2880:f02a::/48\",\n\t\t\t\"2a03:2880:f12a::/48\",\n\t\t\t\"2a03:2880:f22a::/48\",\n\t\t\t\"2a03:2880:f12f::/48\",\n\t\t\t\"2a03:2880:f22f::/48\",\n\t\t\t\"2a03:2880:f124::/48\",\n\t\t\t\"2a03:2880:f127::/48\",\n\t\t\t\"2a03:2880:f129::/48\",\n\t\t\t\"2a03:2880:f12b::/48\",\n\t\t\t\"2a03:2880:f12c::/48\",\n\t\t\t\"2a03:2880:f12d::/48\",\n\t\t\t\"2a03:2880:f12e::/48\",\n\t\t\t\"2a03:2880:f130::/48\",\n\t\t\t\"2a03:2880:f131::/48\",\n\t\t\t\"2a03:2880:f132::/48\",\n\t\t\t\"2a03:2880:f133::/48\",\n\t\t\t\"2a03:2880:f134::/48\",\n\t\t\t\"2a03:2880:f135::/48\",\n\t\t\t\"2a03:2880:f136::/48\",\n\t\t\t\"2a03:2880:f137::/48\",\n\t\t\t\"2a03:2880:f138::/48\",\n\t\t\t\"2a03:2880:f13a::/48\",\n\t\t\t\"2a03:2880:f13b::/48\",\n\t\t\t\"2a03:2880:f13d::/48\",\n\t\t\t\"2a03:2880:f13e::/48\",\n\t\t\t\"2a03:2880:f13f::/48\",\n\t\t\t\"2a03:2880:f224::/48\",\n\t\t\t\"2a03:2880:f227::/48\",\n\t\t\t\"2a03:2880:f229::/48\",\n\t\t\t\"2a03:2880:f22b::/48\",\n\t\t\t\"2a03:2880:f22c::/48\",\n\t\t\t\"2a03:2880:f22d::/48\",\n\t\t\t\"2a03:2880:f22e::/48\",\n\t\t\t\"2a03:2880:f230::/48\",\n\t\t\t\"2a03:2880:f231::/48\",\n\t\t\t\"2a03:2880:f232::/48\",\n\t\t\t\"2a03:2880:f233::/48\",\n\t\t\t\"2a03:2880:f234::/48\",\n\t\t\t\"2a03:2880:f235::/48\",\n\t\t\t\"2a03:2880:f236::/48\",\n\t\t\t\"2a03:2880:f237::/48\",\n\t\t\t\"2a03:2880:f238::/48\",\n\t\t\t\"2a03:2880:f23a::/48\",\n\t\t\t\"2a03:2880:f23b::/48\",\n\t\t\t\"2a03:2880:f23d::/48\",\n\t\t\t\"2a03:2880:f23e::/48\",\n\t\t\t\"2a03:2880:f23f::/48\",\n\t\t\t\"2a03:2880:f0ff::/48\",\n\t\t\t\"2a03:2880:f1ff::/48\",\n\t\t\t\"2a03:2880:f2ff::/48\",\n\t\t\t\"2a03:2880:f044::/48\",\n\t\t\t\"2a03:2880:f144::/48\",\n\t\t\t\"2a03:2880:f244::/48\",\n\t\t\t\"2a03:2880:f042::/48\",\n\t\t\t\"2a03:2880:f043::/48\",\n\t\t\t\"2a03:2880:f045::/48\",\n\t\t\t\"2a03:2880:f046::/48\",\n\t\t\t\"2a03:2880:f047::/48\",\n\t\t\t\"2a03:2880:f048::/48\",\n\t\t\t\"2a03:2880:f04a::/48\",\n\t\t\t\"2a03:2880:f04c::/48\",\n\t\t\t\"2a03:2880:f04b::/48\",\n\t\t\t\"2a03:2880:f04d::/48\",\n\t\t\t\"2a03:2880:f259::/48\",\n\t\t\t\"2a03:2880:f258::/48\",\n\t\t\t\"2a03:2880:f257::/48\",\n\t\t\t\"2a03:2880:f256::/48\",\n\t\t\t\"2a03:2880:f255::/48\",\n\t\t\t\"2a03:2880:f254::/48\",\n\t\t\t\"2a03:2880:f253::/48\",\n\t\t\t\"2a03:2880:f252::/48\",\n\t\t\t\"2a03:2880:f250::/48\",\n\t\t\t\"2a03:2880:f24f::/48\",\n\t\t\t\"2a03:2880:f24d::/48\",\n\t\t\t\"2a03:2880:f24e::/48\",\n\t\t\t\"2a03:2880:f24c::/48\",\n\t\t\t\"2a03:2880:f24b::/48\",\n\t\t\t\"2a03:2880:f24a::/48\",\n\t\t\t\"2a03:2880:f248::/48\",\n\t\t\t\"2a03:2880:f247::/48\",\n\t\t\t\"2a03:2880:f246::/48\",\n\t\t\t\"2a03:2880:f245::/48\",\n\t\t\t\"2a03:2880:f243::/48\",\n\t\t\t\"2a03:2880:f242::/48\",\n\t\t\t\"2a03:2880:f241::/48\",\n\t\t\t\"2a03:2880:f240::/48\",\n\t\t\t\"2a03:2880:f159::/48\",\n\t\t\t\"2a03:2880:f158::/48\",\n\t\t\t\"2a03:2880:f157::/48\",\n\t\t\t\"2a03:2880:f156::/48\",\n\t\t\t\"2a03:2880:f155::/48\",\n\t\t\t\"2a03:2880:f154::/48\",\n\t\t\t\"2a03:2880:f153::/48\",\n\t\t\t\"2a03:2880:f152::/48\",\n\t\t\t\"2a03:2880:f150::/48\",\n\t\t\t\"2a03:2880:f14f::/48\",\n\t\t\t\"2a03:2880:f14e::/48\",\n\t\t\t\"2a03:2880:f14d::/48\",\n\t\t\t\"2a03:2880:f14c::/48\",\n\t\t\t\"2a03:2880:f14b::/48\",\n\t\t\t\"2a03:2880:f14a::/48\",\n\t\t\t\"2a03:2880:f148::/48\",\n\t\t\t\"2a03:2880:f147::/48\",\n\t\t\t\"2a03:2880:f146::/48\",\n\t\t\t\"2a03:2880:f145::/48\",\n\t\t\t\"2a03:2880:f143::/48\",\n\t\t\t\"2a03:2880:f142::/48\",\n\t\t\t\"2a03:2880:f141::/48\",\n\t\t\t\"2a03:2880:f140::/48\",\n\t\t\t\"2a03:2880:f059::/48\",\n\t\t\t\"2a03:2880:f058::/48\",\n\t\t\t\"2a03:2880:f057::/48\",\n\t\t\t\"2a03:2880:f056::/48\",\n\t\t\t\"2a03:2880:f055::/48\",\n\t\t\t\"2a03:2880:f054::/48\",\n\t\t\t\"2a03:2880:f053::/48\",\n\t\t\t\"2a03:2880:f052::/48\",\n\t\t\t\"2a03:2880:f050::/48\",\n\t\t\t\"2a03:2880:f04f::/48\",\n\t\t\t\"2a03:2880:f04e::/48\",\n\t\t\t\"2a03:2880:ff0b::/48\",\n\t\t\t\"2a03:2880:ff0c::/48\",\n\t\t\t\"2a03:2880:f040::/48\",\n\t\t\t\"2a03:2880:f041::/48\",\n\t\t\t\"2a03:2880:f0fc::/48\",\n\t\t\t\"2a03:2880:f0fd::/48\",\n\t\t\t\"2a03:2880:f0fc::/47\",\n\t\t\t\"2a03:2880:f1fc::/48\",\n\t\t\t\"2a03:2880:f1fd::/48\",\n\t\t\t\"2a03:2880:f1fc::/47\",\n\t\t\t\"2a03:2880:ff08::/48\",\n\t\t\t\"2a03:2880:ff09::/48\",\n\t\t\t\"2a03:2880:ff0a::/48\",\n\t\t\t\"2a03:2880:f05e::/48\",\n\t\t\t\"2a03:2880:f15e::/48\",\n\t\t\t\"2a03:2880:f25e::/48\",\n\t\t\t\"2620:0:1cfa::/48\",\n\t\t\t\"2a03:2880:f05b::/48\",\n\t\t\t\"2a03:2880:f05a::/48\",\n\t\t\t\"2a03:2880:f25a::/48\",\n\t\t\t\"2a03:2880:f15c::/48\",\n\t\t\t\"2a03:2880:f000::/36\",\n\t\t\t\"2a03:2880:f05d::/48\",\n\t\t\t\"2a03:2880:f25c::/48\",\n\t\t\t\"2a03:2880:f05c::/48\",\n\t\t\t\"2a03:2880:f260::/48\",\n\t\t\t\"2a03:2880:f060::/48\",\n\t\t\t\"2a03:2880:f160::/48\",\n\t\t\t\"2a03:2880:f15d::/48\",\n\t\t\t\"2a03:2880:f25b::/48\",\n\t\t\t\"2a03:2880:f25d::/48\",\n\t\t\t\"2a03:2880:f15b::/48\",\n\t\t\t\"2a03:2880:f15a::/48\",\n\t\t\t\"2a03:2880:f161::/48\",\n\t\t\t\"2a03:2880:f061::/48\",\n\t\t\t\"2a03:2880:f261::/48\",\n\t\t\t\"2a03:2881::/32\",\n\t\t\t\"2a03:2881::/48\",\n\t\t\t\"2a03:2881:1::/48\",\n\t\t\t\"2a03:2881:2::/48\",\n\t\t\t\"2a03:2881:3::/48\",\n\t\t\t\"2a03:2880:f162::/48\",\n\t\t\t\"2a03:2880:f262::/48\",\n\t\t\t\"2a03:2881:4000::/48\",\n\t\t\t\"2a03:2881:4003::/48\",\n\t\t\t\"2a03:2881:4001::/48\",\n\t\t\t\"2a03:2881:4002::/48\",\n\t\t\t\"2a03:2880:f065::/48\",\n\t\t\t\"2a03:2880:f163::/48\",\n\t\t\t\"2a03:2880:f066::/48\",\n\t\t\t\"2a03:2880:f263::/48\",\n\t\t\t\"2a03:2880:f264::/48\",\n\t\t\t\"2a03:2880:f164::/48\",\n\t\t\t\"2a03:2880:f067::/48\",\n\t\t\t\"2a03:2880:f165::/48\",\n\t\t\t\"2a03:2880:f265::/48\",\n\t\t\t\"2a03:2880:f068::/48\",\n\t\t\t\"2a03:2881:4004::/48\",\n\t\t\t\"2a03:2880:f06a::/48\",\n\t\t\t\"2a03:2880:f266::/48\",\n\t\t\t\"2a03:2880:f166::/48\",\n\t\t\t\"2a03:2880:f267::/48\",\n\t\t\t\"2a03:2880:f06b::/48\",\n\t\t\t\"2a03:2880:f167::/48\",\n\t\t\t\"2a03:2881:4006::/48\",\n\t\t\t\"2a03:2881:7::/48\",\n\t\t\t\"2a03:2881:9::/48\",\n\t\t\t\"2a03:2881:8::/48\",\n\t\t\t\"2a03:2881:4::/48\",\n\t\t\t\"2a03:2881:6::/48\",\n\t\t\t\"2a03:2881:5::/48\",\n\t\t\t\"2a03:2881:a::/48\",\n\t\t\t\"2a03:2880:f268::/48\",\n\t\t\t\"2a03:2880:f06d::/48\",\n\t\t\t\"2a03:2880:f168::/48\",\n\t\t\t\"2a03:2881:b::/48\",\n\t\t\t\"2a03:2881:c::/48\",\n\t\t\t\"2a03:2881:4007::/48\",\n\t\t\t\"2a03:2880:f269::/48\",\n\t\t\t\"2a03:2880:f169::/48\",\n\t\t\t\"2a03:2880:f06f::/48\",\n\t\t\t\"2a03:2880:f26a::/48\",\n\t\t\t\"2a03:2880:f16a::/48\",\n\t\t\t\"2a03:2880:f070::/48\",\n\t\t\t\"2a03:2881:d::/48\",\n\t\t\t\"2a03:2881:e::/48\",\n\t\t\t\"2a03:2880:f071::/48\",\n\t\t\t\"2a03:2880:f16b::/48\",\n\t\t\t\"2a03:2880:f26b::/48\",\n\t\t\t\"2a03:2881:4008::/48\",\n\t\t\t\"2a03:2881:10::/48\",\n\t\t\t\"2a03:2881:f::/48\",\n\t\t\t\"2a03:2881:11::/48\",\n\t\t\t\"2a03:2880:f26c::/48\",\n\t\t\t\"2a03:2880:f16c::/48\",\n\t\t\t\"2a03:2880:f073::/48\",\n\t\t\t\"2a03:2880:f16d::/48\",\n\t\t\t\"2a03:2880:f074::/48\",\n\t\t\t\"2a03:2880:f26d::/48\",\n\t\t\t\"2a03:2881:4009::/48\",\n\t\t\t\"2a03:2880:f26e::/48\",\n\t\t\t\"2a03:2880:f16e::/48\",\n\t\t\t\"2a03:2880:f076::/48\",\n\t\t\t\"2a03:2880:f16f::/48\",\n\t\t\t\"2a03:2880:f26f::/48\",\n\t\t\t\"2a03:2880:f077::/48\",\n\t\t\t\"2a03:2881:12::/48\",\n\t\t\t\"2a03:2881:13::/48\",\n\t\t\t\"2a03:2881:17::/48\",\n\t\t\t\"2a03:2881:15::/48\",\n\t\t\t\"2a03:2881:18::/48\",\n\t\t\t\"2a03:2881:14::/48\",\n\t\t\t\"2a03:2881:16::/48\",\n\t\t\t\"2a03:2881:19::/48\",\n\t\t\t\"2a03:2881:4005::/48\",\n\t\t\t\"2a03:2880:f078::/48\",\n\t\t\t\"2a03:2880:f170::/48\",\n\t\t\t\"2a03:2880:f270::/48\",\n\t\t\t\"2a03:2881:400a::/48\",\n\t\t\t\"2a03:2881:400c::/48\",\n\t\t\t\"2a03:2881:400b::/48\",\n\t\t\t\"2a03:2881:400d::/48\",\n\t\t\t\"2a03:2881:1a::/48\",\n\t\t\t\"2a03:2881:1c::/48\",\n\t\t\t\"2a03:2881:1b::/48\",\n\t\t\t\"2a03:2880:f271::/48\",\n\t\t\t\"2a03:2880:f07d::/48\",\n\t\t\t\"2a03:2880:f171::/48\",\n\t\t\t\"2a03:2880:f07e::/48\",\n\t\t\t\"2a03:2880:f172::/48\",\n\t\t\t\"2a03:2880:f272::/48\",\n\t\t\t\"2a03:2880:f080::/48\",\n\t\t\t\"2a03:2880:f173::/48\",\n\t\t\t\"2a03:2880:f273::/48\",\n\t\t\t\"2a03:2880:f081::/48\",\n\t\t\t\"2a03:2880:f174::/48\",\n\t\t\t\"2a03:2880:f274::/48\",\n\t\t\t\"2a03:2880:f175::/48\",\n\t\t\t\"2a03:2880:f275::/48\",\n\t\t\t\"2a03:2880:f082::/48\",\n\t\t\t\"2a03:2880:f176::/48\",\n\t\t\t\"2a03:2880:f276::/48\",\n\t\t\t\"2a03:2880:f083::/48\",\n\t\t\t\"2a03:2880:f277::/48\",\n\t\t\t\"2a03:2880:f084::/48\",\n\t\t\t\"2a03:2880:f177::/48\",\n\t\t\t\"2a03:2881:1e::/48\",\n\t\t\t\"2a03:2880:f085::/48\",\n\t\t\t\"2a03:2880:f178::/48\",\n\t\t\t\"2a03:2880:f278::/48\",\n\t\t\t\"2a03:2880:f179::/48\",\n\t\t\t\"2a03:2880:f086::/48\",\n\t\t\t\"2a03:2880:f279::/48\",\n\t\t\t\"2a03:2880:f17a::/48\",\n\t\t\t\"2a03:2880:f08a::/48\",\n\t\t\t\"2a03:2880:f27a::/48\",\n\t\t\t\"2a03:2881:48::/45\",\n\t\t\t\"2a10:f781:10:cee0::/64\",\n\t\t\t\"2a03:83e0::/32\",\n\t\t]\n\n\t\tconst twitter = [\n\t\t\t\"199.16.156.0/22\",\n\t\t\t\"199.59.148.0/22\",\n\t\t\t\"192.133.76.0/22\",\n\t\t]\n\n\t\tconst bing = [\n\t\t\t\"157.55.39.0/24\",\n\t\t\t\"207.46.13.0/24\",\n\t\t\t\"40.77.167.0/24\",\n\t\t\t\"13.66.139.0/24\",\n\t\t\t\"13.66.144.0/24\",\n\t\t\t\"52.167.144.0/24\",\n\t\t\t\"13.67.10.16/28\",\n\t\t\t\"13.69.66.240/28\",\n\t\t\t\"13.71.172.224/28\",\n\t\t\t\"139.217.52.0/28\",\n\t\t\t\"191.233.204.224/28\",\n\t\t\t\"20.36.108.32/28\",\n\t\t\t\"20.43.120.16/28\",\n\t\t\t\"40.79.131.208/28\",\n\t\t\t\"40.79.186.176/28\",\n\t\t\t\"52.231.148.0/28\",\n\t\t\t\"20.79.107.240/28\",\n\t\t\t\"51.105.67.0/28\",\n\t\t\t\"20.125.163.80/28\",\n\t\t\t\"40.77.188.0/22\",\n\t\t\t\"65.55.210.0/24\",\n\t\t\t\"199.30.24.0/23\",\n\t\t\t\"40.77.202.0/24\",\n\t\t\t\"40.77.139.0/25\",\n\t\t\t\"20.74.197.0/28\",\n\t\t]\n\n\t\tconst pinterest = [\n\t\t\t\"54.236.1.1/32\",\n\t\t\t\"54.236.1.2/31\",\n\t\t\t\"54.236.1.4/30\",\n\t\t\t\"54.236.1.8/29\",\n\t\t\t\"54.236.1.16/28\",\n\t\t\t\"54.236.1.32/27\",\n\t\t\t\"54.236.1.64/26\",\n\t\t\t\"54.236.1.128/25\",\n\t\t]\n\n\t\tconst hotjar = [\n\t\t\t\"18.203.61.76\",\n\t\t\t\"18.203.176.135\",\n\t\t\t\"52.17.197.221\",\n\t\t]\n\n\t\tconst alexa = [\n\t\t\t\"204.236.235.245\",\n\t\t\t\"75.101.186.145\",\n\t\t]\n\n\t\tconst amazon = [\n\t\t\t\"18.207.141.103\",\n\t\t\t\"52.1.113.12\",\n\t\t]\n\n\t\tconst baidu = [\n\t\t\t\"180.76.15.0/24\",\n\t\t\t\"119.63.196.0/24\",\n\t\t\t\"115.239.212.0/24\",\n\t\t\t\"119.63.199.0/24\",\n\t\t\t\"122.81.208.0/22\",\n\t\t\t\"123.125.71.0/24\",\n\t\t\t\"180.76.4.0/24\",\n\t\t\t\"180.76.5.0/24\",\n\t\t\t\"180.76.6.0/24\",\n\t\t\t\"185.10.104.0/24\",\n\t\t\t\"220.181.108.0/24\",\n\t\t\t\"220.181.51.0/24\",\n\t\t\t\"111.13.102.0/24\",\n\t\t\t\"123.125.67.144/29\",\n\t\t\t\"123.125.67.152/31\",\n\t\t\t\"61.135.169.0/24\",\n\t\t\t\"123.125.68.68/30\",\n\t\t\t\"123.125.68.72/29\",\n\t\t\t\"123.125.68.80/28\",\n\t\t\t\"123.125.68.96/30\",\n\t\t\t\"202.46.48.0/20\",\n\t\t\t\"220.181.38.0/24\",\n\t\t\t\"123.125.68.80/30\",\n\t\t\t\"123.125.68.84/31\",\n\t\t\t\"123.125.68.0/24\",\n\t\t]\n\n\t\tconst duckduckgo = [\n\t\t\t\"20.191.45.212\",\n\t\t\t\"40.88.21.235\",\n\t\t\t\"40.76.173.151\",\n\t\t\t\"40.76.163.7\",\n\t\t\t\"20.185.79.47\",\n\t\t\t\"52.142.26.175\",\n\t\t\t\"20.185.79.15\",\n\t\t\t\"52.142.24.149\",\n\t\t\t\"40.76.162.208\",\n\t\t\t\"40.76.163.23\",\n\t\t\t\"40.76.162.191\",\n\t\t\t\"40.76.162.247\",\n\t\t]\n\n\t\tconst yahoo = [\n\t\t\t\"5.255.250.0/24\",\n\t\t\t\"37.9.87.0/24\",\n\t\t\t\"67.195.37.0/24\",\n\t\t\t\"67.195.50.0/24\",\n\t\t\t\"67.195.110.0/24\",\n\t\t\t\"67.195.111.0/24\",\n\t\t\t\"67.195.112.0/23\",\n\t\t\t\"67.195.114.0/24\",\n\t\t\t\"67.195.115.0/24\",\n\t\t\t\"68.180.224.0/21\",\n\t\t\t\"72.30.132.0/24\",\n\t\t\t\"72.30.142.0/24\",\n\t\t\t\"72.30.161.0/24\",\n\t\t\t\"72.30.196.0/24\",\n\t\t\t\"72.30.198.0/24\",\n\t\t\t\"74.6.254.0/24\",\n\t\t\t\"74.6.8.0/24\",\n\t\t\t\"74.6.13.0/24\",\n\t\t\t\"74.6.17.0/24\",\n\t\t\t\"74.6.18.0/24\",\n\t\t\t\"74.6.22.0/24\",\n\t\t\t\"74.6.27.0/24\",\n\t\t\t\"74.6.168.0/24\",\n\t\t\t\"77.88.5.0/24\",\n\t\t\t\"77.88.47.0/24\",\n\t\t\t\"93.158.161.0/24\",\n\t\t\t\"98.137.72.0/24\",\n\t\t\t\"98.137.206.0/24\",\n\t\t\t\"98.137.207.0/24\",\n\t\t\t\"98.139.168.0/24\",\n\t\t\t\"114.111.95.0/24\",\n\t\t\t\"124.83.159.0/24\",\n\t\t\t\"124.83.179.0/24\",\n\t\t\t\"124.83.223.0/24\",\n\t\t\t\"141.8.144.0/24\",\n\t\t\t\"183.79.63.0/24\",\n\t\t\t\"183.79.92.0/24\",\n\t\t\t\"203.216.255.0/24\",\n\t\t\t\"211.14.11.0/24\",\n\t\t]\n\n\t\tconst yandex = [\n\t\t\t\"100.43.90.0/24\",\n\t\t\t\"37.9.115.0/24\",\n\t\t\t\"37.140.165.0/24\",\n\t\t\t\"77.88.22.0/25\",\n\t\t\t\"77.88.29.0/24\",\n\t\t\t\"77.88.31.0/24\",\n\t\t\t\"77.88.59.0/24\",\n\t\t\t\"84.201.146.0/24\",\n\t\t\t\"84.201.148.0/24\",\n\t\t\t\"84.201.149.0/24\",\n\t\t\t\"87.250.243.0/24\",\n\t\t\t\"87.250.253.0/24\",\n\t\t\t\"93.158.147.0/24\",\n\t\t\t\"93.158.148.0/24\",\n\t\t\t\"93.158.151.0/24\",\n\t\t\t\"93.158.153.0/32\",\n\t\t\t\"95.108.128.0/24\",\n\t\t\t\"95.108.138.0/24\",\n\t\t\t\"95.108.150.0/23\",\n\t\t\t\"95.108.158.0/24\",\n\t\t\t\"95.108.156.0/24\",\n\t\t\t\"95.108.188.128/25\",\n\t\t\t\"95.108.234.0/24\",\n\t\t\t\"95.108.248.0/24\",\n\t\t\t\"100.43.80.0/24\",\n\t\t\t\"130.193.62.0/24\",\n\t\t\t\"141.8.153.0/24\",\n\t\t\t\"178.154.165.0/24\",\n\t\t\t\"178.154.166.128/25\",\n\t\t\t\"178.154.173.29\",\n\t\t\t\"178.154.200.158\",\n\t\t\t\"178.154.202.0/24\",\n\t\t\t\"178.154.205.0/24\",\n\t\t\t\"178.154.239.0/24\",\n\t\t\t\"178.154.243.0/24\",\n\t\t\t\"37.9.84.253\",\n\t\t\t\"199.21.99.99\",\n\t\t\t\"178.154.162.29\",\n\t\t\t\"178.154.203.251\",\n\t\t\t\"178.154.211.250\",\n\t\t\t\"178.154.171.0/24\",\n\t\t\t\"178.154.200.0/24\",\n\t\t\t\"178.154.244.0/24\",\n\t\t\t\"178.154.246.0/24\",\n\t\t\t\"95.108.181.0/24\",\n\t\t\t\"95.108.246.252\",\n\t\t\t\"5.45.254.0/24\",\n\t\t\t\"5.255.253.0/24\",\n\t\t\t\"37.140.141.0/24\",\n\t\t\t\"37.140.188.0/24\",\n\t\t\t\"100.43.81.0/24\",\n\t\t\t\"100.43.85.0/24\",\n\t\t\t\"100.43.91.0/24\",\n\t\t\t\"199.21.99.0/24\",\n\t\t\t\"2a02:6b8:b000::/32\",\n\t\t\t\"2a02:6b8:b010::/32\",\n\t\t\t\"2a02:6b8:b011::/32\",\n\t\t\t\"2a02:6b8:c0e::/32\",\n\t\t]\n\n\t\tconst sogou = [\n\t\t\t\"220.181.125.0/24\",\n\t\t\t\"123.126.51.64/27\",\n\t\t\t\"123.126.51.96/28\",\n\t\t\t\"123.126.68.25\",\n\t\t\t\"61.135.189.74\",\n\t\t\t\"61.135.189.75\",\n\t\t]\n\n\t\tconst youdao = [\n\t\t\t\"61.135.249.200/29\",\n\t\t\t\"61.135.249.208/28\",\n\t\t]\n\n\t\tlet customExclusionList  = []\n\n\t\t// if wpmDataLayer.general.server2server.ipExcludeList is array\n\t\tif (Array.isArray(wpmDataLayer.general.server2server.ipExcludeList)) {\n\t\t\tcustomExclusionList = wpmDataLayer.general.server2server.ipExcludeList\n\t\t}\n\n\t\treturn blacklist.concat(\n\t\t\tgoogle,\n\t\t\tfacebook,\n\t\t\ttwitter,\n\t\t\tbing,\n\t\t\tpinterest,\n\t\t\thotjar,\n\t\t\talexa,\n\t\t\tamazon,\n\t\t\tbaidu,\n\t\t\tduckduckgo,\n\t\t\tyahoo,\n\t\t\tyandex,\n\t\t\tsogou,\n\t\t\tyoudao,\n\t\t\tcustomExclusionList,\n\t\t)\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery))\n","/**\n * https://github.com/woocommerce/woocommerce-blocks/blob/trunk/src/BlockTypes/AbstractProductGrid.php#L108\n * https://github.com/woocommerce/woocommerce-blocks/issues/3483\n * https://github.com/woocommerce/woocommerce-blocks/issues/1714\n *\n * https://github.com/woocommerce/woocommerce-blocks/blob/trunk/docs/third-party-developers/extensibility/hooks/actions.md#woocommerce_add_to_cart\n *\n * experimental__woocommerce_blocks-product-list-render\n *\n * https://github.com/woocommerce/woocommerce-blocks/blob/a1a6eb2b574b7d39d19d67bafb747d38017289da/docs/internal-developers/blocks/feature-flags-and-experimental-interfaces.md/#usages-of-experimental-prefix\n */\n\n// TODO experimental__woocommerce_blocks-checkout-set-email-address\n// TODO experimental__woocommerce_blocks-product-view-link > selectItem\n// TODO maybe experimental__woocommerce_blocks-product-list-render, when product list is rendered send some list event\n// TODO maybe experimental__woocommerce_blocks-product-search, if the current event trigger doesn't work\n// TODO experimental__woocommerce_blocks-product-render > viewItem\n// TODO various events during entering checkout details, such as email, address, etc.\n// TODO find a way to keep view_item_list events working with the mutation observer\n\n// import {createHooks, addAction, doAction} from \"@wordpress/hooks\"\n// console.log(wp.hooks)\n// console.log(wp.hooks.applyFilters(\"ndx_change_string\", \"\"))\n\n/**\n * Add-to-cart button\n */\nwp.hooks.addAction(\n\t\"experimental__woocommerce_blocks-cart-add-item\",\n\t\"pixel-manager-for-woocommerce\",\n\tdata => {\n\t\t// console.log(\"experimental__woocommerce_blocks-cart-add-item\", data)\n\n\t\t// Works on the all product page\n\t\t// TODO make it work with variable quantities on product page\n\t\twpm.addProductToCart(data.product.id, 1)\n\t},\n)\n\n/**\n * Change cart quantity\n */\nwp.hooks.addAction(\n\t\"experimental__woocommerce_blocks-cart-set-item-quantity\",\n\t\"pixel-manager-for-woocommerce\",\n\tdata => {\n\t\t// console.log(\"experimental__woocommerce_blocks-cart-set-item-quantity\", data)\n\n\t\tif (data.quantity > data.product.quantity) {\n\t\t\twpm.addProductToCart(data.product.id, data.quantity - data.product.quantity)\n\t\t}\n\n\t\tif (data.quantity < data.product.quantity) {\n\t\t\twpm.removeProductFromCart(data.product.id, data.product.quantity - data.quantity)\n\t\t}\n\t},\n)\n\n/**\n * Remove from cart\n */\nwp.hooks.addAction(\n\t\"experimental__woocommerce_blocks-cart-remove-item\",\n\t\"pixel-manager-for-woocommerce\",\n\tdata => {\n\t\t// console.log(\"experimental__woocommerce_blocks-cart-remove-item\", data)\n\t\twpm.removeProductFromCart(data.product.id, data.quantity)\n\t},\n)\n\n/**\n * Checkout form submit\n */\nwp.hooks.addAction(\n\t\"experimental__woocommerce_blocks-checkout-submit\",\n\t\"pixel-manager-for-woocommerce\",\n\t() => {\n\t\t// console.log(\"experimental__woocommerce_blocks-checkout-submit\")\n\t\tjQuery(document).trigger(\"wpmPlaceOrder\", {})\n\t},\n)\n\n\n/**\n * Only outputs an object with products. No other data or actions.\n */\n// wp.hooks.addAction(\n// \t\"experimental__woocommerce_blocks-product-list-render\",\n// \t\"pixel-manager-for-woocommerce\",\n// \t(value) => {\n//\n// \t\tif (value.products.length > 0) {\n// \t\t\tconsole.log(\"hello world 1\")\n// \t\t\tconsole.log(value)\n//\n// \t\t\tjQuery(\".add_to_cart_button\").on(\"click\", function (event) {\n//\n// \t\t\t\tconsole.log(jQuery(event.target.parentElement.parentElement))\n//\n// \t\t\t\t// console.log(\"hello world 5\");\n// \t\t\t\t//\n// \t\t\t\t// console.log(jQuery(this.parentElement.parentElement));\n// \t\t\t\t//\n// \t\t\t\t// console.log(\"hello world 6\");\n// \t\t\t\t//\n// \t\t\t\t// // element is part of a React component.\n// \t\t\t\t// // Get the parent element.\n// \t\t\t\t// const pe = event.target.parentElement.parentElement\n// \t\t\t\t// console.log(jQuery(pe)._reactInternalFiber.key)\n// \t\t\t\t//\n// \t\t\t\t// // pe is a react component. Get the key of that component.\n// \t\t\t\t// const key = pe.getAttribute(\"data-key\")\n// \t\t\t\t// console.log(key)\n//\n//\n// \t\t\t\t// console.log(element.currentTarget.dataset.key)\n// \t\t\t})\n// \t\t}\n// \t\treturn value\n// \t},\n// )\n\n// jQuery(document).on(\"pmw:ready\", () => {\n// \tjQuery(\".add_to_cart_button\").on(\"click\", function (element) {\n//\n// \t\tconsole.log(\"hello world 3\")\n// \t\t// element is part of a React component.\n// \t\t// Get the key of that component.\n// \t\tconsole.log(element.currentTarget.dataset.key)\n// \t})\n// })\n\n// wp.hooks.addAction(\n// \t'woocommerce_add_to_cart',\n// \t'pixel-manager-for-woocommerce',\n// \t( cart_item_key, product_id, quantity, variation_id, variation, cart_item_data ) => {\n// \t\tconsole.log( cart_item_key, product_id, quantity, variation_id, variation, cart_item_data );\n// \t},\n// \t()=>{\n// \t\tconsole.log(\"hello world 2\")\n// \t}\n// )\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Run PMW main loader\n */\nconst main = async () => {\n\n\trequire(\"./wpm/functions_main\")\n\n\t// Wait until jQuery is loaded\n\tawait wpm.jQueryExists()\n\t// Wait until wpmDataLayer is loaded\n\tawait wpm.wpmDataLayerExists()\n\n\t// wait 1000ms\n\t// await new Promise(resolve => setTimeout(resolve, 1000))\n\n\t// Load all essential scripts first\n\trequire(\"./wpm/functions_loader\")\n\n\t// Load all event listeners that depend on document ready\n\tjQuery(document).on(\"pmw:ready\", () => {\n\t\trequire(\"./wpm/event_listeners_on_ready\")\n\t})\n\n\t// Load remaining event listeners\n\trequire(\"./wpm/event_listeners\")\n\n\twpm.loadWcHooksFunctions()\n\n\t// Output PMW console message\n\twpm.pmwConsoleMessage()\n\n\t// Check if domain is excluded from tracking\n\t// If so, return\n\tif (wpm.excludeDomainFromTracking()) return\n\n\t// Load free pixels\n\trequire(\"./google/loader\")\n\trequire(\"./facebook/loader\")\n\trequire(\"./hotjar/loader\")\n\n\t// #if process.env.TIER === 'premium'\n\t/**\n\t *  Load all premium scripts\n\t */\n\tif (wpm.canLoadPremiumFeatures()) {\n\t\trequire(\"./wpm/event_listeners_premium\")\n\t\trequire(\"./microsoft-ads/loader\")\n\t\trequire(\"./pinterest/loader\")\n\t\trequire(\"./snapchat/loader\")\n\t\trequire(\"./tiktok/loader\")\n\t\trequire(\"./twitter/loader\")\n\t}\n\t// #endif\n\n\t// Preload pixels\n\tdocument.dispatchEvent(new Event(\"wpmPreLoadPixels\"))\n\n\t// Trigger wpmLoad event\n\tdocument.dispatchEvent(new Event(\"wpmLoad\"))\n\n\t// Wait until page is loaded\n\tawait wpm.pageLoaded()\n\twpm.triggerDomReadyEvent()\n}\n\nmain()\n\n\n\n\n"],"names":["exports","isInSubnet","address","subnetOrSubnets","createChecker","Array","isArray","subnetsByVersion","reduce","acc","subnet","ip","split","util","isIP","push","length","Error","check4","IPv4","check6","IPv6","isIPv6","isIPv4MappedAddress","extractMappedIpv4","Object","enumerable","get","isPrivate","isLocalhost","isReserved","isSpecial","localhost","ipv4","ipv6","private","reserved","ipv4ToLong","isIPv4","octets","parseInt","checks_1","map","addressLong","some","check","createLongChecker","subnetAddress","prefixLengthString","prefixLength","Number","isInteger","subnetLong","specialNetsCache","ipRange_1","dot","mappedIpv4","colon","doubleColon","getIpv6Segments","test","matches","match","prefix","parts","x","toString","mappedIpv4ToIpv6","beforeChunk","afterChunk","beforeParts","afterParts","missingSegments","concat","segments","createSegmentChecker","subnetSegments","i","bitCount","Math","min","addressSegments","Boolean","v4Seg","v4Str","IPv4Reg","RegExp","v6Seg","IPv6Reg","s","expandIPv6","ipaddr","ipv4Part","ipv4Regexes","ipv6Part","ipv6Regexes","matchCIDR","zoneIndex","module","this","first","second","partSize","cidrBits","part","shift","subnetMatch","rangeList","defaultName","k","len","rangeName","rangeSubnets","kind","apply","octet","prototype","join","toNormalizedString","toByteArray","slice","other","cidrRange","ref","SpecialRanges","unspecified","broadcast","multicast","linkLocal","loopback","carrierGradeNat","range","toIPv4MappedAddress","parse","prefixLengthFromSubnetMask","cidr","stop","zeros","zerotable","fourOctet","longValue","parser","string","parseIntAuto","value","results","reverse","zoneId","l","replace","toRFC5952String","bestMatchIndex","bestMatchLength","regex","exec","index","substring","bytes","addr","suffix","call","toFixedLengthString","padStart","uniqueLocal","ipv4Mapped","rfc6145","rfc6052","teredo","toIPv4Address","high","low","transitional","colonCount","lastColon","replacement","replacementCount","indexOf","lastIndexOf","substr","isValid","error1","isValidFourPartDecimal","parseCIDR","maskLength","parsed","defineProperty","subnetMaskFromPrefixLength","filledOctetCount","j","floor","pow","broadcastAddressFromCIDR","ipInterfaceOctets","subnetMaskOctets","networkAddressFromCIDR","fromByteArray","process","normalize","a","_validate","nh","toLowerCase","sections","n","h","ns","hs","undefined","_leftPad","abbreviate","zPreviousFlag","zeroStartIndex","zeroLength","zStartIndex","zLength","section","zFlag","splice","d","p","padding","repeat","_bin2hex","bin","_addr2bin","binAddr","_bin2addr","binPart","hexSection","divideSubnet","mask0","mask1","limit","abbr","ret","binNetPart","binHostPart","numSubnets","binSubnet","hexAddr","binStartAddr","binEndAddr","start","end","size","randomSubnet","random","ptr","mask","version","err","isV4","isV6","isRange","inRange","check_range","ip6","range_data","parse_addr","parse_range","storeIP","displayIP","jQuery","document","on","wpmDataLayer","pixels","facebook","pixel_id","loaded","wpm","doesUrlContainPatterns","exclusion_patterns","canIFire","loadFacebookPixel","event","payload","fbq","custom_data","eventID","event_id","error","console","setFbUserData","eventData","capi","blob","Blob","JSON","stringify","type","navigator","sendBeacon","root","e","$","fbUserData","fbeventsJsUrl","searchParams","URLSearchParams","window","location","search","has","fbevents_js_url","f","b","v","callMethod","arguments","queue","_fbq","t","createElement","async","src","getElementsByTagName","parentNode","insertBefore","data","isFbpSet","isFbAdvancedMatchingEnabled","getUserIdentifiersForFb","user","id","raw","external_id","order","user_id","email","em","billing_email_hashed","first_name","fn","billing_first_name","last_name","ln","billing_last_name","phone","ph","billing_phone","city","ct","billing_city","state","st","billing_state","postcode","zp","billing_postcode","country","billing_country","getFbRandomEventId","getFbUserData","getFbUserDataFromBrowser","advanced_matching","getCookie","isValidFbp","fbp","isValidFbc","fbc","userAgent","client_user_agent","fbGetProductDataForCapiEvent","product","content_type","content_name","name","content_ids","dyn_r_ids","dynamic_remarketing","id_type","parseFloat","quantity","price","currency","facebookContentIds","prodIds","values","items","forEach","item","general","variationsOutput","variation_id","String","products","trackCustomFacebookEvent","eventName","customData","eventId","trigger","event_name","user_data","event_source_url","href","fbGetContentIdsFromCart","key","cart","require","canLoadPremiumFeatures","isEmptyObject","google","ads","conversionIds","status","googleConfigConditionsMet","isVariable","send_events_with_parent_ids","send_to","getGoogleAdsConversionIdentifiers","google_business_vertical","gtagLoaded","then","gtag","getGoogleAdsConversionIdentifiersWithLabel","value_filtered","getGoogleAdsRegularOrderItems","transaction_id","number","new_customer","clv_order_value_filtered","customer_lifetime_value","aw_merchant_id","discount","aw_feed_country","aw_feed_language","conversionIdentifiers","entries","keys","orderItems","orderItem","analytics","universal","property_id","mp_active","affiliation","value_regular","tax","shipping","coupon","getGAUAOrderItems","eec","ga3GetFullProductItemData","shop","getCartItemsGaUa","checkout_step","step","checkout_option","search_term","getSearchTermFromUrl","scrollEvent","threshold","phoneNumber","target","event_category","event_label","category","variant","variant_name","brand","ga3AddListNameToProduct","item_data","productPosition","list_name","list_position","ga3GetBasicProductItemData","ga3CanProductListBeSet","productId","sessionStorage","getItem","setItem","wpmProductListStore","includes","position","ga4","measurement_id","getGA4OrderItems","ga4GetFullProductItemData","item_list_name","item_list_id","list_id","getCartItemsGa4","cartValue","toFixed","item_name","item_category","item_id","item_variant","item_brand","ga4AddFormattedCategories","categories","from","Set","max","ga4GetBasicProductItemData","ga4AddListNameToProduct","canGoogleLoad","loadGoogle","logPreventedPixelLoading","consent_mode","active","getConsentValues","mode","getVisitorConsentStatusAndUpdateGoogleConsentSettings","google_consent_settings","analytics_storage","ad_storage","updateGoogleConsentMode","cookie_consent_mgmt","explicit_consent","fireGtagGoogleAds","enhanced_conversions","phone_conversion_label","phone_conversion_number","page_type","enhanced_conversion_data","fireGtagGoogleAnalyticsUA","parameters","fireGtagGoogleAnalyticsGA4","debug_mode","isGoogleActive","getGoogleGtagId","loadScriptAndCacheIt","script","textStatus","dataLayer","wait_for_update","region","ads_data_redaction","url_passthrough","linker","settings","Date","Promise","resolve","reject","startTime","wait","setTimeout","optimize","container_id","load_google_optimize_pixel","hotjar","site_id","load_hotjar_pixel","o","r","hj","q","_hjSettings","hjid","hjsv","appendChild","bing","uet_tag_id","load_bing_pixel","uetq","ecomm_pagetype","ecomm_prodid","getBingDataLayerProducts","ecomm_query","bing_purchase_ecomm_prodids","revenue_value","bing_purchase_items","w","u","ti","UET","onload","onreadystatechange","readyState","productIds","pinterest","loadPinterestPixel","pintrk","line_items","getPinterestProductData","urlParams","search_query","order_quantity","order_id","pinterestFormattedOrderItems","isVariation","product_name","product_variant_id","product_id","parentId_dyn_r_ids","product_category","product_variant","product_price","product_quantity","product_brand","pinterestLoadEvent","userLoggedIn","enhanced_match","enhanced_match_email","snapchat","loadSnapchatPixel","snaptr","item_ids","getSnapchatOrderItemIds","snapchatGetEmail","userInfo","sha256","user_hashed_email","handleRequest","contentIds","tiktok","loadTikTokPixel","ttq","track","properties","TiktokAnalyticsObject","methods","setAndDefer","instance","_i","load","_u","_t","_o","page","e164","identity","sha256_email","sha256_phone_number","identify","getTikTokOrderItemIds","content_id","getTikTokUserDataFromBrowser","isValidTtp","ttp","isValidTtclid","ad","url","referrer","startsWith","user_agent","ttclid","twitter","loadTwitterPixel","event_ids","add_to_cart","twq","contents","content_price","num_items","productData","view_content","add_to_wishlist","initiate_checkout","search_string","purchase","conversion_id","twitterGetOrderContentIds","exe","getComplianzCookies","cmplz_statistics","cmplz_marketing","visitorHasChosen","getCookieLawInfoCookies","analyticsCookie","adsCookie","wpmConsentValues","setConsentValueCategories","updateConsentCookieValues","cookie","explicitConsent","decodeURI","action","consents","statistics","marketing","thirdparty","advanced","localStorage","log","UC_UI","addEventListener","ucUiProcessConsent","areAllConsentsAccepted","groups","groupsObject","group","groupArray","pmw","consentAcceptAll","ucStatisticsSlug","getSettingsLabels","filter","label","slug","consentAdjustSelectively","getServicesBaseInfo","categorySlug","consent","setConsentDefaultValuesToExplicit","pixelName","canIFireMode","scriptTagObserver","MutationObserver","mutations","addedNodes","node","shouldScriptBeActive","unblockScript","blockScript","observe","head","childList","subtree","disconnect","element","scriptNode","removeAttach","remove","wpmSrc","attr","appendTo","dispatchEvent","Event","removeAttr","unblockAllScripts","unblockSelectedPixels","explicitConsentStateAlreadySet","Cookiebot","detail","cmplzStatusChange","cmplzConsentData","huObserver","querySelector","hu","documentElement","body","consentRevokeAll","OneTrust","reload","duration","consentSetCookie","setCookie","URL","currentTarget","getProductIdByCartItemKeyUrl","removeProductFromCart","checkoutButtonClasses","paymentMethodSelected","fireCheckoutProgress","fireCheckoutOption","val","doesWooCommerceCartExist","getCartItems","getAddToCartLinkProductIds","getProductsFromBackend","referrerHostname","hostname","host","wpmLoadFired","product_type","getMainProductIdFromProductPage","getProductDataForViewItemEvent","isOrderIdStored","writeOrderIdToStorage","acrRemoveCookie","hasLoginEventFired","setLoginEventFired","getRandomEventId","context","sendEventPayloadToServer","getCartValue","query","startIntersectionObserverToWatch","startProductsMutationObserverToWatch","addToCartSelectors","addProductToCart","each","find","classes","getPostIdFromString","one","closest","origin","nextAll","getIdBasedOndVariationsOutputSetting","getProductDetailsFormattedForEvent","isEmail","emailSelected","getCartItemsFromBackend","variation","triggerViewItemEventPrep","getAcrOrderDetails","deleteCookie","scrollTrackingThresholds","scrollVisibilityThreshold","scrollVisibilityThresholdStatus","obj","scrollPosition","scrollTop","height","direction","positionUnit","wpmDeduper","wpmRestSettings","checkCookie","useRestEndpoint","isSessionStorageAvailable","isRestEndpointAvailable","isBelowRestErrorThreshold","testEndpoint","cookieName","response","fetch","method","cache","keepalive","isWpmRestEndpointAvailable","orderId","orderKey","source","Storage","ids","expiresDate","setDate","getDate","toUTCString","storeOrderIdOnServer","orderDeduplication","quantityToRemove","parentId","saveCartObjectToDataLayer","ajax_url","ok","json","success","headers","pageId","pageType","responseData","assign","cartObject","triggerViewItemEvent","triggerViewItemEventNoProduct","triggerViewItemList","viewItemListTriggerTestMode","css","append","viewItemListTrigger","opacity","backgroundColor","io","ioTimeouts","observerCallback","observer","entry","elementId","next","isIntersecting","testMode","unobserve","timeout","clearTimeout","allIoElementsToWatch","ioid","getAllElementsToWatch","elem","parent","hasClass","prev","urlHasParameter","IntersectionObserver","productsNode","parents","productsMutationObserver","attributes","characterData","mutation","newNodes","hasWpmProductIdElement","siblings","cookieValue","expiryDays","setTime","getTime","expires","ca","decodeURIComponent","c","charAt","getWpmSessionData","setWpmSessionData","nonce_wp_rest","order_key","nonce_ajax","responseJson","cartItemKey","cartItemKeys","setReferrerToCookie","getReferrerFromCookie","getClidFromBrowser","clidCookieId","clidId","gclid","dclid","getUserAgent","getViewPort","width","clientWidth","innerWidth","clientHeight","innerHeight","options","dataType","ajax","getOrderItemPrice","total","total_tax","loginEventFired","pageLoaded","waitForVar","pageReady","isMiniCartActive","parameter","hashAsync","algo","str","crypto","subtle","digest","TextEncoder","encode","buf","Uint8Array","patterns","pattern","excludeDomainFromTracking","excludeDomains","domain","debug","pmwConsoleMessage","pro","distro","eligibleForUpdates","jQueryReadyFired","triggerDomReadyEvent","jQueryExists","waitForjQuery","wpmDataLayerExists","wpHooksExists","wp","hooks","loadWcHooksFunctions","server2server","ipCheck","credentials","message","catch","sendPayloadUsingFetch","acrOrderDetails","text","trim","pair","isOnBlacklist","ipName","getBlacklist","isCidr","customExclusionList","ipExcludeList","addAction","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","g","globalThis","Function","prop","hasOwnProperty","Symbol","toStringTag","main"],"sourceRoot":""}